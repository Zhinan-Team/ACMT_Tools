(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,t,a){e.exports=a("56d7")},"0185":function(e,t,a){"use strict";a("a187")},"023a":function(e,t,a){},"02f8":function(e,t,a){"use strict";a("52a4")},"0781":function(e,t,a){"use strict";a.r(t);var r=a("24ab"),n=a.n(r),i=a("83d6"),o=a.n(i),s=o.a.showSettings,l=o.a.tagsView,c=o.a.fixedHeader,u=o.a.sidebarLogo,d={theme:n.a.theme,showSettings:s,tagsView:l,fixedHeader:c,sidebarLogo:u},p={CHANGE_SETTING:function(e,t){var a=t.key,r=t.value;e.hasOwnProperty(a)&&(e[a]=r)}},m={changeSetting:function(e,t){var a=e.commit;a("CHANGE_SETTING",t)}};t["default"]={namespaced:!0,state:d,mutations:p,actions:m}},"095c":function(e,t,a){},"09a1":function(e,t,a){"use strict";a("0d10")},"0d10":function(e,t,a){},"0f57":function(e,t,a){"use strict";a("3758")},"0f9a":function(e,t,a){"use strict";a.r(t);var r=a("c7eb"),n=a("1da1"),i=(a("b0c0"),a("d3b7"),a("c24f")),o=a("5f87"),s=a("a18c"),l={token:Object(o["a"])(),name:"",avatar:"",introduction:"",roles:[],username:"",email:"",mobile:"",gender:"",dept_info:{dept_id:0,dept_name:""},role_info:[{id:0,name:""}],project_id:""},c={SET_TOKEN:function(e,t){e.token=t},SET_INTRODUCTION:function(e,t){e.introduction=t},SET_NAME:function(e,t){e.name=t},SET_AVATAR:function(e,t){e.avatar=t},SET_ROLES:function(e,t){e.roles=t},SET_PROJECT:function(e,t){e.project_id=t}},u={login:function(e,t){var a=e.commit;return new Promise((function(e,r){Object(i["e"])(t).then((function(t){a("SET_TOKEN",t.data.access),Object(o["c"])(t.data.access),e()})).catch((function(e){console.log("response",e),r(e)}))}))},updateUserInfo:function(e,t){e.state;return new Promise((function(e,a){Object(i["j"])(t).then((function(t){console.log("response",t.data),e(t.data)})).catch((function(e){a(e)}))}))},updatePassword:function(e,t){e.state;return new Promise((function(e,a){console.log("userPasswordInfo",t),Object(i["h"])(t).then((function(t){console.log("response",t.data),e(t.data)})).catch((function(e){a(e)}))}))},getInfo:function(e){var t=e.commit,a=e.state;return new Promise((function(e,r){Object(i["a"])(a.token).then((function(a){console.log("response",a.data),a.data||r("Verification failed, please Login again."),t("SET_NAME",a.data.username),e(a.data)})).catch((function(e){r(e)}))}))},logout:function(e){var t=e.commit,a=e.state,r=e.dispatch;return new Promise((function(e,n){Object(i["f"])(a.token).then((function(){t("SET_TOKEN",""),t("SET_ROLES",[]),Object(o["b"])(),Object(s["d"])(),r("tagsView/delAllViews",null,{root:!0}),e()})).catch((function(e){n(e)}))}))},setProject:function(e,t){var a=e.commit;a("SET_PROJECT",t)},resetToken:function(e){var t=e.commit;return new Promise((function(e){t("SET_TOKEN",""),t("SET_ROLES",[]),Object(o["b"])(),e()}))},changeRoles:function(e,t){return Object(n["a"])(Object(r["a"])().mark((function a(){var n,i,l,c,u,d;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,i=e.dispatch,l=t+"-token",n("SET_TOKEN",l),Object(o["c"])(l),a.next=6,i("getInfo");case 6:return c=a.sent,u=c.roles,Object(s["d"])(),a.next=11,i("permission/generateRoutes",u,{root:!0});case 11:d=a.sent,s["c"].addRoutes(d),i("tagsView/delAllViews",null,{root:!0});case 14:case"end":return a.stop()}}),a)})))()}};t["default"]={namespaced:!0,state:l,mutations:c,actions:u}},"0faf":function(e,t,a){"use strict";a("8ab7")},"10f2":function(e,t,a){},1628:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return n}));a("14d9"),a("b0c0"),a("d3b7"),a("159b");function r(e){var t=[];return e.forEach((function(e){var a={};e.parent?(a.id=e.id,a.parent=e.parent,a.path=e.web_path,a.componentTest=e.component_name,a.name=e.name,a.hidden=!e.visible,a.meta={title:e.name,icon:e.icon,noCache:e.cache,affix:e.is_affix}):(a.id=e.id,a.parent=e.parent,a.path=e.web_path,a.children=[{path:"index",componentTest:e.component_name,name:e.name,meta:{title:e.name,icon:e.icon,noCache:e.cache,affix:e.is_affix}}]),t.push(a)})),t}function n(e){for(var t={},a=0;a<e.length;a++){var r=e[a];t[r.id]=r}for(var n in t){var i=t[n];i.parent&&t[i.parent]&&(t[i.parent].children||(t[i.parent].children=[]),t[i.parent].children.push(i))}var o=[];for(var s in t){var l=t[s];l.parent||(l.children.length>1&&(l.meta=l.children[0].meta,l.children.shift()),o.push(l))}return o}},"173b":function(e,t,a){},"18c7":function(e,t,a){"use strict";a("f5a2")},1914:function(e,t,a){"use strict";a("cf69")},"1ea7":function(e,t,a){"use strict";a("ea20")},"20c3":function(e,t,a){"use strict";a("2367")},2367:function(e,t,a){},"24a3":function(e,t,a){},"24ab":function(e,t,a){e.exports={theme:"#1890ff"}},"279e":function(e,t,a){},2868:function(e,t,a){"use strict";a("fb76")},"2a2d":function(e,t,a){a("4de4"),a("14d9"),a("b0c0"),a("d3b7");for(var r=a("96eb"),n=[],i=100,o=0;o<i;o++)n.push(r.mock({name:"@first"}));n.push({name:"mock-Pan"}),e.exports=[{url:"/vue-element-admin/search/user",type:"get",response:function(e){var t=e.query.name,a=n.filter((function(e){var a=e.name.toLowerCase();return!(t&&a.indexOf(t.toLowerCase())<0)}));return{code:2e4,data:{items:a}}}},{url:"/vue-element-admin/transaction/list",type:"get",response:function(e){return{code:2e4,data:{total:20,"items|20":[{order_no:"@guid()",timestamp:+r.Random.date("T"),username:"@name()",price:"@float(1000, 15000, 0, 2)","status|1":["success","pending"]}]}}}}]},"2abb":function(e,t,a){"use strict";a("b747")},"2b29":function(e,t,a){"use strict";a("f6c3")},"2da1":function(e,t,a){},"2de9":function(e,t,a){"use strict";a("7f07")},"31c2":function(e,t,a){"use strict";a.r(t);a("99af"),a("d3b7");var r=a("a18c"),n={routes:[],addRoutes:[]},i={SET_ROUTES:function(e,t){e.addRoutes=t,e.routes=r["b"].concat(t)}},o={generateRoutes:function(e){var t=e.commit;return new Promise((function(e){var a=r["a"];t("SET_ROUTES",a),e(n.routes)}))}};t["default"]={namespaced:!0,state:n,mutations:i,actions:o}},"331a":function(e,t){var a={admin:{token:"admin-token"},editor:{token:"editor-token"}},r={"admin-token":{roles:["admin"],introduction:"I am a super administrator",avatar:"https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif",name:"Super Admin"},"editor-token":{roles:["editor"],introduction:"I am an editor",avatar:"https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif",name:"Normal Editor"}};e.exports=[{url:"/vue-element-admin/user/login",type:"post",response:function(e){var t=e.body.username,r=a[t];return r?{code:2e4,data:r}:{code:60204,message:"Account and password are incorrect."}}},{url:"/vue-element-admin/user/info.*",type:"get",response:function(e){var t=e.query.token,a=r[t];return a?{code:2e4,data:a}:{code:50008,message:"Login failed, unable to get user details."}}},{url:"/vue-element-admin/user/logout",type:"post",response:function(e){return{code:2e4,data:"success"}}}]},"33a0":function(e,t,a){},3629:function(e,t,a){"use strict";a("d00f")},"365c":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r="http://10.11.54.52:9000/"},3758:function(e,t,a){},"38e4":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddProject}},[e._v("New Project")])],1),a("el-row",[a("el-table",{staticStyle:{width:"100%","margin-top":"30px","max-height":"300px","overflow-y":"auto"},attrs:{data:e.projectsList,border:""}},[a("el-table-column",{attrs:{align:"center",label:"Project Name",width:"320"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{cursor:"pointer",color:"grey","text-decoration":"underline"},on:{click:function(a){return e.handleClick(t.row)}}},[e._v(" "+e._s(t.row.name)+" ")])]}}])}),a("el-table-column",{attrs:{align:"center",label:"Created",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.created)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"Last Updated",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.last_updated)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"Status",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.status)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",fixed:"right",width:"420",label:"Operations"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleEdit(t)}}},[e._v("Edit")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleClone(t)}}},[e._v("Clone")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleGenerate(t)}}},[e._v("Generate")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.handleDelete(t)}}},[e._v("Delete")])]}}])})],1)],1),a("el-row",[a("el-pagination",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper",total:e.total,"page-size":e.pageSize,"page-sizes":[20,50,100,200],"current-page":e.currentPage},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-dialog",{attrs:{visible:e.dialogVisible,title:"edit"===e.dialogType?"Edit Project":"New Project"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.project,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"Name"}},[a("el-input",{attrs:{placeholder:"Project Name"},model:{value:e.project.name,callback:function(t){e.$set(e.project,"name",t)},expression:"project.name"}})],1)],1),a("div",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmProject}},[e._v("Confirm")])],1)],1)],1)},n=[],i=a("c7eb"),o=a("1da1"),s=(a("14d9"),a("a434"),a("b0c0"),a("d3b7"),a("ed08")),l=a("3835"),c=(a("99af"),a("4de4"),a("a15b"),a("d81d"),a("4fad"),a("b775")),u=a("365c"),d=u["a"]+"api/system/project/";function p(e){var t=Object.entries(e).filter((function(e){var t=Object(l["a"])(e,2),a=(t[0],t[1]);return null!==a&&""!==a})).map((function(e){var t=Object(l["a"])(e,2),a=t[0],r=t[1];return"".concat(a,"=").concat(encodeURIComponent(r))})).join("&"),a=d+(t?"?".concat(t):"");return Object(c["a"])({url:a,method:"get",query:e})}function m(e){return Object(c["a"])({url:d,method:"post",data:e})}function f(e){return Object(c["a"])({url:d+e.id+"/",method:"put",data:e})}function h(e){return Object(c["a"])({url:d+e+"/",method:"delete",data:{id:e}})}function v(e){var t=Object.entries(e).filter((function(e){var t=Object(l["a"])(e,2),a=(t[0],t[1]);return null!==a&&""!==a})).map((function(e){var t=Object(l["a"])(e,2),a=t[0],r=t[1];return"".concat(a,"=").concat(encodeURIComponent(r))})).join("&"),a=d+"run_notebook/"+(t?"?".concat(t):"");return Object(c["a"])({url:a,method:"post",query:e})}function g(e){var t=Object.entries(e).filter((function(e){var t=Object(l["a"])(e,2),a=(t[0],t[1]);return null!==a&&""!==a})).map((function(e){var t=Object(l["a"])(e,2),a=t[0],r=t[1];return"".concat(a,"=").concat(encodeURIComponent(r))})).join("&"),a=d+"check_status/"+(t?"?".concat(t):"");return Object(c["a"])({url:a,method:"get",query:e})}var b=a("c22a"),_={key:"",name:"",description:""},y={data:function(){return{project:Object.assign({},_),routes:[],rawroutes:[],projectsList:[],checkList:[],dialogVisible:!1,dialogPremissionVisible:!1,dialogType:"new",checkStrictly:!1,defaultProps:{children:"children",label:"label"},total:0,pageSize:20,currentPage:1,dataForGet:{page:"",limit:"",project_id:1,ordering:"id",ata:"",guid:"",state:"",attributes:"",name:"",sample_frame:"",sample_rate:"",updated_timeout:null,record_rate:"",recording_data_group:"",global_guid:""}}},created:function(){var e=this;this.$store.dispatch("user/getInfo").then((function(t){e.getProjects({page:1,limit:20,user_id:t.id})}))},methods:{fetchDataByPage:function(){this.getProjects({page:this.currentPage,limit:this.pageSize})},handleClick:function(e){var t=this;return Object(o["a"])(Object(i["a"])().mark((function a(){return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.dataForGet.project_id=e.id,t.$store.dispatch("user/setProject",e.id),a.next=4,Object(b["a"])(t.dataForGet);case 4:a.sent,t.$router.push("/parametersbus/index");case 6:case"end":return a.stop()}}),a)})))()},handleSizeChange:function(e){this.pageSize=e,this.fetchDataByPage()},handleCurrentChange:function(e){this.currentPage=e,this.fetchDataByPage()},getProjects:function(e){var t=this;return Object(o["a"])(Object(i["a"])().mark((function a(){var r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,p(e);case 2:r=a.sent,t.projectsList=r.data,t.total=r.total;case 5:case"end":return a.stop()}}),a)})))()},addProject:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m(e.dataForAdd1);case 2:a=t.sent,console.log("post:",a);case 4:case"end":return t.stop()}}),t)})))()},updateProject:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f(e.dataForUpload);case 2:a=t.sent,console.log("put:",a);case 4:case"end":return t.stop()}}),t)})))()},handleAddProject:function(){this.project=Object.assign({},_),this.dialogType="new",this.dialogVisible=!0},handleEdit:function(e){this.dialogType="edit",this.dialogVisible=!0,this.checkStrictly=!0,this.project=Object(s["b"])(e.row)},handleClone:function(e){var t=this;return Object(o["a"])(Object(i["a"])().mark((function a(){return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$confirm("Confirm to clone the project?","Warning",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then(Object(o["a"])(Object(i["a"])().mark((function a(){return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,m(e.row);case 2:t.projectsList.push(e.row),t.getProjects({page:t.currentPage,limit:t.pageSize}),t.$message({type:"success",message:"Clone successd!"});case 5:case"end":return a.stop()}}),a)})))).catch((function(e){console.error(e)}));case 1:case"end":return a.stop()}}),a)})))()},handleGenerate:function(e){var t=this;return Object(o["a"])(Object(i["a"])().mark((function a(){return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$confirm("Confirm to generate the JSON file of this project?","Warning",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then(Object(o["a"])(Object(i["a"])().mark((function a(){var r,n,o,s;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v({project:e.row.id});case 3:r=a.sent,n=r.data.task_id;case 5:return a.next=7,g({task_id:n});case 7:return o=a.sent,"running"===o.data.status&&(s=o.data.run_time,console.log("The task is running, with a runtime of ".concat(s," seconds")),t.$message({type:"info",message:"The task is running, with a runtime of ".concat(s," seconds")})),a.next=11,new Promise((function(e){return setTimeout(e,5e3)}));case 11:if("running"===o.data.status){a.next=5;break}case 12:"completed"===o.data.status?("11145_update.json",o.data.output_file,t.$message({type:"success",message:'Execution completed. Please check the file at the path "/Users/congzheng/Desktop/ICD/ICDScript".'})):(console.error("Failed:",o.data.error),t.$message.error("Failed: ".concat(o.data.error))),a.next=19;break;case 15:a.prev=15,a.t0=a["catch"](0),console.error(a.t0),t.$message.error("An error occurred during the processing");case 19:case"end":return a.stop()}}),a,null,[[0,15]])})))).catch((function(e){console.error(e)}));case 1:case"end":return a.stop()}}),a)})))()},handleDelete:function(e){var t=this,a=e.$index,r=e.row;this.$confirm("Confirm to remove the project?","Warning",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then(Object(o["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h(r.id);case 2:t.projectsList.splice(a,1),t.getProjects({page:t.currentPage,limit:t.pageSize}),t.$message({type:"success",message:"Delete successd!"});case 5:case"end":return e.stop()}}),e)})))).catch((function(e){console.error(e)}))},confirmProject:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a,r,n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a="edit"===e.dialogType,!a){t.next=14;break}return t.next=4,f(e.project);case 4:r=0;case 5:if(!(r<e.projectsList.length)){t.next=12;break}if(e.projectsList[r].key!==e.project.key){t.next=9;break}return e.projectsList.splice(r,1,Object.assign({},e.project)),t.abrupt("break",12);case 9:r++,t.next=5;break;case 12:t.next=15;break;case 14:e.projectsList.push(e.project);case 15:e.getProjects({page:e.currentPage,limit:e.pageSize}),n=e.project.name,e.dialogVisible=!1,e.$notify({title:"Success",dangerouslyUseHTMLString:!0,message:"\n            <div>Project Name: ".concat(n,"</div>\n          "),type:"success"});case 19:case"end":return t.stop()}}),t)})))()}}},x=y,w=(a("5c8a"),a("2877")),S=Object(w["a"])(x,r,n,!1,null,"0f3dd400",null);t["default"]=S.exports},"3a82":function(e,t,a){"use strict";a("10f2")},4360:function(e,t,a){"use strict";a("d3b7"),a("ac1f"),a("5319"),a("ddb0");var r=a("2b0e"),n=a("2f62"),i=(a("b0c0"),{sidebar:function(e){return e.app.sidebar},size:function(e){return e.app.size},device:function(e){return e.app.device},token:function(e){return e.user.token},avatar:function(e){return e.user.avatar},name:function(e){return e.user.name},project_id:function(e){return e.user.project_id},introduction:function(e){return e.user.introduction},roles:function(e){return e.user.roles},permission_routes:function(e){return e.permission.routes},errorLogs:function(e){return e.errorLog.logs},parameters:function(e){return e.parametersNew.parameters},parametersR:function(e){return e.parametersNew.parametersR},derivedParameters:function(e){return e.derivedParameters.parameters}}),o=i,s=a("8b4f"),l=a("753a"),c=a("fa53"),u=a("8bf6"),d=a("652c");r["default"].use(n["a"]);var p=a("c653"),m=p.keys().reduce((function(e,t){var a=t.replace(/^\.\/(.*)\.\w+$/,"$1"),r=p(t);return e[a]=r.default,e}),{}),f=new n["a"].Store({modules:m,getters:o,parameters:s["default"],rules:l["default"],tasks:c["default"],parametersNew:u["default"],derivedParameters:d["default"]});t["a"]=f},4392:function(e,t,a){},"4b0f":function(e,t,a){var r=a("63748").default,n=a("448a").default;a("99af"),a("b64b"),a("4d63"),a("c607"),a("ac1f"),a("2c3e"),a("25f0");var i=a("96eb"),o=a("8a60"),s=o.param2Obj,l=a("331a"),c=a("f3d6"),u=a("a109"),d=a("2a2d"),p=[].concat(n(l),n(c),n(u),n(d));function m(){function e(e){return function(t){var a=null;if(e instanceof Function){var r=t.body,n=t.type,o=t.url;a=e({method:n,body:JSON.parse(r),query:s(o)})}else a=e;return i.mock(a)}}i.XHR.prototype.proxy_send=i.XHR.prototype.send,i.XHR.prototype.send=function(){this.custom.xhr&&(this.custom.xhr.withCredentials=this.withCredentials||!1,this.responseType&&(this.custom.xhr.responseType=this.responseType)),this.proxy_send.apply(this,arguments)};var t,a=r(p);try{for(a.s();!(t=a.n()).done;){var n=t.value;i.mock(new RegExp(n.url),n.type||"get",e(n.response))}}catch(o){a.e(o)}finally{a.f()}}e.exports={mocks:p,mockXHR:m}},"4bf0":function(e,t,a){},"4d27":function(e,t,a){"use strict";a("bae7")},"4d49":function(e,t,a){"use strict";a.r(t);a("14d9"),a("a434");var r={logs:[]},n={ADD_ERROR_LOG:function(e,t){e.logs.push(t)},CLEAR_ERROR_LOG:function(e){e.logs.splice(0)}},i={addErrorLog:function(e,t){var a=e.commit;a("ADD_ERROR_LOG",t)},clearErrorLog:function(e){var t=e.commit;t("CLEAR_ERROR_LOG")}};t["default"]={namespaced:!0,state:r,mutations:n,actions:i}},5090:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a("53ca");a("b64b");function n(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=0;while(n<a){try{if(t=JSON.parse(e),"object"===Object(r["a"])(t)&&null!==t)return t}catch(i){}n++}return null}},"52a4":function(e,t,a){},"56d0":function(e,t,a){"use strict";a("c98d")},"56d7":function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"parseTime",(function(){return M["d"]})),a.d(r,"formatTime",(function(){return M["c"]})),a.d(r,"timeAgo",(function(){return B})),a.d(r,"numberFormatter",(function(){return U})),a.d(r,"toThousandFilter",(function(){return z})),a.d(r,"uppercaseFirst",(function(){return H}));a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("4de4"),a("b64b"),a("d3b7"),a("159b");var n=a("2b0e"),i=a("a78e"),o=a.n(i),s=(a("f5df1"),a("5c96")),l=a.n(s),c=(a("24ab"),a("b2d6")),u=a.n(c),d=(a("b20f"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)}),p=[],m={name:"App"},f=m,h=a("2877"),v=Object(h["a"])(f,d,p,!1,null,null,null),g=v.exports,b=a("4360"),_=a("a18c"),y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isExternal?a("div",e._g({staticClass:"svg-external-icon svg-icon",style:e.styleExternalIcon},e.$listeners)):a("svg",e._g({class:e.svgClass,attrs:{"aria-hidden":"true"}},e.$listeners),[a("use",{attrs:{"xlink:href":e.iconName}})])},x=[],w=a("61f7"),S={name:"SvgIcon",props:{iconClass:{type:String,required:!0},className:{type:String,default:""}},computed:{isExternal:function(){return Object(w["b"])(this.iconClass)},iconName:function(){return"#icon-".concat(this.iconClass)},svgClass:function(){return this.className?"svg-icon "+this.className:"svg-icon"},styleExternalIcon:function(){return{mask:"url(".concat(this.iconClass,") no-repeat 50% 50%"),"-webkit-mask":"url(".concat(this.iconClass,") no-repeat 50% 50%")}}}},k=S,O=(a("2b29"),Object(h["a"])(k,y,x,!1,null,"f9f7fefc",null)),C=O.exports;n["default"].component("svg-icon",C);var T=a("c7eb"),E=a("1da1"),j=(a("caad"),a("2532"),a("323e")),R=a.n(j),P=(a("a5d8"),a("99af"),a("83d6")),D=a.n(P),$=D.a.title||"ACMT";function F(e){return e?"".concat(e," - ").concat($):"".concat($)}var A=a("7ded"),I=a("1628");R.a.configure({showSpinner:!1}),_["c"].beforeEach(function(){var e=Object(E["a"])(Object(T["a"])().mark((function e(t,a,r){var n,i,o,s,l,c,u;return Object(T["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(R.a.start(),document.title=F(t.meta.title),n="admin-token",!n){e.next=18;break}return r(),e.next=7,Object(A["a"])();case 7:return i=e.sent,s=_["c"].currentRoute.fullPath,o=s&&(s.includes("projectManagement")||s.includes("userManagement"))?i.data.filter((function(e){return 12===e.id||13===e.id||14===e.id})):i.data.filter((function(e){return 12!==e.id&&13!==e.id&&14!==e.id})),l=Object(I["a"])(o),c=Object(I["b"])(l),b["a"].commit("permission/SET_ROUTES",c),Object(_["d"])(c),e.next=16,b["a"].dispatch("permission/generateRoutes");case 16:u=e.sent,_["c"].addRoutes(u);case 18:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()),_["c"].afterEach((function(){R.a.done()}));var N=D.a.errorLog;function L(){var e="production";return Object(w["c"])(N)?e===N:!!Object(w["a"])(N)&&N.includes(e)}L()&&(n["default"].config.errorHandler=function(e,t,a,r){n["default"].nextTick((function(){b["a"].dispatch("errorLog/addErrorLog",{err:e,vm:t,info:a,url:window.location.href}),console.error(e,a)}))});a("fb6a"),a("a9e3"),a("b680"),a("ac1f"),a("25f0"),a("5319");var M=a("ed08");function V(e,t){return 1===e?e+t:e+t+"s"}function B(e){var t=Date.now()/1e3-Number(e);return t<3600?V(~~(t/60)," minute"):t<86400?V(~~(t/3600)," hour"):V(~~(t/86400)," day")}function U(e,t){for(var a=[{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"G"},{value:1e6,symbol:"M"},{value:1e3,symbol:"k"}],r=0;r<a.length;r++)if(e>=a[r].value)return(e/a[r].value).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+a[r].symbol;return e.toString()}function z(e){return(+e||0).toString().replace(/^-?\d+/g,(function(e){return e.replace(/(?=(?!\b)(\d{3})+$)/g,",")}))}function H(e){return e.charAt(0).toUpperCase()+e.slice(1)}var q=a("1dce"),G=a.n(q),W=(a("def6"),a("cee4"));n["default"].use(G.a),W["a"].defaults.baseURL="http://10.11.54.52:9000",n["default"].prototype.$axios=W["a"];var J=a("4b0f"),K=J.mockXHR;K(),n["default"].use(l.a,{size:o.a.get("size")||"mini",locale:u.a}),Object.keys(r).forEach((function(e){n["default"].filter(e,r[e])})),n["default"].config.productionTip=!1,new n["default"]({el:"#app",router:_["c"],beforeCreate:function(){n["default"].prototype.$bus=this},store:b["a"],render:function(e){return e(g)}})},5790:function(e,t,a){"use strict";a("d734")},"5ae7":function(e,t,a){"use strict";a("023a")},"5bbd":function(e,t,a){},"5c8a":function(e,t,a){"use strict";a("173b")},"5efb":function(e,t,a){},"5f87":function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return l}));var r=a("a78e"),n=a.n(r),i="Admin-Token";function o(){return n.a.get(i)}function s(e){return n.a.set(i,e)}function l(){return n.a.remove(i)}},6056:function(e,t,a){},"61f7":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return i}));a("d3b7"),a("ac1f"),a("00b4"),a("25f0"),a("498a");function r(e){return/^(https?:|mailto:|tel:)/.test(e)}function n(e){return"string"===typeof e||e instanceof String}function i(e){return"undefined"===typeof Array.isArray?"[object Array]"===Object.prototype.toString.call(e):Array.isArray(e)}},"652c":function(e,t,a){"use strict";a.r(t);var r=a("5530"),n={parameters:{calculation_standard:{},calculation_conditional:{},calculation_reversion:{},calculation_source_selection:{},calculation_rolling_average:{},calculation_valid_average:{}}},i={SET_PARAMETER_FORM:function(e,t){e.parameters=Object(r["a"])(Object(r["a"])({},e.parameters),t)},SET_STANDARD_FORM:function(e,t){e.parameters.calculation_standard=Object(r["a"])(Object(r["a"])({},e.parameters.calculation_standard),t)},SET_CONDITIONAL_FORM:function(e,t){e.parameters.calculation_conditional=Object(r["a"])(Object(r["a"])({},e.parameters.calculation_conditional),t)},SET_REVERSION_FORM:function(e,t){e.parameters.calculation_reversion=Object(r["a"])(Object(r["a"])({},e.parameters.calculation_reversion),t)},SET_SELECTION_FORM:function(e,t){e.parameters.calculation_source_selection=Object(r["a"])(Object(r["a"])({},e.parameters.calculation_source_selection),t)},SET_ROLLING_AVERAGE_FORM:function(e,t){e.parameters.calculation_rolling_average=Object(r["a"])(Object(r["a"])({},e.parameters.calculation_rolling_average),t)},SET_VALID_AVERAGE_FORM:function(e,t){e.parameters.calculation_valid_average=Object(r["a"])(Object(r["a"])({},e.parameters.calculation_valid_average),t)},CLEAR_PARAMETERS:function(e){e.parameters.calculation_standard={},e.parameters.calculation_conditional={},e.parameters.calculation_source_selection={},e.parameters.calculation_reversion={},e.parameters.calculation_rolling_average={},e.parameters.calculation_valid_average={}}},o={updateParameterForm:function(e,t){var a=e.commit;a("SET_PARAMETER_FORM",t)},updateStandardForm:function(e,t){var a=e.commit;a("SET_STANDARD_FORM",t)},updateConditionalForm:function(e,t){var a=e.commit;a("SET_CONDITIONAL_FORM",t)},updateReversionForm:function(e,t){var a=e.commit;a("SET_REVERSION_FORM",t)},updateSelectionForm:function(e,t){var a=e.commit;a("SET_SELECTION_FORM",t)},updateRollingAverageForm:function(e,t){var a=e.commit;a("SET_ROLLING_AVERAGE_FORM",t)},updateValidAverageForm:function(e,t){var a=e.commit;a("SET_VALID_AVERAGE_FORM",t)},clearParameters:function(e){var t=e.commit;t("CLEAR_PARAMETERS")}};t["default"]={namespaced:!0,state:n,mutations:i,actions:o}},6769:function(e,t,a){"use strict";a("de06")},7403:function(e,t,a){"use strict";a("33a0")},7509:function(e,t,a){"use strict";a.r(t);var r=a("2909"),n=a("3835"),i=a("b85c"),o=(a("4de4"),a("caad"),a("14d9"),a("fb6a"),a("a434"),a("b0c0"),a("d3b7"),a("2532"),a("ddb0"),{visitedViews:[],cachedViews:[]}),s={ADD_VISITED_VIEW:function(e,t){e.visitedViews.some((function(e){return e.path===t.path}))||e.visitedViews.push(Object.assign({},t,{title:t.meta.title||"no-name"}))},ADD_CACHED_VIEW:function(e,t){e.cachedViews.includes(t.name)||t.meta.noCache||e.cachedViews.push(t.name)},DEL_VISITED_VIEW:function(e,t){var a,r=Object(i["a"])(e.visitedViews.entries());try{for(r.s();!(a=r.n()).done;){var o=Object(n["a"])(a.value,2),s=o[0],l=o[1];if(l.path===t.path){e.visitedViews.splice(s,1);break}}}catch(c){r.e(c)}finally{r.f()}},DEL_CACHED_VIEW:function(e,t){var a=e.cachedViews.indexOf(t.name);a>-1&&e.cachedViews.splice(a,1)},DEL_OTHERS_VISITED_VIEWS:function(e,t){e.visitedViews=e.visitedViews.filter((function(e){return e.meta.affix||e.path===t.path}))},DEL_OTHERS_CACHED_VIEWS:function(e,t){var a=e.cachedViews.indexOf(t.name);e.cachedViews=a>-1?e.cachedViews.slice(a,a+1):[]},DEL_ALL_VISITED_VIEWS:function(e){var t=e.visitedViews.filter((function(e){return e.meta.affix}));e.visitedViews=t},DEL_ALL_CACHED_VIEWS:function(e){e.cachedViews=[]},UPDATE_VISITED_VIEW:function(e,t){var a,r=Object(i["a"])(e.visitedViews);try{for(r.s();!(a=r.n()).done;){var n=a.value;if(n.path===t.path){n=Object.assign(n,t);break}}}catch(o){r.e(o)}finally{r.f()}}},l={addView:function(e,t){var a=e.dispatch;a("addVisitedView",t),a("addCachedView",t)},addVisitedView:function(e,t){var a=e.commit;a("ADD_VISITED_VIEW",t)},addCachedView:function(e,t){var a=e.commit;a("ADD_CACHED_VIEW",t)},delView:function(e,t){var a=e.dispatch,n=e.state;return new Promise((function(e){a("delVisitedView",t),a("delCachedView",t),e({visitedViews:Object(r["a"])(n.visitedViews),cachedViews:Object(r["a"])(n.cachedViews)})}))},delVisitedView:function(e,t){var a=e.commit,n=e.state;return new Promise((function(e){a("DEL_VISITED_VIEW",t),e(Object(r["a"])(n.visitedViews))}))},delCachedView:function(e,t){var a=e.commit,n=e.state;return new Promise((function(e){a("DEL_CACHED_VIEW",t),e(Object(r["a"])(n.cachedViews))}))},delOthersViews:function(e,t){var a=e.dispatch,n=e.state;return new Promise((function(e){a("delOthersVisitedViews",t),a("delOthersCachedViews",t),e({visitedViews:Object(r["a"])(n.visitedViews),cachedViews:Object(r["a"])(n.cachedViews)})}))},delOthersVisitedViews:function(e,t){var a=e.commit,n=e.state;return new Promise((function(e){a("DEL_OTHERS_VISITED_VIEWS",t),e(Object(r["a"])(n.visitedViews))}))},delOthersCachedViews:function(e,t){var a=e.commit,n=e.state;return new Promise((function(e){a("DEL_OTHERS_CACHED_VIEWS",t),e(Object(r["a"])(n.cachedViews))}))},delAllViews:function(e,t){var a=e.dispatch,n=e.state;return new Promise((function(e){a("delAllVisitedViews",t),a("delAllCachedViews",t),e({visitedViews:Object(r["a"])(n.visitedViews),cachedViews:Object(r["a"])(n.cachedViews)})}))},delAllVisitedViews:function(e){var t=e.commit,a=e.state;return new Promise((function(e){t("DEL_ALL_VISITED_VIEWS"),e(Object(r["a"])(a.visitedViews))}))},delAllCachedViews:function(e){var t=e.commit,a=e.state;return new Promise((function(e){t("DEL_ALL_CACHED_VIEWS"),e(Object(r["a"])(a.cachedViews))}))},updateVisitedView:function(e,t){var a=e.commit;a("UPDATE_VISITED_VIEW",t)}};t["default"]={namespaced:!0,state:o,mutations:s,actions:l}},"753a":function(e,t,a){"use strict";a.r(t);a("14d9");var r={ruletotask:[],totalRule:[],saveRuleProperty:{},saveRuleConditions:[],saveRuleSpan:[],rulePageShow:0,ruleInfoEach:{},ruleTaskLibrary:[],ruleTaskRelated:[],ruleJudge:0,computeStr:"",judgeRoot:0},n={judgeRoot:function(e,t){e.judgeRoot=t},ruleChange2:function(e,t){e.totalRule.push(t)},saveRuleProperty:function(e,t){e.saveRuleProperty=t},saveRuleConditions:function(e,t){e.saveRuleConditions=t},saveRuleSpan:function(e,t){e.saveRuleSpan=t},rulePageShow:function(e,t){e.rulePageShow=t},ruleChange1:function(e,t){e.totalRule=t},ruletotask:function(e,t){e.ruletotask=t},ruleJudge:function(e,t){e.ruleJudge=t},computeStr:function(e,t){e.computeStr=t},ruleInfoEach:function(e,t){e.ruleInfoEach=t},libraryToRelated1:function(e,t){e.ruleTaskLibrary=t},libraryToRelated2:function(e,t){e.ruleTaskRelated.push(t)},relatedTolibrary1:function(e,t){e.ruleTaskRelated=t},relatedTolibrary2:function(e,t){e.ruleTaskLibrary.push(t)}};t["default"]={namespaced:!0,state:r,mutations:n}},"76c3":function(e,t,a){},"78b6":function(e,t,a){},"7ae2":function(e,t,a){},"7b0a":function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return n}));a("14d9"),a("ac1f"),a("00b4"),a("5319"),a("4360");function r(e){for(var t=e,a=t.split(""),r=[],n=0;n<a.length;n++)if("("==a[n]||"["==a[n]||"{"==a[n])r.push(a[n]);else{if(")"==a[n]&&"("!=r.pop())return!1;if("]"==a[n]&&"["!=r.pop())return!1;if("}"==a[n]&&"{"!=r.pop())return!1}return 0==r.length}function n(e){var t=e,a=t.replace(/\s/g,"");if(/[\+\-\*\/]{2,}/.test(a))return console.log("错误情况，运算符连续"),!1;if(/\([\+\-\*\/]/.test(a))return console.log("错误情况，(后面是运算符"),!1;if(/[\+\-\*\/]\)/.test(a))return console.log("错误情况，)前面是运算符"),!1;if(/\)[^\+\-\*\/]/.test(a))return console.log("错误情况，)后面不是运算符"),!1;t=a.replace(/[\(\)\+\-\*\=/]{1,}/g,"`");t.split("`");return!0}},"7c65":function(e,t,a){"use strict";a("5bbd")},"7ded":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var r=a("b775"),n=a("365c");n["a"];function i(e){return Object(r["a"])({url:n["a"]+"api/system/menu/web_router/",method:"get",params:e})}},"7f07":function(e,t,a){},"81c9":function(e,t,a){"use strict";a("994d")},8303:function(e,t,a){(function(t){var r=a("7037").default;a("b0c0"),a("ac1f"),a("00b4"),a("5319"),a("c73d");var n="object"===("undefined"===typeof window?"undefined":r(window))&&window.window===window?window:"object"===("undefined"===typeof self?"undefined":r(self))&&self.self===self?self:"object"===("undefined"===typeof t?"undefined":r(t))&&t.global===t?t:this;function i(e,t){return"undefined"===typeof t?t={autoBom:!1}:"object"!==r(t)&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}function o(e,t,a){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){u(r.response,t,a)},r.onerror=function(){console.error("could not download file")},r.send()}function s(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(a){console.log(a)}return t.status>=200&&t.status<=299}function l(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(a){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var c=n.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=n.saveAs||("object"!==("undefined"===typeof window?"undefined":r(window))||window!==n?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(e,t,a){var r=n.URL||n.webkitURL,i=document.createElementNS("http://www.w3.org/1999/xhtml","a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"===typeof e?(i.href=e,i.origin!==location.origin?s(i.href)?o(e,t,a):l(i,i.target="_blank"):l(i)):(i.href=r.createObjectURL(e),setTimeout((function(){r.revokeObjectURL(i.href)}),4e4),setTimeout((function(){l(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,a){if(t=t||e.name||"download","string"===typeof e)if(s(e))o(e,t,a);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout((function(){l(r)}))}else navigator.msSaveOrOpenBlob(i(e,a),t)}:function(e,t,a,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),"string"===typeof e)return o(e,t,a);var i="application/octet-stream"===e.type,s=/constructor/i.test(n.HTMLElement)||n.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&s||c)&&"undefined"!==typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},u.readAsDataURL(e)}else{var d=n.URL||n.webkitURL,p=d.createObjectURL(e);r?r.location=p:location.href=p,r=null,setTimeout((function(){d.revokeObjectURL(p)}),4e4)}});n.saveAs=u.saveAs=u,e.exports=u}).call(this,a("c8ba"))},"83d6":function(e,t){e.exports={title:"ACMT",showSettings:!0,tagsView:!0,fixedHeader:!1,sidebarLogo:!1,errorLog:"production"}},8467:function(e,t,a){},"85ca":function(e,t,a){"use strict";a("24a3")},8770:function(e,t,a){"use strict";a("4bf0")},"87af":function(e,t,a){"use strict";a("6056")},"8a60":function(e,t,a){var r=a("7037").default;function n(e){var t=decodeURIComponent(e.split("?")[1]).replace(/\+/g," ");if(!t)return{};var a={},r=t.split("&");return r.forEach((function(e){var t=e.indexOf("=");if(-1!==t){var r=e.substring(0,t),n=e.substring(t+1,e.length);a[r]=n}})),a}function i(e){if(!e&&"object"!==r(e))throw new Error("error arguments","deepClone");var t=e.constructor===Array?[]:{};return Object.keys(e).forEach((function(a){e[a]&&"object"===r(e[a])?t[a]=i(e[a]):t[a]=e[a]})),t}a("d9e2"),a("b64b"),a("d3b7"),a("ac1f"),a("5319"),a("159b"),e.exports={param2Obj:n,deepClone:i}},"8ab7":function(e,t,a){},"8b4f":function(e,t,a){"use strict";a.r(t);var r={projectName:[],loading:!1,totalParameter:[],checkParHash:[],checkParameter:[],contentInfo:[],reformedParameter:[],derivedParameterPageShow:0,calculationPage:"Standard",parameterOnlyName:[],calculationIndex:-100,calculationBlur:"",parameterWithValue:[],sourceNum:[],harshParData:[],harshValidatePar:[],harshValidatePar1:[],testHahaha:{value:100}},n={harshValidatePar:function(e,t){e.harshValidatePar=t},harshValidatePar1:function(e,t){e.harshValidatePar1=t},harshParData:function(e,t){e.harshParData=t},derivedParameterPageShow:function(e,t){e.derivedParameterPageShow=t},reformedParameter:function(e,t){e.reformedParameter=t},loading:function(e,t){e.loading=t},totalParameter:function(e,t){e.totalParameter=t},checkParHash:function(e,t){e.checkParHash=t},checkParameter:function(e,t){e.checkParameter=t},contentInfo:function(e,t){e.contentInfo=t},parameterOnlyName:function(e,t){e.parameterOnlyName=t},calculationPage:function(e,t){e.calculationPage=t},calculationIndex:function(e,t){e.calculationIndex=t},calculationBlur:function(e,t){e.calculationBlur=t},parameterWithValue:function(e,t){e.parameterWithValue=t},sourceNum:function(e,t){e.sourceNum=t},derivedParameterValue:function(e,t){e.derivedParameterValue=t}};t["default"]={namespaced:!0,state:r,mutations:n}},"8bf6":function(e,t,a){"use strict";a.r(t);var r={parameters:[],parametersR:{}},n={GET_PARAM:function(e,t){e.parameters=t}},i={getParameters:function(e,t){var a=e.commit;a("GET_PARAM",t)}};t["default"]={namespaced:!0,state:r,mutations:n,actions:i}},"8d09":function(e,t,a){"use strict";a("4392")},"8dd0":function(e,t,a){"use strict";a("c459")},9827:function(e,t,a){"use strict";a("2da1")},9892:function(e,t,a){},"994d":function(e,t,a){},"9e19":function(e,t,a){"use strict";a("9892")},a109:function(e,t,a){a("4de4"),a("14d9"),a("4e82"),a("d3b7");for(var r=a("96eb"),n=[],i=100,o='<p>I am testing data, I am testing data.</p><p><img src="https://wpimg.wallstcn.com/4c69009c-0fd4-4153-b112-6cb53d1cf943"></p>',s="https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3",l=0;l<i;l++)n.push(r.mock({id:"@increment",timestamp:+r.Random.date("T"),author:"@first",reviewer:"@first",title:"@title(5, 10)",content_short:"mock data",content:o,forecast:"@float(0, 100, 2, 2)",importance:"@integer(1, 3)","type|1":["CN","US","JP","EU"],"status|1":["published","draft"],display_time:"@datetime",comment_disabled:!0,pageviews:"@integer(300, 5000)",image_uri:s,platforms:["a-platform"]}));e.exports=[{url:"/vue-element-admin/article/list",type:"get",response:function(e){var t=e.query,a=t.importance,r=t.type,i=t.title,o=t.page,s=void 0===o?1:o,l=t.limit,c=void 0===l?20:l,u=t.sort,d=n.filter((function(e){return(!a||e.importance===+a)&&((!r||e.type===r)&&!(i&&e.title.indexOf(i)<0))}));"-id"===u&&(d=d.reverse());var p=d.filter((function(e,t){return t<c*s&&t>=c*(s-1)}));return{code:2e4,data:{total:d.length,items:p}}}},{url:"/vue-element-admin/article/detail",type:"get",response:function(e){for(var t=e.query.id,a=0,r=n;a<r.length;a++){var i=r[a];if(i.id===+t)return{code:2e4,data:i}}}},{url:"/vue-element-admin/article/pv",type:"get",response:function(e){return{code:2e4,data:{pvData:[{key:"PC",pv:1024},{key:"mobile",pv:1024},{key:"ios",pv:1024},{key:"android",pv:1024}]}}}},{url:"/vue-element-admin/article/create",type:"post",response:function(e){return{code:2e4,data:"success"}}},{url:"/vue-element-admin/article/update",type:"post",response:function(e){return{code:2e4,data:"success"}}}]},a187:function(e,t,a){},a18c:function(e,t,a){"use strict";a.d(t,"b",(function(){return gs})),a.d(t,"a",(function(){return bs})),a.d(t,"d",(function(){return ws}));var r=a("2909"),n=(a("7db0"),a("caad"),a("14d9"),a("d3b7"),a("2532"),a("3ca3"),a("159b"),a("ddb0"),a("2b0e")),i=a("8c4f"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticStyle:{"margin-left":"10px","margin-right":"10px"}},[a("el-row",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"}},[a("el-col",{attrs:{span:22}},[a("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"Please Select",multiple:"","collapse-tags":""},on:{change:e.handleSelectChange},model:{value:e.selectedItems,callback:function(t){e.selectedItems=t},expression:"selectedItems"}},e._l(e.items,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value,disabled:!0}},[a("div",{staticClass:"option-content",on:{click:function(e){e.stopPropagation()}}},[a("el-checkbox",{attrs:{value:e.selectedItems.includes(t.value)},on:{change:function(a){return e.handleCheck(t.value)}}},[e._v(" "+e._s(t.label)+" ")])],1)])})),1)],1),a("el-col",{attrs:{span:2}})],1),a("el-row",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"parameterBus",staticStyle:{width:"100%","table-layout":"fixed"},attrs:{"element-loading-text":"Loading...",data:e.tableData,height:"80vh"},on:{"cell-dblclick":e.handleEdit}},[a("el-table-column",{attrs:{type:"selection",width:"55px"}}),e._l(e.generateColumns,(function(t){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,sortable:"","min-width":"200px",align:"center","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(r){return[t.editable&&e.editing[r.$index][t.prop]?a("el-input",{ref:"input_"+r.$index+"_"+t.prop,refInFor:!0,attrs:{size:"mini"},on:{blur:function(a){return e.stopEditing(r.$index,t.prop)}},model:{value:r.row[t.prop],callback:function(a){e.$set(r.row,t.prop,a)},expression:"scope.row[column.prop]"}}):a("div",[e._v(" "+e._s(r.row[t.prop])+" ")])]}}],null,!0)})}))],2)],1),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:22}},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper",total:e.totalNum,"page-size":e.limit,"page-sizes":[20,50,100,200],"current-page":e.currentPage},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("Edit")])],1)],1),a("el-dialog",{attrs:{width:"500px",title:"Edit",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"type","label-width":"100px"}},[a("el-select",{staticStyle:{width:"250px"},attrs:{placeholder:"Please Select",multiple:"","collapse-tags":""}},e._l(e.defaultSelectItems,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"value","label-width":"100px"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",[e._v("cancel")]),a("el-button",{attrs:{type:"primary"}},[e._v("confirm")])],1)],1)],1)},s=[],l=a("c7eb"),c=a("1da1"),u=a("ade3"),d=(a("4de4"),a("d81d"),a("a434"),a("e9c4"),a("b64b"),a("c22a")),p={data:function(){return Object(u["a"])(Object(u["a"])({form:{selectedItem:"",value:""},dialogFormVisible:!1,editing:[],loading:!1,currentlimit:100,currentPage:1,totalItems:0,selectedItems:[],tableData:[],generateColumns:[],defaultGenerateColumns:[{prop:"parameter_name",label:"Parameter Name",editable:!0},{prop:"acquired",label:"Acquired",editable:!0},{prop:"sample_frame",label:"Sample Frame",editable:!0},{prop:"sample_rate",label:"Sample Rate",editable:!0},{prop:"units",label:"Units",editable:!0},{prop:"updated_timeout",label:"Updated Timeout",editable:!0},{prop:"record_rate",label:"Record Rate",editable:!0},{prop:"record_data_group",label:"Record Data Group",editable:!0}],defaultSelectItems:[{label:"Acquired",value:"Acquired"},{label:"Sample Frame",value:"Sample Frame"},{label:"Sample Rate",value:"Sample Rate"},{label:"Updated Timeout",value:"Updated Timeout"},{label:"Record Rate",value:"Record Rate"},{label:"Record Data Group",value:"Record Data Group"}],items:[{label:"Show All",value:"Show All"},{label:"Acquired",value:"Acquired"},{label:"Sample Frame",value:"Sample Frame"},{label:"Sample Rate",value:"Sample Rate"},{label:"Units",value:"Units"},{label:"Updated Timeout",value:"Updated Timeout"},{label:"Record Rate",value:"Record Rate"},{label:"Record Data Group",value:"Record Data Group"},{label:"Encoding",value:"Encoding"},{label:"Base Type",value:"Base Type"},{label:"Scale Factor",value:"Scale Factor"},{label:"Min",value:"Min"},{label:"Max",value:"Max"},{label:"Display Format",value:"Display Format"},{label:"Number of Bits",value:"Number of Bits"},{label:"Start Bit",value:"Start Bit"},{label:"Word in Message",value:"Word in Message"},{label:"ATA",value:"ATA"},{label:"Bus",value:"Bus"},{label:"Producer",value:"Producer"}],columns:[{prop:"parameter_name",label:"Parameter Name",editable:!0},{prop:"acquired",label:"Acquired",editable:!0},{prop:"sample_frame",label:"Sample Frame",editable:!0},{prop:"sample_rate",label:"Sample Rate",editable:!0},{prop:"units",label:"Units",editable:!1},{prop:"updated_timeout",label:"Updated Timeout",editable:!0},{prop:"record_rate",label:"Record Rate",editable:!0},{prop:"record_data_group",label:"Record Data Group",editable:!0},{prop:"encoding",label:"Encoding",editable:!1},{prop:"base_type",label:"Base Type",editable:!1},{prop:"scale_factor",label:"Scale Factor",editable:!1},{prop:"min",label:"Min",editable:!1},{prop:"max",label:"Max",editable:!1},{prop:"diaplay_format",label:"Display Format",editable:!1},{prop:"number_of_bits",label:"Number of Bits",editable:!1},{prop:"start_bit",label:"Start Bit",editable:!1},{prop:"word_in_message",label:"Word in Message",editable:!1},{prop:"ATA",label:"ATA",editable:!1},{prop:"bus",label:"Bus",editable:!1},{prop:"producer",label:"Producer",editable:!1}],parameter_name:"",acquired:"",sample_frame:"",sample_rate:"",units:"",updated_timeout:"",record_rate:"",record_data_group:"",encoding:"",base_type:"",scale_factor:"",min:"",max:"",diaplay_format:"",number_of_bits:"",start_bit:"",word_in_message:"",ATA:"",bus:"",producer:"",page:1,limit:100},"tableData",[]),"totalNum",100)},computed:{project_id:function(){return 1},filters:function(){return{parameter_name:this.parameter_name,acquired:this.acquired,sample_frame:this.sample_frame,sample_rate:this.sample_rate,units:this.units,updated_timeout:this.updated_timeout,record_rate:this.record_rate,record_data_group:this.record_data_group,encoding:this.encoding,base_type:this.base_type,scale_factor:this.scale_factor,min:this.min,max:this.max,diaplay_format:this.diaplay_format,number_of_bits:this.number_of_bits,start_bit:this.start_bit,word_in_message:this.word_in_message,ATA:this.ATA,bus:this.bus,producer:this.producer,project_id:1,page:this.page,limit:this.limit}}},watch:{filters:{handler:function(e){console.log(e)},deep:!0}},created:function(){},mounted:function(){var e=this;this.handleCheck("Acquired"),this.handleCheck("Sample Frame"),this.handleCheck("Sample Rate"),this.handleCheck("Updated Timeout"),this.handleCheck("Record Rate"),this.handleCheck("Record Data Group"),this.generateColumns=this.defaultGenerateColumns,Object(d["a"])(this.filters).then((function(t){e.tableData=JSON.parse(JSON.stringify(t.data)),e.tableData.forEach((function(){e.editing.push(JSON.parse(JSON.stringify({}))),e.totalNum=t.total}))}))},methods:{fetchData:function(){var e=this;return Object(c["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(d["a"])(e.filters).then((function(t){e.totalNum=t.total,e.tableData=t.data}));case 2:case"end":return t.stop()}}),t)})))()},handleEdit:function(e,t,a,r){var n=this,i=this.columns.find((function(e){return e.prop===t.property}));if(i&&i.editable){var o=this.tableData.indexOf(e);this.$set(this.editing[o],t.property,!0),this.$nextTick((function(){var e=n.$refs["input_"+o+"_"+t.property];e&&e[0]&&e[0].focus()}))}},stopEditing:function(e,t){this.$set(this.editing[e],t,!1)},handleLoading:function(e){var t=this;return Object(c["a"])(Object(l["a"])().mark((function a(){return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.loading=!0,setTimeout((function(){t.loading=!1}),e);case 2:case"end":return a.stop()}}),a)})))()},handleColumn:function(){var e=this;return Object(c["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.handleLoading(1e3);case 2:return e.generateColumns=e.columns.filter((function(t){return e.selectedItems.some((function(e){return t.label===e}))})),e.generateColumns.unshift({prop:"parameter_name",label:"Parameter Name",editable:!0}),e.$nextTick((function(){e.$refs.parameterBus.doLayout()})),t.abrupt("return");case 6:case"end":return t.stop()}}),t)})))()},handleCheck:function(e){var t=this.selectedItems.indexOf(e);"Show All"==e&&(this.selectedItems=-1===t?this.items.map((function(e){return e.value})):[],this.handleColumn()),-1===t?this.selectedItems.push(e):this.selectedItems.splice(t,1),this.handleColumn()},handleSelectChange:function(){this.selectedItems=Object(r["a"])(this.selectedItems)},handleSizeChange:function(e){var t=this;return Object(c["a"])(Object(l["a"])().mark((function a(){return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.limit=e,t.loading=!0,a.next=4,t.fetchData();case 4:t.loading=!1;case 5:case"end":return a.stop()}}),a)})))()},handleCurrentChange:function(e){var t=this;return Object(c["a"])(Object(l["a"])().mark((function a(){return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.page=e,t.loading=!0,a.next=4,t.fetchData();case 4:t.loading=!1;case 5:case"end":return a.stop()}}),a)})))()}}},m=p,f=(a("1ea7"),a("2877")),h=Object(f["a"])(m,o,s,!1,null,"5e194d02",null),v=h.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticStyle:{"margin-left":"10px","margin-right":"10px"}},[a("el-row",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"}},[a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"info",size:"mini"},on:{click:e.navigateToDerivedParameter}},[e._v(" New Derived Parameter ")])],1),a("el-col",{attrs:{span:18}},[a("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"Please Select",multiple:"","collapse-tags":""},on:{change:e.handleSelectChange},model:{value:e.selectedItems,callback:function(t){e.selectedItems=t},expression:"selectedItems"}},e._l(e.items,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value,disabled:!0}},[a("div",{staticClass:"option-content",on:{click:function(e){e.stopPropagation()}}},[a("el-checkbox",{attrs:{value:e.selectedItems.includes(t.value)},on:{change:function(a){return e.handleCheck(t.value)}}},[e._v(" "+e._s(t.label)+" ")])],1)])})),1)],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"info",icon:"el-icon-upload2",circle:""}}),a("el-button",{attrs:{type:"info",icon:"el-icon-download",circle:""}})],1)],1),a("el-row",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"parameterBus",staticStyle:{width:"100%","table-layout":"fixed"},attrs:{"element-loading-text":"Loading...",data:e.tableData,height:"80vh"},on:{"cell-dblclick":e.handleEdit}},e._l(e.generateColumns,(function(t,r){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,"min-width":"200px",sortable:"",align:"center","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(n){return[0===r?a("div",{staticClass:"hoverable",on:{click:function(t){return e.handleRowClick(n.row)}}},[e._v(" "+e._s(n.row[t.prop])+" ")]):a("div",[e._v(" "+e._s(n.row[t.prop])+" "),t.editable&&e.editing[n.$index][t.prop]?a("el-input",{ref:"input_"+n.$index+"_"+t.prop,refInFor:!0,attrs:{size:"mini"},on:{blur:function(a){return e.stopEditing(n.row,n.$index,t.prop)}},model:{value:n.row[t.prop],callback:function(a){e.$set(n.row,t.prop,a)},expression:"scope.row[column.prop]"}}):e._e()],1)]}}],null,!0)})})),1)],1),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:22}},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper",total:e.totalNum,"page-size":e.limit,"page-sizes":[20,50,100,200],"current-page":e.currentPage},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("Edit")])],1)],1),a("el-dialog",{attrs:{width:"500px",title:"Edit",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"type","label-width":"100px"}},[a("el-select",{staticStyle:{width:"250px"},attrs:{placeholder:"Please Select",multiple:"","collapse-tags":""}},e._l(e.defaultSelectItems,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"value","label-width":"100px"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",[e._v("cancel")]),a("el-button",{attrs:{type:"primary"}},[e._v("confirm")])],1)],1)],1)},b=[],_=a("3835"),y=(a("99af"),a("a15b"),a("4fad"),a("b775")),x=a("365c"),w=x["a"]+"api/system/derived_parameter/";function S(e){var t=Object.entries(e).filter((function(e){var t=Object(_["a"])(e,2),a=(t[0],t[1]);return null!==a&&""!==a})).map((function(e){var t=Object(_["a"])(e,2),a=t[0],r=t[1];return"".concat(a,"=").concat(encodeURIComponent(r))})).join("&"),a=w+(t?"?".concat(t):"");return Object(y["a"])({url:a,method:"get",query:e})}function k(e){return Object(y["a"])({url:w,method:"post",data:e})}function O(e){return Object(y["a"])({url:w+e.id+"/",method:"put",data:e})}var C={data:function(){return{form:{selectedItem:"",value:""},dialogFormVisible:!1,editing:[],loading:!1,currentlimit:100,currentPage:1,totalItems:0,selectedItems:[],generateColumns:[],defaultGenerateColumns:[{prop:"parameter_name",label:"Parameter Name",editable:!0},{prop:"calculation_rate",label:"Calculation Rate",editable:!0},{prop:"units",label:"Units",editable:!0},{prop:"encoding",label:"Encoding",editable:!0}],defaultSelectItems:[{label:"Parameter Name",value:"parameter_name"},{label:"Calculation Frame Offset",value:"calculation_frame_offset"},{label:"Calculation Rate",value:"calculation_rate"},{label:"Units",value:"units"},{label:"Encoding",value:"encoding"}],items:[{label:"Show All",value:"Show All"},{label:"Calculation Frame Offset",value:"calculation_frame_offset"},{label:"Calculation Rate",value:"calculation_rate"},{label:"Units",value:"units"},{label:"Encoding",value:"encoding"},{label:"Max",value:"max"},{label:"Min",value:"min"},{label:"Number of Bits",value:"number_of_bits"},{label:"Steady State Filter",value:"steady_state_filter"},{label:"Global GUID",value:"global_guid"},{label:"GUID",value:"guid"},{label:"Value Scaling",value:"value_scaling"},{label:"Recording Data Group",value:"recording_data_group"},{label:"Display Values",value:"display_values"},{label:"Translate Before",value:"translate_before"},{label:"Translate After",value:"translate_after"}],columns:[{prop:"parameter_name",label:"Parameter Name",editable:!0},{prop:"calculation_rate",label:"Calculation Rate",editable:!0},{prop:"units",label:"Units",editable:!0},{prop:"encoding",label:"Encoding",editable:!0},{prop:"max",label:"Max",editable:!0},{prop:"min",label:"Min",editable:!0},{prop:"number_of_bits",label:"Number of Bits",editable:!0},{prop:"steady_state_filter",label:"Steady State Filter",editable:!0},{prop:"global_guid",label:"Global GUID",editable:!0},{prop:"guid",label:"GUID",editable:!0},{prop:"value_scaling",label:"Value Scaling",editable:!0},{prop:"recording_data_group",label:"Recording Data Group",editable:!0},{prop:"display_values",label:"Display Values",editable:!0},{prop:"translate_before",label:"Translate Before",editable:!0},{prop:"translate_after",label:"Translate After",editable:!0}],parameter_name:"",calculation_rate:"",units:"",encoding:"",max:"",min:"",number_of_bits:"",steady_state_filter:"",global_guid:"",guid:"",value_scaling:"",record_data_group:"",display_values:"",translate_before:"",translate_after:"",page:1,limit:100,tableData:[],totalNum:100,filterValues:{}}},computed:{project_id:function(){return 1},filters:function(){return{parameter_name:this.parameter_name,calculation_rate:this.calculation_rate,units:this.units,encoding:this.encoding,max:this.max,min:this.min,number_of_bits:this.number_of_bits,steady_state_filter:this.steady_state_filter,global_guid:this.global_guid,guid:this.guid,value_scaling:this.value_scaling,record_data_group:this.record_data_group,display_values:this.display_values,translate_before:this.translate_before,translate_after:this.translate_after,project_id:1,page:this.page,limit:this.limit}}},watch:{filters:{handler:function(e){console.log(e)},deep:!0}},created:function(){},mounted:function(){var e=this;this.handleCheck("calculation_rate"),this.handleCheck("units"),this.handleCheck("number_of_bits"),this.handleCheck("record_data_group"),S(this.filters).then((function(t){e.tableData=JSON.parse(JSON.stringify(t.data)),e.tableData.forEach((function(){e.editing.push(JSON.parse(JSON.stringify({}))),e.totalNum=t.total}))})),this.generateColumns=this.defaultGenerateColumns},methods:Object(u["a"])(Object(u["a"])(Object(u["a"])(Object(u["a"])(Object(u["a"])(Object(u["a"])(Object(u["a"])(Object(u["a"])({handleEdit:function(e){},stopEditing:function(e,t,a){},handleRowClick:function(e){this.$router.push({path:"/parametersbus/editderivedparameters",query:{rowData:JSON.stringify(e)}})},navigateToDerivedParameter:function(){this.$router.push({path:"/parametersbus/editderivedparameters",query:{rowData:JSON.stringify({id:-1})}})},fetchData:function(){var e=this;return Object(c["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S(e.filters).then((function(t){e.totalNum=t.total,e.tableData=t.data}));case 2:case"end":return t.stop()}}),t)})))()}},"handleEdit",(function(e,t,a,r){var n=this;console.log("click!!!!");var i=this.columns.find((function(e){return e.prop===t.property}));if(i&&i.editable){var o=this.tableData.indexOf(e);this.$set(this.editing[o],t.property,!0),this.$nextTick((function(){var e=n.$refs["input_"+o+"_"+t.property];e&&e[0]&&e[0].focus()}))}})),"stopEditing",(function(e,t,a){this.$set(this.editing[t],a,!1),O(e)})),"handleLoading",(function(e){var t=this;return Object(c["a"])(Object(l["a"])().mark((function a(){return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.loading=!0,setTimeout((function(){t.loading=!1}),e);case 2:case"end":return a.stop()}}),a)})))()})),"handleColumn",(function(){var e=this;return Object(c["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.handleLoading(1e3);case 2:return e.generateColumns=e.columns.filter((function(t){return e.selectedItems.some((function(e){return t.prop===e}))})),e.generateColumns.unshift({prop:"parameter_name",label:"Parameter Name",editable:!0}),e.$nextTick((function(){e.$refs.parameterBus.doLayout()})),t.abrupt("return");case 6:case"end":return t.stop()}}),t)})))()})),"handleCheck",(function(e){var t=this.selectedItems.indexOf(e);"Show All"==e&&(this.selectedItems=-1===t?this.items.map((function(e){return e.value})):[],this.handleColumn()),-1===t?this.selectedItems.push(e):this.selectedItems.splice(t,1),this.handleColumn()})),"handleSelectChange",(function(){this.selectedItems=Object(r["a"])(this.selectedItems)})),"handleSizeChange",(function(e){var t=this;return Object(c["a"])(Object(l["a"])().mark((function a(){return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.limit=e,t.loading=!0,a.next=4,t.fetchData();case 4:t.loading=!1;case 5:case"end":return a.stop()}}),a)})))()})),"handleCurrentChange",(function(e){var t=this;return Object(c["a"])(Object(l["a"])().mark((function a(){return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.page=e,t.loading=!0,a.next=4,t.fetchData();case 4:t.loading=!1;case 5:case"end":return a.stop()}}),a)})))()}))},T=C,E=Object(f["a"])(T,g,b,!1,null,"602cc9c6",null),j=E.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{attrs:{span:2}},[a("el-row",[a("DerivedParameterHeader")],1)],1),a("el-col",{attrs:{span:22}},[a("el-row",{directives:[{name:"show",rawName:"v-show",value:0==e.$store.state.parameters.derivedParameterPageShow,expression:"$store.state.parameters.derivedParameterPageShow == 0"}]},[a("Property")],1),a("el-row",{directives:[{name:"show",rawName:"v-show",value:1==e.$store.state.parameters.derivedParameterPageShow,expression:"$store.state.parameters.derivedParameterPageShow == 1"}]},[a("el-col",{attrs:{span:13}},[a("calculation")],1),a("el-col",{attrs:{push:1,span:11}},[a("el-row",[a("Blocks")],1),a("el-row",[a("el-col",{attrs:{span:24}})],1)],1)],1)],1)],1),a("el-row",[a("div",{staticStyle:{"margin-left":"2vh"}},[a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:e.submitDerivedParameter}},[e._v("Save")]),a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:e.returnToDerivedParameters}},[e._v("Cancel")])],1)])],1)},P=[],D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",[a("el-tabs",{attrs:{"tab-position":"left"},on:{"tab-click":e.clickTab},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.tabInfo,(function(e,t){return a("el-tab-pane",{key:t,attrs:{name:e.name,label:e.label}})})),1)],1)],1)],1)},$=[],F=(a("25f0"),{data:function(){return{activeName:"0",stepIndex:1,tabInfo:[{label:"Property",name:"0"},{label:"Calculation",name:"1"}]}},computed:{trigger:function(){return this.$store.state.parameters.derivedParameterPageShow}},watch:{trigger:function(e,t){this.activeName=this.$store.state.parameters.derivedParameterPageShow.toString()}},methods:{clickTab:function(e,t){this.$store.commit("parameters/derivedParameterPageShow",this.activeName)}}}),A=F,I=Object(f["a"])(A,D,$,!1,null,null,null),N=I.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticStyle:{"margin-top":"40px"}},[a("el-col",{attrs:{push:5,span:12}},[a("div",{staticStyle:{height:"70vh",overflow:"auto"}},[a("el-form",{ref:"ruleForm",attrs:{model:e.parameterForm,size:"mini","label-width":"200px"}},[a("el-form-item",{attrs:{label:"Name",prop:"parameter_name"}},[a("el-input",{staticStyle:{width:"300px"},model:{value:e.parameterForm.parameter_name,callback:function(t){e.$set(e.parameterForm,"parameter_name",t)},expression:"parameterForm.parameter_name"}})],1),a("el-form-item",{attrs:{label:"Calculation Rate",prop:"calculation_rate"}},[a("el-select",{model:{value:e.parameterForm.calculation_rate,callback:function(t){e.$set(e.parameterForm,"calculation_rate",t)},expression:"parameterForm.calculation_rate"}},e._l(e.optionsRate.slice(1,5),(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"Calculation Frame Offset",prop:"calculation_frame_offset"}},[a("el-input-number",{attrs:{"controls-position":"right",min:-120,max:120},model:{value:e.parameterForm.calculation_frame_offset,callback:function(t){e.$set(e.parameterForm,"calculation_frame_offset",t)},expression:"parameterForm.calculation_frame_offset"}})],1),a("el-form-item",{attrs:{label:"Record Rate",prop:"record_rate"}},[a("el-select",{model:{value:e.parameterForm.record_rate,callback:function(t){e.$set(e.parameterForm,"record_rate",t)},expression:"parameterForm.record_rate"}},e._l(e.optionsRate.slice(0,5),(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"Recording Data Group",prop:"recording_data_group"}},[a("el-select",{model:{value:e.parameterForm.recording_data_group,callback:function(t){e.$set(e.parameterForm,"recording_data_group",t)},expression:"parameterForm.recording_data_group"}},e._l(e.optionsRate.slice(6,8),(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.label}})})),1)],1),a("el-form-item",{attrs:{label:"parameterEncoding",prop:"encoding"}},[a("el-select",{on:{change:function(t){return e.pageShowChange()}},model:{value:e.parameterForm.encoding,callback:function(t){e.$set(e.parameterForm,"encoding",t)},expression:"parameterForm.encoding"}},e._l(e.optionsRate1,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.label}})})),1)],1),"NU"!=e.showType?a("el-form-item",{attrs:{label:"Min",prop:"min"}},[a("el-input-number",{staticStyle:{width:"300px"},on:{change:e.handleDisplayChange},model:{value:e.parameterForm.min,callback:function(t){e.$set(e.parameterForm,"min",t)},expression:"parameterForm.min"}})],1):e._e(),"NU"!=e.showType?a("el-form-item",{attrs:{label:"Max",prop:"max"}},[a("el-input-number",{staticStyle:{width:"300px"},on:{change:e.handleDisplayChange},model:{value:e.parameterForm.max,callback:function(t){e.$set(e.parameterForm,"max",t)},expression:"parameterForm.max"}})],1):e._e(),"DDDNU"==e.showType?a("div",[a("el-form-item",{attrs:{label:"displayValues",prop:"display_values"}},[a("el-checkbox",{model:{value:e.parameterForm.display_values,callback:function(t){e.$set(e.parameterForm,"display_values",t)},expression:"parameterForm.display_values"}},[e._v("Translate parameter values for display")])],1),1==e.parameterForm.display_values?a("div",[a("el-form-item",{attrs:{label:"translateBefore",prop:"translate_before"}},[a("el-select",{on:{change:e.translateShow},model:{value:e.parameterForm.translate_before,callback:function(t){e.$set(e.parameterForm,"translate_before",t)},expression:"parameterForm.translate_before"}},e._l(e.optionsDisplay,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"translateAfter",prop:"translate_after"}},[a("el-input",{staticStyle:{width:"300px"},model:{value:e.parameterForm.translate_after,callback:function(t){e.$set(e.parameterForm,"translate_after",t)},expression:"parameterForm.translate_after"}}),a("el-button",{on:{click:e.translateAfterChange}},[e._v("change")])],1)],1):e._e()],1):e._e(),a("el-form-item",{attrs:{label:"numberofBits",prop:"number_of_bits"}},[a("el-input-number",{attrs:{"controls-position":"right",min:-60,max:60},model:{value:e.parameterForm.number_of_bits,callback:function(t){e.$set(e.parameterForm,"number_of_bits",t)},expression:"parameterForm.number_of_bits"}})],1),a("el-form-item",{attrs:{label:"Units",prop:"Units"}},[a("el-input",{staticStyle:{width:"300px"},model:{value:e.parameterForm.units,callback:function(t){e.$set(e.parameterForm,"units",t)},expression:"parameterForm.units"}})],1),a("el-form-item",{attrs:{label:"steadyStateFilter",prop:"steady_state_filter"}},[a("el-checkbox",{model:{value:e.parameterForm.steady_state_filter,callback:function(t){e.$set(e.parameterForm,"steady_state_filter",t)},expression:"parameterForm.steady_state_filter"}})],1),a("el-form-item",{attrs:{label:"valueScaling",prop:"value_scaling"}},[a("el-checkbox",{model:{value:e.parameterForm.value_scaling,callback:function(t){e.$set(e.parameterForm,"value_scaling",t)},expression:"parameterForm.value_scaling"}})],1)],1)],1)])],1)},M=[],V=a("b85c"),B=[{value:"1 Bit Fault Report",label:"1 Bit Fault Report",type:"DDDNU"},{value:"2 Bit Fault Report",label:"2 Bit Fault Report",type:"DDDNU"},{value:"ARINC 429 Octal Label",label:"ARINC 429 Octal Label",type:"DDNU"},{value:"ARINC 429 Parity",label:"ARINC 429 Parity",type:"NU"},{value:"ARINC 429 SSM Binary",label:"ARINC 429 SSM Binary",type:"DDDNU"},{value:"ARINC 429 SSM Binary Coded Decimal",label:"ARINC 429 SSM Binary Coded Decimal",type:"DDDNU"},{value:"ARINC 429 SSM Coded Discrete",label:"ARINC 429 SSM Coded Discrete",type:"DDDNU"},{value:"ARINC 429 SSM Custom Coded Discrete",label:"ARINC 429 SSM Custom Coded Discrete",type:"DDDNU"},{value:"ARINC 664 Message Functional Status",label:"ARINC 664 Message Functional Status",type:"DDDNU"},{value:"Binary",label:"Binary",type:"DDNU"},{value:"Binary Coded Decimal",label:"Binary Coded Decimal",type:"DDNU"},{value:"Binary Floating Point",label:"Binary Floating Point",type:"DDNU"},{value:"Block Data",label:"Block Data",type:"DDNU"},{value:"Boolean",label:"Boolean",type:"NU"},{value:"Character(ISO-5 Standard)",label:"Character(ISO-5 Standard)",type:"NU"},{value:"Character Data",label:"Character Data",type:"NU"},{value:"Character String(ISO-5 Standard)",label:"Character String(ISO-5 Standard)",type:"NU"},{value:"Character String Data",label:"Character String Data",type:"NU"},{value:"Checksum",label:"Checksum",type:"DDNU"},{value:"Coded Enumeration",label:"Coded Enumeration",type:"DDDNU"},{value:"Cyclic Redundancy Check",label:"Cyclic Redundancy Check",type:"DDNU"},{value:"Discrete",label:"Discrete",type:"DDDNU"},{value:"Double",label:"Double",type:"DDNU"},{value:"Flight Deck Effects",label:"Flight Deck Effects",type:"DDDNU"},{value:"Float",label:"Float",type:"DDNU"},{value:"Hexadecimal",label:"Hexadecimal",type:"DDNU"},{value:"Initiated Test Able To Test",label:"Initiated Test Able To Test",type:"DDDNU"},{value:"Initiated Test Complete",label:"Initiated Test Complete",type:"DDDNU"},{value:"Initiated Test Inhibit",label:"Initiated Test Inhibit",type:"DDDNU"},{value:"Integer(16 bits)",label:"Integer(16 bits)",type:"DDNU"},{value:"Integer(32 bits)",label:"Integer(32 bits)",type:"DDNU"},{value:"Opaque Data",label:"Opaque Data",type:"NU"},{value:"PUC",label:"PUC",type:"DDDNU"},{value:"Pad Data",label:"Pad Data",type:"DDNU"},{value:"Reserved Data",label:"Reserved Data",type:"DDNU"},{value:"Spare Data",label:"Spare Data",type:"DDNU"},{value:"String",label:"String",type:"NU"},{value:"Unknown",label:"Unknown",type:"DDNU"},{value:"Unsigned BNR",label:"Unsigned BNR",type:"DDNU"},{value:"Unsigned Integer(16 bits)",label:"Unsigned Integer(16 bits)",type:"DDNU"},{value:"Unsigned Integer(32 bits)",label:"Unsigned Integer(32 bits)",type:"DDNU"},{value:"Validity Parameter",label:"Validity Parameter",type:"DDNU"}],U={props:{content:{type:Object,default:function(){return{}}}},data:function(){return{parameterForm:{parameter_name:"",calculation_rate:"",calculation_frame_offset:"",record_rate:"",recording_data_group:"",encoding:"",min:"",max:"",display_values:"",number_of_bits:"",units:"",steady_state_filter:"",value_scaling:"",translate_before:"",translate_after:""},showType:"DDDNU",optionsRate:[{value:"Do Not Record",label:"Do Not Record"},{value:"1",label:"1Hz"},{value:"2",label:"2Hz"},{value:"4",label:"4Hz"},{value:"8",label:"8Hz"},{value:"16",label:"16Hz"},{value:"Default_File_Recorded",label:"Default_File_Recorded"},{value:"Non_Recorded_Internal_Parameters",label:"Non_Recorded_Internal_Parameters"}],optionsRate1:B,optionsDisplay:[{value:0,label:"0",displayValue:""}]}},created:function(){var e=this.$route.query.rowData;e&&(this.parameterForm=JSON.parse(e),this.parameterForm.display_values="true"===this.parameterForm.display_values,this.parameterForm.steady_state_filter="true"===this.parameterForm.steady_state_filter,this.parameterForm.value_scaling="true"===this.parameterForm.value_scaling,console.log("this.parameterForm!!!!!!!!!!!!!!!",this.parameterForm))},watch:{parameterForm:{handler:function(e){this.$store.dispatch("derivedParameters/updateParameterForm",e)},deep:!0,immediate:!0}},methods:{pageShowChange:function(){var e,t=Object(V["a"])(this.optionsRate1);try{for(t.s();!(e=t.n()).done;){var a=e.value;if(this.parameterForm.encoding===a["value"])return console.log(a["type"]),void(this.showType=a["type"])}}catch(r){t.e(r)}finally{t.f()}},handleDisplayChange:function(){if(this.optionsDisplay=[],this.parameterForm.translate_before="",this.parameterForm.max>=this.parameterForm.min&&!0===this.parameterForm.display_values)for(var e={value:0,label:"",displayValue:""},t=this.parameterForm.min;t<=this.parameterForm.max;t++)e.value=t,e.label=""+t,this.optionsDisplay.push(JSON.parse(JSON.stringify(e)))},translateShow:function(e){this.parameterForm.translate_after="";var t,a=Object(V["a"])(this.optionsDisplay);try{for(a.s();!(t=a.n()).done;){var r=t.value;e===r.value&&(this.parameterForm.translate_after=r.displayValue)}}catch(n){a.e(n)}finally{a.f()}},translateAfterChange:function(){var e,t=Object(V["a"])(this.optionsDisplay);try{for(t.s();!(e=t.n()).done;){var a=e.value;this.parameterForm.translate_before===a.value&&(a.displayValue=this.parameterForm.translate_after)}}catch(r){t.e(r)}finally{t.f()}console.log(this.optionsDisplay)}}},z=U,H=Object(f["a"])(z,L,M,!1,null,null,null),q=H.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return"Standard"==e.$store.state.parameters.calculationPage||"Conditional"==e.$store.state.parameters.calculationPage?a("el-row",[a("el-row",[a("div",{staticStyle:{"margin-bottom":"20px"}},[a("span",[e._v("Parameter Selection：")]),a("el-autocomplete",{staticStyle:{width:"40vh"},attrs:{"fetch-suggestions":e.fetchParameterSuggestions,placeholder:"Please select the parameter",clearable:!0},on:{select:e.addStandardParameter},model:{value:e.parameterSelect,callback:function(t){e.parameterSelect=t},expression:"parameterSelect"}})],1)]),a("el-row",{staticStyle:{"margin-bottom":"2vh"}},[a("el-select",{staticStyle:{width:"10vh","margin-right":"1vh"},attrs:{placeholder:"Ceil"},on:{change:e.handleSelectChange},model:{value:e.valueCeil,callback:function(t){e.valueCeil=t},expression:"valueCeil"}},e._l(e.optionsCeil,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-select",{staticStyle:{width:"10vh","margin-right":"1vh"},attrs:{placeholder:"Round"},on:{change:e.handleSelectChange},model:{value:e.valueRound,callback:function(t){e.valueRound=t},expression:"valueRound"}},e._l(e.optionsRound,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-select",{staticStyle:{width:"10vh","margin-right":"1vh"},attrs:{placeholder:"Floor"},on:{change:e.handleSelectChange},model:{value:e.valueFloor,callback:function(t){e.valueFloor=t},expression:"valueFloor"}},e._l(e.optionsFloor,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-switch",{attrs:{"active-text":"Rad","inactive-text":"Deg"},model:{value:e.isActive,callback:function(t){e.isActive=t},expression:"isActive"}})],1),a("el-row",{staticStyle:{"margin-bottom":"1vh"}},[e._l(e.operators.slice(0,3),(function(t){return a("el-button",{key:t.name,staticStyle:{width:"75px"},attrs:{plain:"",type:"primary",size:"medium"},on:{click:function(a){e.addContent(t.value+e.selectedValue+"()")}}},[e._v(e._s(t.name))])})),e._l(e.operators.slice(3,5),(function(t){return a("el-button",{key:t.name,staticStyle:{width:"75px"},attrs:{plain:"",type:"primary",size:"medium"},on:{click:function(a){e.addContent(t.value+"()")}}},[e._v(e._s(t.name))])})),e._l(e.operators.slice(5,6),(function(t){return a("el-button",{key:t.name,staticStyle:{width:"75px"},attrs:{plain:"",type:"primary",size:"medium"},on:{click:function(a){return e.addContent(t.value)}}},[e._v(e._s(t.name))])}))],2),a("el-row",{staticStyle:{"margin-bottom":"1vh"}},[e._l(e.operators.slice(6,7),(function(t){return a("el-button",{key:t.name,staticStyle:{width:"75px"},attrs:{plain:"",type:"primary",size:"medium"},on:{click:function(a){e.addContent(t.value+"()")}}},[e._v(e._s(t.name))])})),e._l(e.operators.slice(7,10),(function(t){return a("el-button",{key:t.name,staticStyle:{width:"75px"},attrs:{plain:"",type:"primary",size:"medium"},on:{click:function(a){e.addContent(t.value+e.selectedValue+"()")}}},[e._v(e._s(t.name))])})),e._l(e.operators.slice(10,12),(function(t){return a("el-button",{key:t.name,staticStyle:{width:"75px"},attrs:{plain:"",size:"medium"},on:{click:function(a){return e.addContent(t.value)}}},[e._v(e._s(t.name))])}))],2),a("el-row",{staticStyle:{"margin-bottom":"1vh"}},e._l(e.operators.slice(12,18),(function(t){return a("el-button",{key:t.name,staticStyle:{width:"75px"},attrs:{plain:"",size:"medium"},on:{click:function(a){return e.addContent(t.value)}}},[e._v(e._s(t.name))])})),1),a("el-row",{staticStyle:{"margin-bottom":"1vh"}},e._l(e.operators.slice(18,24),(function(t){return a("el-button",{key:t.name,staticStyle:{width:"75px"},attrs:{plain:"",size:"medium"},on:{click:function(a){return e.addContent(t.value)}}},[e._v(e._s(t.name))])})),1),a("el-row",{staticStyle:{"margin-bottom":"1vh"}},e._l(e.operators.slice(24,30),(function(t){return a("el-button",{key:t.name,staticStyle:{width:"75px"},attrs:{plain:"",size:"medium"},on:{click:function(a){return e.addContent(t.value)}}},[e._v(e._s(t.name))])})),1),a("el-row",{staticStyle:{"margin-bottom":"1vh"}},e._l(e.operators.slice(30,36),(function(t){return a("el-button",{key:t.name,staticStyle:{width:"75px"},attrs:{plain:"",size:"medium"},on:{click:function(a){return e.addContent(t.value)}}},[e._v(e._s(t.name))])})),1),a("el-row",{staticStyle:{"margin-bottom":"1vh"}},e._l(e.operators.slice(36,42),(function(t){return a("el-button",{key:t.name,staticStyle:{width:"75px"},attrs:{plain:"",size:"medium"},on:{click:function(a){return e.addContent(t.value)}}},[e._v(e._s(t.name))])})),1)],1):e._e()},W=[],J=x["a"]+"api/system/parameter_distinct/";function K(e){var t=Object.entries(e).filter((function(e){var t=Object(_["a"])(e,2),a=(t[0],t[1]);return null!==a&&""!==a})).map((function(e){var t=Object(_["a"])(e,2),a=t[0],r=t[1];return"".concat(a,"=").concat(encodeURIComponent(r))})).join("&"),a=J+(t?"?".concat(t):"");return Object(y["a"])({url:a,method:"get",query:e})}var X={data:function(){return{operators:[{name:"asin",type:"",value:"asin_"},{name:"acos",type:"",value:"acos_"},{name:"atan",type:"",value:"atan_"},{name:"ln",type:"",value:"ln"},{name:"sqrt",type:"",value:"sqrt"},{name:"concat",type:"",value:" || "},{name:"NOT",type:"",value:"NOT"},{name:"sin",type:"",value:"sin_"},{name:"cos",type:"",value:"cos_"},{name:"tan",type:"",value:"tan_"},{name:"<",type:"",value:" < "},{name:"^",type:"",value:" ^ "},{name:"AND",type:"",value:" AND "},{name:"(",type:"",value:"()"},{name:")",type:"",value:")"},{name:"mod",type:"",value:"%"},{name:">",type:"",value:" > "},{name:"+",type:"",value:" + "},{name:"OR",type:"",value:" OR "},{name:"7",type:"",value:"7"},{name:"8",type:"",value:"8"},{name:"9",type:"",value:"9"},{name:"≤",type:"",value:" <= "},{name:"×",type:"",value:" * "},{name:"XOR",type:"",value:" XOR "},{name:"4",type:"",value:"4"},{name:"5",type:"",value:"5"},{name:"6",type:"",value:"6"},{name:"≥",type:"",value:" >= "},{name:"-",type:"",value:" - "},{name:"True",type:"",value:"True"},{name:"1",type:"",value:"1"},{name:"2",type:"",value:"2"},{name:"3",type:"",value:"3"},{name:"≠",type:"",value:" != "},{name:"+",type:"",value:" + "},{name:"False",type:"",value:"False"},{name:"0",type:"",value:"0"},{name:".",type:"",value:"."},{name:"'",type:"",value:"'"},{name:"=",type:"",value:" != "},{name:"+",type:"",value:" + "}],isActive:!0,parameterSelect:"",optionsCeil:[{value:"ceil_0()",label:"1"},{value:"ceil_1()",label:"0.1"},{value:"ceil_2()",label:"0.01"},{value:"ceil_3()",label:"0.001"}],valueCeil:"",optionsRound:[{value:"round_0()",label:"1"},{value:"round_1()",label:"0.1"},{value:"round_2()",label:"0.01"},{value:"round_3()",label:"0.001"}],valueRound:"",optionsFloor:[{value:"floor_0()",label:"1"},{value:"floor_1()",label:"0.1"},{value:"floor_2()",label:"0.01"},{value:"floor_3()",label:"0.001"}],valueFloor:"",options:[],list:[],loading:!1,parameterTotalSelect:[]}},computed:{selectedValue:function(){return this.isActive?"rad":"deg"},trigger:function(){return this.$store.state.parameters.totalParameter}},watch:{trigger:function(e,t){this.list=this.$store.state.parameters.totalParameter.map((function(e){return{value:"".concat(e["Name"]),label:"".concat(e["Name"])}})),this.$store.commit("parameters/parameterOnlyName",this.list)}},mounted:function(){this.list=this.$store.state.parameters.totalParameter.map((function(e){return{value:"".concat(e["Name"]),label:"".concat(e["Name"])}})),this.$store.commit("parameters/parameterOnlyName",this.list)},methods:{handleSelectChange:function(e){var t=this.$store.state.parameters.calculationPage;"Standard"===t?this.$bus.$emit("standard",e):"Conditional"===t&&this.$bus.$emit("conditional",e)},fetchParameterSuggestions:function(e,t){var a=this;return Object(c["a"])(Object(l["a"])().mark((function r(){return Object(l["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e)try{K({parameter_name:a.parameterSelect}).then((function(e){console.log(e.data);var a=e.data.map((function(e){return{value:e.parameter_name,name:e.parameter_name,guid:e.guid}}));console.log("suggestions:",a),t(a)}))}catch(n){console.error("Error fetching task:",n),t([])}else t([]);case 1:case"end":return r.stop()}}),r)})))()},addStandardParameter:function(){var e=this.$store.state.parameters.calculationPage;console.log("this.parameterSelect:",this.parameterSelect),console.log("index:",e),"Standard"===e?this.$bus.$emit("standard",this.parameterSelect):"Conditional"===e?this.$bus.$emit("conditional",this.parameterSelect):"Source Selection"===e?this.$bus.$emit("source selection",this.parameterSelect):console.log("not start")},addContent:function(e){e=" "+e+" ";var t=this.$store.state.parameters.calculationPage;"Standard"===t?this.$bus.$emit("standard",e):"Conditional"===t?this.$bus.$emit("conditional",e):"Source Selection"===t?this.$bus.$emit("source selection",e):console.log("not start")}}},Q=X,Y=Object(f["a"])(Q,G,W,!1,null,null,null),Z=Y.exports,ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-left":"30px","margin-right":"30px,height: 70vh",overflow:"auto"}},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"Standard",name:"Standard"}},[a("Standard")],1),a("el-tab-pane",{attrs:{label:"Conditional",name:"Conditional"}},[a("Conditional")],1),a("el-tab-pane",{attrs:{label:"Reversion",name:"Reversion"}},[a("Reversion")],1),a("el-tab-pane",{attrs:{label:"Source Selection",name:"Source Selection"}},[a("SourceSelection")],1),a("el-tab-pane",{attrs:{label:"Rolling Average",name:"Rolling Average"}},[a("RollingAverage")],1),a("el-tab-pane",{attrs:{label:"Valid Average",name:"Valid Average"}},[a("ValidAverage")],1)],1)],1)},te=[],ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"standardForm",attrs:{rules:e.rules,model:e.standardForm,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"condition",label:"Text:"}},[a("el-input",{attrs:{type:"textarea",resize:"none",rows:10},on:{blur:e.standardBlur},model:{value:e.standardForm.condition,callback:function(t){e.$set(e.standardForm,"condition",t)},expression:"standardForm.condition"}})],1),a("el-form-item",{attrs:{prop:"validity",label:"Validity:"}},[a("el-select",{attrs:{placeholder:"Please select"},on:{change:e.onStandardChange},model:{value:e.standardForm.validity,callback:function(t){e.$set(e.standardForm,"validity",t)},expression:"standardForm.validity"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)},re=[],ne=a("c4aa"),ie=ne["a"],oe=Object(f["a"])(ie,ae,re,!1,null,null,null),se=oe.exports,le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{model:e.conditionalForm,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"ifCondition",label:"IF"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{id:"derivedIfText",type:"textarea",resize:"none",rows:3},on:{blur:e.standardBlur},nativeOn:{click:function(t){return e.ifInput(t)}},model:{value:e.conditionalForm.ifCondition,callback:function(t){e.$set(e.conditionalForm,"ifCondition",t)},expression:"conditionalForm.ifCondition"}})],1),a("el-form-item",{attrs:{prop:"thenCondition",label:"THEN"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{id:"derivedThenText",type:"textarea",resize:"none",rows:3},on:{blur:e.standardBlur},nativeOn:{click:function(t){return e.thenInput(t)}},model:{value:e.conditionalForm.thenCondition,callback:function(t){e.$set(e.conditionalForm,"thenCondition",t)},expression:"conditionalForm.thenCondition"}})],1),a("el-form-item",{attrs:{prop:"thenValidity",label:"Validity:"}},[a("el-select",{attrs:{placeholder:"Please select"},model:{value:e.conditionalForm.thenValidity,callback:function(t){e.$set(e.conditionalForm,"thenValidity",t)},expression:"conditionalForm.thenValidity"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._l(e.conditionalForm.elseIfInfo,(function(t,r){return a("el-form-item",{key:r,style:{marginBottom:"10px"}},[a("el-form-item",{attrs:{prop:"ifCondition",label:"ELSE IF"}},[a("el-input",{staticStyle:{width:"420px"},attrs:{id:"derivedIfText",type:"textarea",resize:"none",rows:3},model:{value:t.ifCondition,callback:function(a){e.$set(t,"ifCondition",a)},expression:"item.ifCondition"}})],1),a("el-form-item",{attrs:{prop:"thenCondition",label:"THEN"}},[a("el-input",{staticStyle:{width:"420px"},attrs:{id:"derivedThenText",type:"textarea",resize:"none",rows:3},model:{value:t.thenCondition,callback:function(a){e.$set(t,"thenCondition",a)},expression:"item.thenCondition"}})],1),a("el-form-item",{attrs:{prop:"validity",label:"Validity:"}},[a("el-select",{attrs:{placeholder:"Please select"},model:{value:t.validity,callback:function(a){e.$set(t,"validity",a)},expression:"item.validity"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)})),a("el-form-item",[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-circle-plus"},on:{click:e.addElsePage}},[e._v("ELSE IF")])],1),a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-remove"},on:{click:e.removeElsePage}},[e._v("ELSE IF")])],1)],1)],1),a("el-form-item",{attrs:{prop:"elseCondition",label:"ELSE"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{id:"derivedThenText",type:"textarea",resize:"none",rows:3},model:{value:e.conditionalForm.elseCondition,callback:function(t){e.$set(e.conditionalForm,"elseCondition",t)},expression:"conditionalForm.elseCondition"}})],1),a("el-form-item",{attrs:{prop:"elseValidity",label:"Validity:"}},[a("el-select",{attrs:{placeholder:"Please select"},on:{change:e.onElseValidityChange},model:{value:e.conditionalForm.elseValidity,callback:function(t){e.$set(e.conditionalForm,"elseValidity",t)},expression:"conditionalForm.elseValidity"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],2)},ce=[],ue=(a("fb6a"),a("5090")),de={data:function(){return{conditionalForm:{ifCondition:"",thenCondition:"",thenValidity:"",elseIfInfo:[],elseCondition:"",elseValidity:"",derivedParameterValue:NaN},options:[{value:"Automatic",label:"Automatic"},{value:"Invalid",label:"Invalid"},{value:"Valid",label:"Valid"}]}},created:function(){var e=this.$route.query.rowData;e&&"{}"!=JSON.parse(e).calculation_conditional&&(this.conditionalForm=Object(ue["a"])(JSON.parse(e).calculation_conditional))},mounted:function(){var e=this;this.$bus.$on("conditional",(function(t){var a=e.$store.state.parameters.calculationBlur.selectionStart;if("last"!==e.$store.state.parameters.calculationIndex)if(-2===e.$store.state.parameters.calculationIndex)e.conditionalForm["inputText"]=e.conditionalForm["inputText"].slice(0,a)+t+e.conditionalForm["inputText"].slice(a);else if(-1===e.$store.state.parameters.calculationIndex)e.conditionalForm["thenInputText"]=e.conditionalForm["thenInputText"].slice(0,a)+t+e.conditionalForm["thenInputText"].slice(a);else{var r=e.$store.state.parameters.calculationIndex%2,n=(e.$store.state.parameters.calculationIndex-r)/2;0===r&&(e.$refs["index_else"][n]["conditionalElseForm"]["inputText"]=e.$refs["index_else"][n]["conditionalElseForm"]["inputText"].slice(0,a)+t+e.$refs["index_else"][n]["conditionalElseForm"]["inputText"].slice(a),e.$refs["index_else"][n]["conditionalElseForm"]["inputText"].focus()),1===r&&(e.$refs["index_else"][n]["conditionalElseForm"]["thenInputText"]=e.$refs["index_else"][n]["conditionalElseForm"]["thenInputText"].slice(0,a)+t+e.$refs["index_else"][n]["conditionalElseForm"]["thenInputText"].slice(a))}else e.conditionalForm["elseInputText"]=e.conditionalForm["elseInputText"].slice(0,a)+t+e.conditionalForm["elseInputText"].slice(a)}))},watch:{conditionalForm:{handler:function(e){this.$store.dispatch("derivedParameters/clearParameters"),this.$store.dispatch("derivedParameters/updateConditionalForm",e),console.log("newValue",e)},deep:!0}},methods:{elseInput:function(){this.$store.commit("parameters/calculationIndex","last")},ifInput:function(){this.$store.commit("parameters/calculationIndex",-2)},thenInput:function(){this.$store.commit("parameters/calculationIndex",-1)},standardBlur:function(e){this.$store.commit("parameters/calculationBlur",e.srcElement)},addElsePage:function(){this.conditionalForm.elseIfInfo.push({ifCondition:"",thenCondition:"",validity:""})},removeElsePage:function(){this.conditionalForm.elseIfInfo.length>0&&this.conditionalForm.elseIfInfo.pop()},fetchParameterSuggestions:function(e,t){return Object(c["a"])(Object(l["a"])().mark((function a(){var r,n;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e){a.next=2;break}return a.abrupt("return",t([]));case 2:return a.prev=2,a.next=5,K({parameter_name:e});case 5:r=a.sent,n=r.data.map((function(e){return{value:e.parameter_name,name:e.parameter_name,guid:e.guid}})),t(n),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](2),console.error("Error fetching parameters:",a.t0),t([]);case 14:case"end":return a.stop()}}),a,null,[[2,10]])})))()},onElseValidityChange:function(e){this.conditionalForm.elseValidity=e,this.$store.dispatch("derivedParameters/clearParameters"),this.$store.dispatch("derivedParameters/updateconditionalForm",this.conditionalForm)}}},pe=de,me=(a("56d0"),Object(f["a"])(pe,le,ce,!1,null,"5d674da1",null)),fe=me.exports,he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{model:e.reversionForm,"label-width":"120px"}},[a("el-form-item",{attrs:{prop:"inputText",label:"IF"}},[a("el-autocomplete",{staticStyle:{width:"450px"},attrs:{"fetch-suggestions":e.fetchParameterSuggestions,placeholder:"Please select the parameter",clearable:!0},on:{select:e.handleSelect},model:{value:e.reversionForm.inputText,callback:function(t){e.$set(e.reversionForm,"inputText",t)},expression:"reversionForm.inputText"}}),a("span",[e._v(" = ")])],1),e._l(e.reversionForm.paramInfo,(function(t,r){return a("el-form-item",{key:r,style:{marginBottom:"10px"}},[a("el-row",[a("span",[e._v("THEN: Assign its value to New Derived Parameter")])]),a("el-row",[a("el-row",[a("span",[e._v("ELSE IF")]),a("el-autocomplete",{staticStyle:{width:"250px"},attrs:{"fetch-suggestions":e.fetchParameterSuggestions,placeholder:"Please select the parameter",clearable:!0},on:{select:function(t){return e.handleElseSelect(t,r)}},model:{value:t.inputText,callback:function(a){e.$set(t,"inputText",a)},expression:"item.inputText"}})],1)],1)],1)})),a("el-form-item",[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-circle-plus"},on:{click:e.addElsePage}},[e._v("ELSE IF")])],1),a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-remove"},on:{click:e.removeElsePage}},[e._v("ELSE IF")])],1)],1)],1),a("el-form-item",{attrs:{prop:"reversionType",label:"ELSE"}},[a("el-select",{staticStyle:{width:"250px"},attrs:{filterable:"",remote:"",size:"mini","reserve-keyword":"",placeholder:"search"},on:{change:e.onReversionTypeChange},model:{value:e.reversionForm.reversionType,callback:function(t){e.$set(e.reversionForm,"reversionType",t)},expression:"reversionForm.reversionType"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("span",[e._v(" is valid")])],1)],2)},ve=[],ge=(a("b0c0"),{data:function(){return{reversionForm:{reversionType:"",inputText:"",inputGuid:"",paramInfo:[{inputText:"",inputGuid:""}],derivedParameterValue:NaN},options:[{label:"Set parameter to zero and invalid",value:"set_to_zero_and_invalid"},{label:"Set parameter to last parameter(inherits validity)",value:"set_to_nth"},{label:"Set parameter to its previous value(retain)",value:"set_to_previous"}]}},created:function(){var e=this.$route.query.rowData;e&"{}"!=JSON.parse(e).calculation_reversion&&(this.reversionForm=Object(ue["a"])(JSON.parse(e).calculation_reversion))},methods:{addElsePage:function(){console.log("this.reversionForm",this.reversionForm),this.reversionForm.paramInfo.push({inputText:"",inputGuid:""})},removeElsePage:function(){this.reversionForm.paramInfo.length>1&&this.reversionForm.paramInfo.pop()},fetchParameterSuggestions:function(e,t){return Object(c["a"])(Object(l["a"])().mark((function a(){var r,n;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e){a.next=2;break}return a.abrupt("return",t([]));case 2:return a.prev=2,a.next=5,K({parameter_name:e});case 5:r=a.sent,n=r.data.map((function(e){return{value:e.parameter_name,name:e.parameter_name,guid:e.guid}})),t(n),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](2),console.error("Error fetching parameters:",a.t0),t([]);case 14:case"end":return a.stop()}}),a,null,[[2,10]])})))()},onReversionTypeChange:function(e){this.reversionForm.reversionType=e,this.$store.dispatch("derivedParameters/clearParameters"),this.$store.dispatch("derivedParameters/updateReversionForm",this.reversionForm)},handleSelect:function(e){this.reversionForm.inputText=e.name,this.reversionForm.inputGuid=e.guid,this.$store.dispatch("derivedParameters/clearParameters"),this.$store.dispatch("derivedParameters/updateReversionForm",this.reversionForm)},handleElseSelect:function(e,t){this.reversionForm.paramInfo[t].inputText=e.name,this.reversionForm.paramInfo[t].inputGuid=e.guid,this.$store.dispatch("derivedParameters/clearParameters"),this.$store.dispatch("derivedParameters/updateReversionForm",this.reversionForm)}}}),be=ge,_e=(a("85ca"),Object(f["a"])(be,he,ve,!1,null,"260998ea",null)),ye=_e.exports,xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{model:e.selectionForm,"label-width":"120px"}},[a("el-form-item",{attrs:{prop:"inputText",label:"IF"}},[a("el-autocomplete",{staticStyle:{width:"450px"},attrs:{"fetch-suggestions":e.fetchParameterSuggestions,placeholder:"Please select the parameter",clearable:!0},on:{select:e.handleSelect},model:{value:e.selectionForm.inputText,callback:function(t){e.$set(e.selectionForm,"inputText",t)},expression:"selectionForm.inputText"}}),a("span",[e._v(" = ")])],1),a("el-form-item",{attrs:{label:"Else Info"}},e._l(e.selectionForm.elseInfo,(function(t,r){return a("el-row",{key:r,style:{marginBottom:"10px"}},[a("el-input-number",{attrs:{"controls-position":"right",size:"mini"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}),e._v(" "),a("span",[e._v("Then Use")]),a("el-autocomplete",{staticStyle:{width:"250px"},attrs:{"fetch-suggestions":e.fetchParameterSuggestions,placeholder:"Please select the parameter",clearable:!0},on:{select:function(t){return e.handleElseSelect(t,r)}},model:{value:t.inputText,callback:function(a){e.$set(t,"inputText",a)},expression:"item.inputText"}})],1)})),1),a("el-form-item",[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-circle-plus"},on:{click:e.addElsePage}},[e._v("ELSE IF")])],1),a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-remove"},on:{click:e.removeElsePage}},[e._v("ELSE IF")])],1)],1)],1)],1)},we=[],Se={data:function(){return{selectionForm:{inputText:"",inputGuid:"",elseInfo:[{inputText:"",inputGuid:"",value:""}],derivedParameterValue:NaN}}},created:function(){var e=this.$route.query.rowData;e&&"{}"!=JSON.parse(e).calculation_source_selection&&(this.selectionForm=Object(ue["a"])(JSON.parse(e).calculation_source_selection))},methods:{addElsePage:function(){this.selectionForm.elseInfo.push({inputText:"",inputGuid:"",value:""})},removeElsePage:function(){this.selectionForm.elseInfo.length>1&&this.selectionForm.elseInfo.pop()},fetchParameterSuggestions:function(e,t){return Object(c["a"])(Object(l["a"])().mark((function a(){var r,n;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e){a.next=2;break}return a.abrupt("return",t([]));case 2:return a.prev=2,a.next=5,K({parameter_name:e});case 5:r=a.sent,n=r.data.map((function(e){return{value:e.parameter_name,name:e.parameter_name,guid:e.guid}})),t(n),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](2),console.error("Error fetching parameters:",a.t0),t([]);case 14:case"end":return a.stop()}}),a,null,[[2,10]])})))()},handleSelect:function(e){this.selectionForm.inputText=e.name,this.selectionForm.inputGuid=e.guid,this.$store.dispatch("derivedParameters/clearParameters"),this.$store.dispatch("derivedParameters/updateSelectionForm",this.selectionForm)},handleElseSelect:function(e,t){this.selectionForm.elseInfo[t].inputText=e.name,this.selectionForm.elseInfo[t].inputGuid=e.guid,this.$store.dispatch("derivedParameters/clearParameters"),this.$store.dispatch("derivedParameters/updateSelectionForm",this.selectionForm)}}},ke=Se,Oe=(a("20c3"),Object(f["a"])(ke,xe,we,!1,null,"2ea24378",null)),Ce=Oe.exports,Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"rollingAverageForm",attrs:{rules:e.rules,model:e.rollingAverageForm,"label-width":"200px"}},[a("el-form-item",{attrs:{prop:"inputText",label:"IF"}},[a("el-autocomplete",{staticStyle:{width:"450px"},attrs:{"fetch-suggestions":e.fetchParameterSuggestions,placeholder:"Please select the parameter",clearable:!0},on:{select:e.handleSelect},model:{value:e.rollingAverageForm.inputText,callback:function(t){e.$set(e.rollingAverageForm,"inputText",t)},expression:"rollingAverageForm.inputText"}}),a("span",[e._v(" = ")])],1),a("el-form-item",{attrs:{prop:"selectionNum",label:"Samples to Average"}},[a("el-input-number",{attrs:{"controls-position":"right",size:"mini"},on:{change:e.onSelectionNumChange},model:{value:e.rollingAverageForm.selectionNum,callback:function(t){e.$set(e.rollingAverageForm,"selectionNum",t)},expression:"rollingAverageForm.selectionNum"}})],1)],1)],1)},Ee=[],je={name:"MyComponent",data:function(){return{rules:{inputText:[{required:!0,message:"required",trigger:"blur"}],selectionNum:[{required:!0,message:"required",trigger:"blur"}]},rollingAverageForm:{inputText:"",selectionNum:0,parameterSelect:{},derivedParameterValue:NaN},options:[]}},created:function(){var e=this.$route.query.rowData;e&&"{}"!=JSON.parse(e).calculation_rolling_average&&(this.rollingAverageForm=Object(ue["a"])(JSON.parse(e).calculation_rolling_average))},methods:{fetchParameterSuggestions:function(e,t){return Object(c["a"])(Object(l["a"])().mark((function a(){var r,n;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e){a.next=2;break}return a.abrupt("return",t([]));case 2:return a.prev=2,a.next=5,K({parameter_name:e});case 5:r=a.sent,n=r.data.map((function(e){return{value:e.parameter_name,name:e.parameter_name,guid:e.guid}})),t(n),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](2),console.error("Error fetching parameters:",a.t0),t([]);case 14:case"end":return a.stop()}}),a,null,[[2,10]])})))()},onSelectionNumChange:function(e){this.rollingAverageForm.selectionNum=e,this.$store.dispatch("derivedParameters/clearParameters"),this.$store.dispatch("derivedParameters/updateRollingAverageForm",this.rollingAverageForm)},handleSelect:function(e){console.log("item::",e),this.rollingAverageForm.parameterSelect=e,this.$store.dispatch("derivedParameters/clearParameters"),this.$store.dispatch("derivedParameters/updateRollingAverageForm",this.rollingAverageForm)}}},Re=je,Pe=(a("7c65"),Object(f["a"])(Re,Te,Ee,!1,null,null,null)),De=Pe.exports,$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"validAverageForm",staticClass:"demo-dynamic",attrs:{model:e.validAverageForm,"label-width":"250px"}},[e._l(e.validAverageForm.parameters,(function(t,r){return a("el-form-item",{key:r,attrs:{prop:"parameters["+r+"].name",label:"IF"}},[a("el-autocomplete",{staticStyle:{width:"450px"},attrs:{"fetch-suggestions":e.fetchParameterSuggestions,placeholder:"Please select the parameter",clearable:!0},on:{select:e.handleSelect},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"parameter.name"}}),a("span",[e._v(" = ")])],1)})),a("el-form-item",[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-circle-plus"},on:{click:function(t){return e.addValidAverageParameter()}}},[e._v("Add ELSE IF")])],1),a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-remove"},on:{click:function(t){return e.removeValidAverageParameter()}}},[e._v("Remove ELSE IF")])],1)],1)],1)],2)],1)},Fe=[],Ae={data:function(){return{validAverageForm:{parameters:[{inputText:"",value:"",name:"",guid:""}]},options:[]}},created:function(){var e=this.$route.query.rowData;e&&"{}"!=JSON.parse(e).calculation_valid_average&&(this.validAverageForm=Object(ue["a"])(JSON.parse(e).calculation_valid_average))},methods:{fetchParameterSuggestions:function(e,t){return Object(c["a"])(Object(l["a"])().mark((function a(){var r,n;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e){a.next=2;break}return a.abrupt("return",t([]));case 2:return a.prev=2,a.next=5,K({parameter_name:e});case 5:r=a.sent,n=r.data.map((function(e){return{inputText:e.inputText,value:e.parameter_name,name:e.parameter_name,guid:e.guid}})),t(n),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](2),console.error("Error fetching parameters:",a.t0),t([]);case 14:case"end":return a.stop()}}),a,null,[[2,10]])})))()},handleSelect:function(e){this.validAverageForm.parameters[this.validAverageForm.parameters.length-1]=e,this.$store.dispatch("derivedParameters/clearParameters"),this.$store.dispatch("derivedParameters/updateValidAverageForm",this.validAverageForm)},removeValidAverageParameter:function(){var e=this.validAverageForm.parameters.length;1!==e&&(this.validAverageForm.parameters.pop(),this.$store.dispatch("derivedParameters/clearParameters"),this.$store.dispatch("derivedParameters/updateValidAverageForm",this.validAverageForm))},addValidAverageParameter:function(){this.validAverageForm.parameters.push({inputText:"",value:"",name:"",guid:""})}}},Ie=Ae,Ne=(a("02f8"),Object(f["a"])(Ie,$e,Fe,!1,null,null,null)),Le=Ne.exports,Me={components:{Standard:se,Conditional:fe,Reversion:ye,SourceSelection:Ce,RollingAverage:De,ValidAverage:Le},created:function(){var e=this.$route.query.rowData;if(e){var t=JSON.parse(e);t.calculation_standard&&"{}"!==t.calculation_standard?this.activeName="Standard":t.calculation_conditional&&"{}"!==t.calculation_conditional?this.activeName="Conditional":t.calculation_reversion&&"{}"!==t.calculation_reversion?this.activeName="Reversion":t.calculation_source_selection&&"{}"!==t.calculation_source_selection?this.activeName="Source Selection":t.calculation_rolling_average&&"{}"!==t.calculation_rolling_average?this.activeName="Rolling Average":t.calculation_valid_average&&"{}"!==t.calculation_valid_average?this.activeName="Valid Average":this.activeName="Standard"}},data:function(){return{activeName:""}},methods:{handleClick:function(e,t){this.$store.commit("parameters/calculationPage",this.activeName)}}},Ve=Me,Be=Object(f["a"])(Ve,ee,te,!1,null,null,null),Ue=Be.exports,ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return"Standard"==e.$store.state.parameters.calculationPage||"Conditional"==e.$store.state.parameters.calculationPage||"Reversion"==e.$store.state.parameters.calculationPage||"Source Selection"==e.$store.state.parameters.calculationPage?a("el-row",{staticStyle:{"margin-left":"-20px"}},[a("el-row",[a("el-table",{attrs:{data:e.$store.state.parameters.parameterWithValue,height:"calc(88vh - 450px)"}},[a("el-table-column",{attrs:{prop:"parameter",label:"Parameter","header-align":"center",align:"center",width:"120px"}}),a("el-table-column",{attrs:{prop:"value",label:"Value","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isshow[t.$index]?a("el-input",{attrs:{type:"text",size:"mini",clearable:""},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value","string"===typeof a?a.trim():a)},expression:"scope.row.value"}}):e._e(),e.isshow[t.$index]?e._e():a("span",[e._v(e._s(t.row.value))])]}}],null,!1,3847307728)}),a("el-table-column",{attrs:{label:"Options"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isshow[t.$index]?a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-check"},on:{click:function(a){return e.handelCheck(t.$index,t.row.value)}}}):e._e(),e.isshow[t.$index]?e._e():a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.handleEdit(t.$index)}}})]}}],null,!1,252151869)})],1)],1),a("el-row",[a("el-form",[a("el-form-item",{attrs:{label:"derivedParameterValue:"}},[a("span",[e._v(e._s(e.$store.state.parameters.derivedParameterValue))])])],1)],1)],1):e._e()},He=[],qe={data:function(){return{testData:[],isshow:[]}},computed:{trigger1:function(){return this.$store.state.parameters.sourceNum},trigger2:function(){return this.$store.state.parameters.parameterWithValue},triggerTable:function(){return this.$store.state.parameters.calculationPage}},watch:{trigger1:function(e,t){this.valueOfSourceSelection()},trigger2:function(e,t){this.valueOfSourceSelection()},triggerTable:function(e,t){var a=this;this.$nextTick((function(){"Source Selection"===a.$store.state.parameters.calculationPage&&a.valueOfSourceSelection(),"Standard"===a.$store.state.parameters.calculationPage&&a.valueOfStandard()}))}},methods:{valueOfStandard:function(){this.$bus.$emit("derivedParameter","derivedParameter")},valueOfSourceSelection:function(){for(var e=this.$store.state.parameters.parameterWithValue,t=this.$store.state.parameters.sourceNum,a=e[0],r=1;r<e.length;r++)for(var n=0;n<t.length;n++)if(parseInt(a.value)===t[n])for(var i=1;i<e.length;i++)if(e[i].index===t[n])return void this.$store.commit("parameters/derivedParameterValue",e[i].value);this.$store.commit("parameters/derivedParameterValue","NULL")},handleEdit:function(e){this.$set(this.isshow,e,!0)},handelCheck:function(e,t){var a=this.$store.state.parameters.parameterWithValue;a[e]["value"]=t.toString(),this.$store.commit("parameters/parameterWithValue",a),this.$set(this.isshow,e,!1),"Source Selection"===this.$store.state.parameters.calculationPage&&this.valueOfSourceSelection(),"Standard"===this.$store.state.parameters.calculationPage&&this.valueOfStandard()}}},Ge=qe,We=Object(f["a"])(Ge,ze,He,!1,null,null,null),Je=We.exports,Ke={components:{Property:q,Blocks:Z,Calculation:Ue,ResultTest:Je,DerivedParameterHeader:N},data:function(){return{voidCondition:{calculation_conditional:"",calculation_conditional_else:"",calculation_source_selection:"",calculation_source_selection_else:"",calculation_standard:""}}},created:function(){var e=this.$route.query.rowData;e&&(this.rowData=JSON.parse(e),console.log("fuck!",this.rowData),this.$store.dispatch("derivedParameters/updateParameterForm",JSON.parse(e)))},beforeRouteLeave:function(e,t,a){console.log("clean!"),this.$store.dispatch("derivedParameters/updateParameterForm",{}),a()},methods:{returnToDerivedParameters:function(){this.$router.push({path:"/parametersbus/derivedparameters"})},handleClone:function(e){var t=this;return Object(c["a"])(Object(l["a"])().mark((function a(){return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$confirm("Confirm to clone the project?","Warning",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then(Object(c["a"])(Object(l["a"])().mark((function a(){return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,addProject(e.row);case 2:t.projectsList.push(e.row),t.getProjects({page:t.currentPage,limit:t.pageSize}),t.$message({type:"success",message:"Clone successd!"});case 5:case"end":return a.stop()}}),a)})))).catch((function(e){console.error(e)}));case 1:case"end":return a.stop()}}),a)})))()},submitDerivedParameter:function(){var e=this;return Object(c["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{a=e.$store.getters.derivedParameters,a["project_id"]=1,a["calculation_standard"]="{}"!==a["calculation_standard"]?JSON.stringify(a["calculation_standard"]):"{}",a["calculation_conditional"]="{}"!==a["calculation_conditional"]?JSON.stringify(a["calculation_conditional"]):"{}",a["calculation_reversion"]="{}"!==a["calculation_reversion"]?JSON.stringify(a["calculation_reversion"]):"{}",a["calculation_source_selection"]="{}"!==a["calculation_source_selection"]?JSON.stringify(a["calculation_source_selection"]):"{}",a["calculation_rolling_average"]="{}"!==a["calculation_rolling_average"]?JSON.stringify(a["calculation_rolling_average"]):"{}",a["calculation_valid_average"]="{}"!==a["calculation_valid_average"]?JSON.stringify(a["calculation_valid_average"]):"{}",a["calculation_custom"]="{}",a["display_values"]=String(a["display_values"]),a["steady_state_filter"]=String(a["steady_state_filter"]),a["value_scaling"]=String(a["value_scaling"]),-1==e.$store.getters.derivedParameters.id?k(a).then((function(t){e.$router.push({path:"/parametersbus/derivedparameters"})})):(e.voidCondition.id=e.$store.getters.derivedParameters.id,O(a).then((function(t){e.$router.push({path:"/parametersbus/derivedparameters"})})))}catch(r){console.error("Error while submitting parameters:",r)}case 1:case"end":return t.stop()}}),t)})))()}}},Xe=Ke,Qe=(a("0f57"),Object(f["a"])(Xe,R,P,!1,null,"20b62454",null)),Ye=Qe.exports,Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"margin-top":"10px"}},[a("el-row",[a("el-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{type:"primary"},on:{click:e.exportXML}},[e._v("exportXML")]),a("el-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"mini",type:"primary"},on:{click:e.handleUpload}},[e._v("importXML ")]),a("input",{ref:"upLoadXmlInput",staticStyle:{display:"none"},attrs:{type:"file",accept:".xml"},on:{change:e.handleClick}})],1),a("el-row",{staticStyle:{"margin-top":"20px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-left":"10px",height:"calc(100vh - 180px)"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("rules")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{icon:"el-icon-edit-outline",type:"text"},on:{click:e.goToRule}},[e._v("ruleEditor")])],1),a("div",{staticStyle:{"margin-top":""}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.ruleShowData}},[a("el-table-column",{attrs:{prop:"data"}})],1)],1)])],1),a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-right":"10px",height:"calc(100vh - 180px)"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("tasks")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{icon:"el-icon-edit-outline",type:"text"},on:{click:e.goToTask}},[e._v("taskEditor")])],1),a("div",{staticStyle:{"margin-top":""}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.taskShowData}},[a("el-table-column",{attrs:{prop:"data"}})],1)],1)])],1)],1)],1)])},et=[],tt=a("53ca"),at=(a("b680"),a("ac1f"),a("00b4"),a("5319"),x["a"]+"api/system/rule/");function rt(e){var t=Object.entries(e).filter((function(e){var t=Object(_["a"])(e,2),a=(t[0],t[1]);return null!==a&&""!==a})).map((function(e){var t=Object(_["a"])(e,2),a=t[0],r=t[1];return"".concat(a,"=").concat(encodeURIComponent(r))})).join("&"),a=at+(t?"?".concat(t):"");return Object(y["a"])({url:a,method:"get",query:e})}function nt(e){return Object(y["a"])({url:at,method:"post",data:e})}function it(e){return Object(y["a"])({url:at+e.id+"/",method:"put",data:e})}function ot(e){return Object(y["a"])({url:at+e+"/",method:"delete",data:{id:e}})}var st=x["a"]+"api/system/task/";function lt(e){var t=Object.entries(e).filter((function(e){var t=Object(_["a"])(e,2),a=(t[0],t[1]);return null!==a&&""!==a})).map((function(e){var t=Object(_["a"])(e,2),a=t[0],r=t[1];return"".concat(a,"=").concat(encodeURIComponent(r))})).join("&"),a=st+(t?"?".concat(t):"");return Object(y["a"])({url:a,method:"get",query:e})}function ct(e){return Object(y["a"])({url:st,method:"post",data:e})}function ut(e){return Object(y["a"])({url:st+e.id+"/",method:"put",data:e})}function dt(e){return Object(y["a"])({url:st+e+"/",method:"delete",data:{id:e}})}var pt=x["a"]+"api/system/ruletotask/";function mt(e){var t=Object.entries(e).filter((function(e){var t=Object(_["a"])(e,2),a=(t[0],t[1]);return null!==a&&""!==a})).map((function(e){var t=Object(_["a"])(e,2),a=t[0],r=t[1];return"".concat(a,"=").concat(encodeURIComponent(r))})).join("&"),a=pt+(t?"?".concat(t):"");return Object(y["a"])({url:a,method:"get",query:e})}function ft(e){return Object(y["a"])({url:pt,method:"post",data:e})}function ht(e){return Object(y["a"])({url:pt+e.id+"/",method:"put",data:e})}a("4d63"),a("c607"),a("2c3e"),a("5b81"),a("2ca0");var vt=a("4360");function gt(){var e,t=["event_current_state","event_current_state_time","event_previous_state","event_previous_state_time"],a=["param_value_scaled","param_is_valid","param_is_updated","param_is_acquired","param_is_derived","param_value_unscaled","param_validity_unmasked","param_raw"],r=[],n=[],i=[],o=Object(V["a"])(vt["a"].state.parameters.contentInfo);try{for(o.s();!(e=o.n()).done;){var s=e.value,l={value:s["value"],guid:s["guid"]};n.push(l)}}catch(E){o.e(E)}finally{o.f()}for(var c=0,u=a;c<u.length;c++){var d,p=u[c],m=Object(V["a"])(n);try{for(m.s();!(d=m.n()).done;){var f=d.value,h={};h["function"]=p,h["parameter"]=f["value"],h["guid"]=f["guid"],r.push(h)}}catch(E){m.e(E)}finally{m.f()}}var v,g=Object(V["a"])(vt["a"].state.rules.totalRule);try{for(g.s();!(v=g.n()).done;){var b=v.value,_={value:b["name"]};i.push(_)}}catch(E){g.e(E)}finally{g.f()}for(var y=0,x=t;y<x.length;y++){var w,S=x[y],k=Object(V["a"])(i);try{for(k.s();!(w=k.n()).done;){var O=w.value,C={};C["function"]=S,C["parameter"]=O["value"],C["guid"]="",r.push(C)}}catch(E){k.e(E)}finally{k.f()}}var T={function:"",parameter:"MEM",guid:""};return r.push(T),vt["a"].commit("parameters/reformedParameter",r),r}function bt(e){var t=St(e);return t}function _t(e){var t=["<","<=",">",">=","!=","==","AND","OR","XOR"],a=vt["a"].state.parameters.reformedParameter,r=e.replace(/\s/g,"");r="("+r+")";var n,i=Object(V["a"])(a);try{for(i.s();!(n=i.n()).done;){var o=n.value,s=o["function"]+"("+o["parameter"]+")";if(s=s.replace(/\s/g,""),-1!=r.indexOf(s)){var l=o["function"]+"-"+o["parameter"];l=l.replace(/\s/g,""),r=r.replaceAll(s,l)}}}catch(m){i.e(m)}finally{i.f()}for(var c=0,u=t;c<u.length;c++){var d=u[c];r=xt(r,d)}r=r.slice(1,-1),r="("+yt(r)+")";var p=wt(r);return p}function yt(e){for(var t=e.split(" "),a=["<","<=",">",">=","!=","=="],r=0;r<t.length;r++)if(a.includes(t[r])){var n=r-1,i=r+1;if(")"===t[n][t[n].length-1]){for(var o=0,s=n;s>=0;s--)for(var l=t[s].length-1;l>=0;l--)if(")"===t[s][l]&&o++,"("===t[s][l]&&o--,0===o){t[s]="(".concat(t[s]);break}}else t[n]="(".concat(t[n]);if("("===t[i][0]){for(var c=0,u=i;u<t.length;u++)for(var d=0;d<t[u].length;d++)if("("===t[u][d]&&c++,")"===t[u][d]&&c--,0===c){t[u]=t[u].concat(")");break}}else t[i]=t[i].concat(")")}var p=t.join(" ");return p}function xt(e,t){var a=new RegExp("(".concat(t,")"),"g");return e.replace(a," $1 ")}function wt(e){var t=0,a=[];function r(){while(t<e.length&&/\s/.test(e[t]))t++}function n(){var e=i();while(1){r();var t=o();if(!t)break;var n=i();a.push({FirstExpression:e,Operator:t,SecondExpression:n}),e="".concat(e," ").concat(t," ").concat(n)}}function i(){if(r(),"("===e[t]){t++;var a=t;if(n(),r(),")"===e[t])return t++,e.slice(a-1,t)}var i=t;while(t<e.length&&!/\s/.test(e[t])&&")"!==e[t]&&!o())t++;return e.slice(i,t)}function o(){return r(),e.startsWith("AND",t)?(t+=3,"AND"):e.startsWith("OR",t)?(t+=2,"OR"):e.startsWith("==",t)?(t+=2,"=="):e.startsWith("!=",t)?(t+=2,"!="):e.startsWith(">=",t)?(t+=2,">="):e.startsWith("<=",t)?(t+=2,"<="):e.startsWith("<",t)?(t+=1,"<"):e.startsWith(">",t)?(t+=1,">"):null}return n(),a}function St(e){for(var t=null,a=0;a<e.length;a++){e[a].FirstExpression,e[a].Operator,e[a].SecondExpression;t={FirstExpression:kt(e[a].FirstExpression,a,e),Operator:e[a].Operator,SecondExpression:kt(e[a].SecondExpression,a,e)}}return t}function kt(e,t,a){for(var r=0;r<t;r++){var n=a[r],i=n.FirstExpression+" "+n.Operator+" "+n.SecondExpression;if(i.replace(/[\(\)]/g,"")===e.replace(/[\(\)]/g,""))return{FirstExpression:kt(n.FirstExpression,r,a),Operator:n.Operator,SecondExpression:kt(n.SecondExpression,r,a)}}return e.replace(/[\(\)]/g,"")}var Ot=a("98fc"),Ct=a.n(Ot),Tt=(a("c19f"),a("ace4"),a("2c66"),a("249d"),a("40e9"),a("5cc6"),a("907a"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("986a"),a("1d02"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("6ce5"),a("2834"),a("72f7"),a("4ea1"),a("8303"));function Et(e){var t=Rt(e),a=[];a.push(t);for(var r=new Date,n=r.toLocaleString()+".xml",i=new File(a,n,{type:"text/plain;charset=utf-8"}),o=new Uint8Array(a.length/2),s=0;s<a.length;s+=2)o[s/2]=parseInt(a[s]+a[s+1],16);Object(Tt["saveAs"])(i)}new DOMParser;var jt=function(e){for(var t="",a="  ",r=[],n=0;n<e;++n)r.push(a);return t=r.join(""),t},Rt=function(e){var t=e;t="\n"+t.replace(/(<\w+)(\s.*?>)/g,(function(e,t,a){return t+" "+a.replace(/\s+(\w+=)/g," $1")})).replace(/>\s*?</g,">\n<"),t=t.replace(/\n/g,"\r").replace(/<!--(.+?)-->/g,(function(e,t){return"\x3c!--"+escape(t)+"--\x3e"})).replace(/\r/g,"\n");var a=/\n(<(([^\?]).+?)(?:\s|\s*?>|\s*?(\/)>)(?:.*?(?:(?:(\/)>)|(?:<(\/)\2>)))?)/gm,r=[],n=t.replace(a,(function(e,t,a,n,i,o,s,l){var c="/"===i||"/"===o||"/"===s||"/"===l,u="";return"!"===n?
//! 开头
u=jt(r.length):"/"!==n?(u=jt(r.length),c||r.push(a)):(r.pop(),u=jt(r.length)),"\n"+u+t})),i=n.substring(1);return i=i.replace(/\n/g,"\r").replace(/(\s*)<!--(.+?)-->/g,(function(e,t,a){"\r"===t.charAt(0)&&(t=t.substring(1)),a=unescape(a).replace(/\r/g,"\n");var r="\n"+t+"\x3c!--"+a.replace(/^\s*/gm,t)+"--\x3e";return r})),i=i.replace(/\s+$/g,"").replace(/\r/g,"\r\n"),i},Pt=a("744c"),Dt=a.n(Pt),$t={name:"ComponentName",data:function(){return{ruleData:[],taskData:[],ruleShowData:[],taskShowData:[]}},mounted:function(){this.summaryPageInfo()},methods:{handleUpload:function(){this.$refs["upLoadXmlInput"].click()},handleClick:function(e){var t=e.target.files,a=t[0];a&&this.upload(a)},upload:function(e){var t=this;this.$refs["upLoadXmlInput"].value=null;var a=new FileReader,r={};a.readAsArrayBuffer(e),a.onload=function(e){var a=e.target.result,n=new TextDecoder,i=n.decode(a),o=new Ct.a;r=o.xml2js(i),console.log("xmlContent",r),r=t.organizeData(r)}},organizeData:function(e){var t={},a=[],r={},n={};"object"===Object(tt["a"])(e["acmf"]["Rules"]["Rule"])&&(e["acmf"]["Rules"]["Rule"]=[e["acmf"]["Rules"]["Rule"]]);var i,o=Object(V["a"])(e["acmf"]["Rules"]["Rule"][0]);try{for(o.s();!(i=o.n()).done;){var s=i.value;t["name"]=s["_Name"],t["group"]=s["_DataGroup"],t["rate"]=s["_Rate"],t["delay"]=s["_StartDelay"],t["cycles"]=s["_CyclesToSteadyState"],t["triggerLimit"]=s["_TriggerLimit"],t["logLimit"]=s["_EventLogLimit"],t["trigger"]=s["_ConditionEvaluation"],t["recordCheck"]=s["_SuppressEventRecording"],t["initialState"]=s["_InitialState"],t["part"]="";var l={},c=[];l=this.mainBodyFormat(s["MainBody"]),c.push(l),"object"===Object(tt["a"])(s["Alternates"]["Alternate"])&&(s["Alternates"]["Alternate"]=[s["Alternates"]["Alternate"]]);var u,d=Object(V["a"])(s["Alternates"]["Alternate"][0]);try{for(d.s();!(u=d.n()).done;){var p=u.value;console.log("alternate",p),l=this.mainBodyFormat(p),c.push(l)}}catch(w){d.e(w)}finally{d.f()}a["conditions"]=c}}catch(w){o.e(w)}finally{o.f()}"object"===Object(tt["a"])(e["acmf"]["Tasks"]["HmuEventTask"])&&(e["acmf"]["Tasks"]["HmuEventTask"]=[e["acmf"]["Tasks"]["HmuEventTask"]]);var m,f=Object(V["a"])(e["acmf"]["Tasks"]["HmuEventTask"]);try{for(f.s();!(m=f.n()).done;){var h=m.value;r["taskname"]=h["_Name"],r["tasktype"]="HMU Event Task",r["executionlimit"]="",r["recorddata"]="",r["starttime"]="",r["stoptime"]="",r["parameter"]="",n.push(r)}}catch(w){f.e(w)}finally{f.f()}if("object"===Object(tt["a"])(e["acmf"]["Tasks"]["ParameterAssociation"])){e["acmf"]["Tasks"]["ParameterAssociation"]=[e["acmf"]["Tasks"]["ParameterAssociation"]];var v,g=Object(V["a"])(e["acmf"]["Tasks"]["ParameterAssociation"]);try{for(g.s();!(v=g.n()).done;){var b=v.value;r["taskname"]=b["_Name"],r["tasktype"]="Parameter Association",r["executionlimit"]="",r["recorddata"]="",r["starttime"]="",r["stoptime"]="",r["parameter"]="",n.push(r)}}catch(w){g.e(w)}finally{g.f()}}if("object"===Object(tt["a"])(e["acmf"]["Tasks"]["ParameterRecordingTask"])){e["acmf"]["Tasks"]["ParameterRecordingTask"]=[e["acmf"]["Tasks"]["ParameterRecordingTask"]];var _,y=Object(V["a"])(e["acmf"]["Tasks"]["ParameterRecordingTask"]);try{for(y.s();!(_=y.n()).done;){var x=_.value;r["taskname"]=x["_Name"],r["tasktype"]="Parameter Recording Task",r["executionlimit"]="",r["recorddata"]="",r["starttime"]="",r["stoptime"]="",r["parameter"]="",n.push(r)}}catch(w){y.e(w)}finally{y.f()}}},mainBodyFormat:function(e){console.log("conditions",e);var t={},a=e["exprString"],r=[],n={};if(""!=e["Timers"]){var i=e["Timers"]["Timer"];"object"===Object(tt["a"])(i)&&(i=[i]);var o,s=Object(V["a"])(i);try{for(s.s();!(o=s.n()).done;){var l=o.value;n["timerType"]=l["_SelectedTimer"],n["timeTodo"]=l["_Function"],r.push(n)}}catch(v){s.e(v)}finally{s.f()}}var c=[],u={};if(""!=e["MemOps"]){var d=e["MemOps"]["MemOp"];"object"===Object(tt["a"])(d)&&(d=[d]);var p,m={ms:"ms",mp:"mp",mm:"mm",mc:"mc"},f=Object(V["a"])(d);try{for(f.s();!(p=f.n()).done;){var h=p.value;u["type"]=m[h["_Function"]],Object.keys(h).includes("Expression")?(u["content"]=this.expressionGenerate(h["Expression"]),console.log("conditions314",u["content"])):u["content"]=[],c.push(u)}}catch(v){f.e(v)}finally{f.f()}}t["computeBox"]=a,console.log("309happen",t)},expressionGenerate:function(e){console.log("object30",e);var t={value_scaled:"param_value_scaled",validity_valid:"param_is_valid",validity_updated:"param_is_updated",validity_acquired:"param_is_acquired",validity_derived:"param_is_derived",value:"param_value_unscaled",validity:"param_validity_unmasked",raw:"param_raw"};if(Object.keys(e).includes("MainBody")){var a=this.expressionGenerate(e["MainBody"]["FirstExpression"]),r=this.expressionGenerate(e["MainBody"]["SecondExpression"]),n=e["MainBody"]["Operator"];return"("+a+" "+n+" "+r+")"}return Object.keys(e).includes("Parameter")?t[e["_Function"]]+"("+e["_Name"]+")":Object.keys(e).includes("MemFunc")?"MEM":e[Object.keys(e)]},goToRule:function(){this.$router.push({name:"Rule"})},goToTask:function(){this.$router.push({name:"Task"})},exportXML:function(){var e=gt();this.$store.commit("parameters/reformedParameter",e);var t=Dt.a.create("acmf"),a=this.$store.state.rules.totalRule,r=this.$store.state.tasks.totalTask,n=t.ele("Rules"),i=["trigger","cycles","group","logLimit","initialState","name","rate","delay","recordCheck","triggerLimit","conditions"];console.log("ruleArray::::",a);var o,s=Object(V["a"])(a);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=n.ele("Rule"),u=c.ele("AircraftPart");u.att("ATAChapter","73"),u.att("ATASubsection","0");var d,p=Object(V["a"])(i);try{for(p.s();!(d=p.n()).done;){var m=d.value;if(console.log("RULE126",m),"name"==m&&c.att("Name",l[m]),"trigger"==m&&("change from False to True"==l[m]&&c.att("ConditionEvaluation","risingEdge"),"change from True to False"==l[m]&&c.att("ConditionEvaluation","fallingEdge"),"changevalues"==l[m]&&c.att("ConditionEvaluation","changevalues")),"cycles"==m&&c.att("CyclesToSteadyState",l[m]),"initialState"==m&&c.att("InitialState",l["initialState"]),"rate"==m&&c.att("Rate",l[m]),"group"==m&&c.att("DataGroup","Default_File_Event"),"logLimit"==m&&c.att("EventLogLimit",l[m]),"delay"==m&&c.att("StartDelay",parseFloat(l[m].toString()).toFixed(1)),"recordCheck"==m&&c.att("SuppressEventRecording",l[m]),"triggerLimit"==m&&c.att("TriggerLimit",l[m]),"conditions"==m)for(var f=c.ele("MainBody"),h=0;h<l["condition"].length;h++)if(0==h)for(var v=0,g=Object.keys(l["condition"][h]);v<g.length;v++){var b=g[v];if("computeBox"==b){var _=l["condition"][h][b],y=_t(_),x=bt(y),w=this.parseNestedStructure(x,"Main");f.ele(w);var S={exprString:l["condition"][h][b]};f.ele(S)}if("memoryBox"==b){var k,O=f.ele("MemOps"),C=Object(V["a"])(l["condition"][h][b]);try{for(C.s();!(k=C.n()).done;){var T=k.value,E={};if(isNaN(T["content"])){var j=T["content"],R=_t(j);E=bt(R),"ms"==T["type"]&&(E={"@Function":"ms",Expression:this.parseNestedStructure(E,"Mem")},E={MemOp:E}),"mp"==T["type"]&&(E={"@Function":"mp",Expression:this.parseNestedStructure(E,"Mem")},E={MemOp:E}),"mm"==T["type"]&&(E={"@Function":"mm",Expression:this.parseNestedStructure(E,"Mem")},E={MemOp:E}),"mc"==T["type"]&&(E={"@Function":"mc"},E={MemOp:E})}else{parseFloat(T["content"]),parseInt(T["content"]);var P={};E={},P=/^\d+$/.test(T["content"])?{ConstantInt:T["content"]}:{ConstantFloat:T["content"]},"ms"==T["type"]&&(E={"@Function":"ms",Expression:P},E={MemOp:E}),"mp"==T["type"]&&(E={"@Function":"mp",Expression:P},E={MemOp:E}),"mm"==T["type"]&&(E={"@Function":"mm",Expression:P},E={MemOp:E}),"mc"==T["type"]&&(E={"@Function":"mc"},E={MemOp:E})}O.ele(E)}}catch(je){C.e(je)}finally{C.f()}}if("timeBox"==b){var D,$=f.ele("Timers"),F=Object(V["a"])(l["condition"][h][b]);try{for(F.s();!(D=F.n()).done;){var A=D.value,I=A["timeTodo"].toLowerCase(),N=A["timeType"].toLowerCase(),L={Timer:{"@Function":I,"@SelectedTimer":N}};$.ele(L)}}catch(je){F.e(je)}finally{F.f()}}}}}catch(je){p.e(je)}finally{p.f()}var M,B=Object(V["a"])(this.$store.state.rules.ruletotask);try{for(B.s();!(M=B.n()).done;){var U=M.value;if(U["rulename"]==l["name"]){var z,H=c.ele("Tasks"),q=JSON.parse(U["taskname"]),G=Object(V["a"])(q);try{for(G.s();!(z=G.n()).done;){var W=z.value,J={Task:W};H.ele(J)}}catch(je){G.e(je)}finally{G.f()}}}}catch(je){B.e(je)}finally{B.f()}l["condition"]=JSON.parse(l["condition"]);for(var K=c.ele("Alternates"),X=1;X<l["condition"].length;X++)for(var Q=K.ele("Alternate"),Y=0,Z=Object.keys(l["condition"][X]);Y<Z.length;Y++){var ee=Z[Y];if("computeBox"==ee){var te=l["condition"][X][ee],ae=_t(te),re=bt(ae),ne=this.parseNestedStructure(re,"Main");Q.ele(ne);var ie={exprString:l["condition"][X][ee]};Q.ele(ie)}if(console.log("370",l["condition"][X]),"memoryBox"==ee){var oe,se=Q.ele("MemOps"),le=Object(V["a"])(l["condition"][X][ee]);try{for(le.s();!(oe=le.n()).done;){var ce=oe.value,ue={};if(isNaN(ce["content"])){var de=ce["content"],pe=_t(de);ue=bt(pe),"ms"==ce["type"]&&(ue={"@Function":"ms",Expression:this.parseNestedStructure(ue,"Mem")},ue={MemOp:ue}),"mp"==ce["type"]&&(ue={"@Function":"mp",Expression:this.parseNestedStructure(ue,"Mem")},ue={MemOp:ue}),"mm"==ce["type"]&&(ue={"@Function":"mm",Expression:this.parseNestedStructure(ue,"Mem")},ue={MemOp:ue}),"mc"==ce["type"]&&(ue={"@Function":"mc"},ue={MemOp:ue})}else{parseFloat(ce["content"]),parseInt(ce["content"]);var me={};ue={},me=/^\d+$/.test(ce["content"])?{ConstantInt:ce["content"]}:{ConstantFloat:ce["content"]},"ms"==ce["type"]&&(ue={"@Function":"ms",Expression:me},ue={MemOp:ue}),"mp"==ce["type"]&&(ue={"@Function":"mp",Expression:me},ue={MemOp:ue}),"mm"==ce["type"]&&(ue={"@Function":"mm",Expression:me},ue={MemOp:ue}),"mc"==ce["type"]&&(ue={"@Function":"mc"},ue={MemOp:ue})}se.ele(ue)}}catch(je){le.e(je)}finally{le.f()}}if("timeBox"==ee){var fe,he=Q.ele("Timers"),ve=Object(V["a"])(l["condition"][X][ee]);try{for(ve.s();!(fe=ve.n()).done;){var ge=fe.value,be=ge["timeTodo"],_e=ge["timeType"],ye={Timer:{"@Function":be,"@SelectedTimer":_e}};he.ele(ye)}}catch(je){ve.e(je)}finally{ve.f()}}}}}catch(je){s.e(je)}finally{s.f()}var xe,we=t.ele("Tasks"),Se=Object(V["a"])(r);try{for(Se.s();!(xe=Se.n()).done;){var ke=xe.value;if("Parameter Recording Task"==ke["taskType"]){var Oe={"@ExecLimit":"0","@Name":ke["taskName"],RecordRate:"e0",StartRel:"0.0",StopRel:"0.0"};Oe={ParameterRecordingTask:Oe},we.ele(Oe)}if("HMU Event Task"==ke["taskType"]){var Ce={"@ExecLimit":"0","@Name":ke["taskName"],HmuEventID:220,Metadatas:{Metadata:"Landing_Report"}};Ce={HmuEventTask:Ce},we.ele(Ce)}if("Parameter Association"==ke["taskType"]){var Te={"@ExecLimit":"0","@Name":ke["taskName"],RecordRate:"e0",StartRel:"0.0",StopRel:"0.0"};Te={ParameterAssociation:Te},we.ele(Te)}}}catch(je){Se.e(je)}finally{Se.f()}var Ee=t.end({pretty:!0});Et(Ee)},parseNestedStructure:function(e,t){var a={},r={},n={},i=["event_current_state","event_current_state_time","event_previous_state","event_previous_state_time"],o=["param_value_scaled","param_is_valid","param_is_updated","param_is_acquired","param_is_derived","param_value_unscaled","param_validity_unmasked","param_raw"],s={event_current_state:"current_state",event_current_state_time:"current_state_time",event_previous_state:"previous_state",event_previous_state_time:"previous_state_time"},l={param_value_scaled:"value_scaled",param_is_valid:"validity_valid",param_is_updated:"validity_updated",param_is_acquired:"validity_acquired",param_is_derived:"validity_derived",param_value_unscaled:"value",param_validity_unmasked:"validity",param_raw:"raw"},c={">=":"GREATERTHANEQUALTO","<=":"LESSTHANEQUALTO","<":"LESSTHAN",">":"GREATERTHAN","!=":"NOTEQUALTO","==":"EQUALTO",AND:"AND",XOR:"XOR",OR:"OR"};if("object"===Object(tt["a"])(e["FirstExpression"]))r=this.parseNestedStructure(e["FirstExpression"],t);else if("string"===typeof e["FirstExpression"]){if(!isNaN(e["FirstExpression"])){parseFloat(e["FirstExpression"]),parseInt(e["FirstExpression"]);r=-1==e["FirstExpression"].indexOf(".")?{ConstantInt:e["FirstExpression"]}:{ConstantFloat:e["FirstExpression"]}}if("True"==e["FirstExpression"]||"False"==e["FirstExpression"])r={ConstantBool:e["FirstExpression"].toLowerCase()};else if("MEM"==e["FirstExpression"])r={MemFunc:""};else if("Timer1"==e["FirstExpression"]||"Timer2"==e["FirstExpression"]){var u=e["FirstExpression"].toLowerCase(),d={"@SelectedTimer":u};console.log("timerObj",d),r["Timer"]=d}else{var p=e["FirstExpression"].split("-")[0],m=e["FirstExpression"].split("-")[1];if(o.includes(p)){for(var f=this.$store.state.parameters.contentInfo,h="",v=0;v<f.length;v++)f[v]["value"]==m&&(h=f[v]["Guid"]);r={Parameter:{"@ExternalID":h,"@Function":l[p],"@Name":m}}}if(i.includes(p)){var g=this.getRuleName(m);console.log("eventName",g);r={Event:{"@EventFunction":s[p],"@Name":g}}}}}if("object"===Object(tt["a"])(e["SecondExpression"]))n=this.parseNestedStructure(e["SecondExpression"],t);else if("string"===typeof e["SecondExpression"])if(isNaN(e["SecondExpression"]))if("True"==e["SecondExpression"]||"False"==e["SecondExpression"])n={ConstantBool:e["SecondExpression"].toLowerCase()};else if("MEM"==e["SecondExpression"])n={MemFunc:""};else if("Timer1"==e["SecondExpression"]||"Timer2"==e["SecondExpression"]){var b=e["SecondExpression"].toLowerCase(),_={"@SelectedTimer":b};n["Timer"]=_}else{var y=e["SecondExpression"].split("-")[0],x=e["SecondExpression"].split("-")[1];if(o.includes(y)){for(var w=this.$store.state.parameters.contentInfo,S="",k=0;k<w.length;k++)w[k]["value"]==x&&(S=w[k]["Guid"]);n={Parameter:{"@ExternalID":S,"@Function":l[y],"@Name":x}}}if(i.includes(y)){var O=this.getRuleName(x);console.log("eventName",O);n={Event:{"@EventFunction":s[y],"@Name":O}}}}else{parseFloat(e["SecondExpression"]),parseInt(e["SecondExpression"]);n=-1==e["SecondExpression"].toString().indexOf(".")?{ConstantInt:e["SecondExpression"]}:{ConstantFloat:e["SecondExpression"]}}return"Main"==t&&(a["MainBody"]={FirstExpression:r,Operator:c[e["Operator"]],SecondExpression:n}),"Mem"==t&&(a={FirstExpression:r,Operator:c[e["Operator"]],SecondExpression:n}),a},getRuleName:function(e){var t=this.$store.state.rules.totalRule;console.log("tmpArray",t),console.log("tmpArray",e);var a,r=Object(V["a"])(t);try{for(r.s();!(a=r.n()).done;){var n=a.value;if(n["name"].replace(/\s+/g,"")==e)return n["name"]}}catch(i){r.e(i)}finally{r.f()}},summaryPageInfo:function(){var e=this;this.ruleData=[],this.taskData=[],rt({project_id:1,page:1,limit:100}).then((function(t){"0 Result"!=t.data&&(e.ruleData=JSON.parse(JSON.stringify(t.data)),e.$store.commit("rules/ruleChange1",e.ruleData));var a={project_id:1,name:"",page:1,limit:100};lt(a).then((function(t){0!=t.data.length&&(e.taskData=JSON.parse(JSON.stringify(t.data)),e.$store.commit("tasks/taskChange",e.taskData)),mt(a).then((function(t){if(0!=t.data.length){var a=JSON.parse(JSON.stringify(t.data));console.log("77777777",a),e.$store.commit("rules/ruletotask",a)}e.summaryPageInit()}))}))}))},summaryPageInit:function(){this.ruleShowData=[],this.taskShowData=[];for(var e=0;e<this.ruleData.length;e++){var t={data:this.ruleData[e]["name"]};this.ruleShowData.push(t)}for(var a=0;a<this.taskData.length;a++){var r={data:this.taskData[a]["task_name"]};this.taskShowData.push(r)}console.log("this.ruleShowData",this.ruleShowData),console.log("this.taskShowData",this.taskShowData),console.log("this.ruleShowData",this.ruleData),console.log("this.taskShowData",this.taskData)}}},Ft=$t,At=Object(f["a"])(Ft,Ze,et,!1,null,"3a299751",null),It=At.exports,Nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"10px"}},[a("el-row",[a("el-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{type:"primary"},on:{click:e.createNewRule}},[e._v("NewRule")])],1),a("el-row",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{data:e.totalRule.filter((function(t){return!e.search||t.name.toLowerCase().includes(e.search.toLowerCase())}))}},[a("el-table-column",{attrs:{label:"Name",prop:"name"}}),a("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"Enter keywords to search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",icon:"el-icon-edit"},on:{click:function(a){return e.editRule(t.$index,t.row)}}},[e._v("Edit")]),a("el-button",{attrs:{icon:"el-icon-delete",type:"danger",plain:""},on:{click:function(a){return e.deleteRules(t.$index,t.row)}}},[e._v("Delete")])]}}])})],1)],1)],1)},Lt=[],Mt={data:function(){return{search:"",tableLoading:!1,tableInfo:[],totalRule:[],rulePropertyInit:0,ruleConditionsInit:0,ruleTaskInit:0}},computed:{},mounted:function(){var e=this;rt({project_id:1,name:"",page:1,limit:100}).then((function(t){e.totalRule=t.data,0==e.$store.getters.parameters.length&&e.getParameters()}))},methods:{getRule:function(){var e=this,t={project_id:1,name:"",page:1,limit:100};rt(t).then((function(t){e.totalRule=t.data}))},getParameters:function(){var e=this;this.tableLoading=!0,Object(d["a"])({}).then((function(t){var a=t.data.map((function(e){return{Name:e.parameter_name,Guid:e.guid}}));e.tableLoading=!1,e.$store.dispatch("parametersNew/getParameters",a)}))},turnToHashMap:function(e){return e.reduce((function(e,t){return e[t.guid]=t.parameter_name,e}),{})},ruleMapTask:function(e){var t,a=this.$store.state.rule.ruletotask,r=Object(V["a"])(a);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n["rulename"]===e)return JSON.parse(n["taskname"])}}catch(i){r.e(i)}finally{r.f()}},exportXML:function(){var e=gt();this.$store.commit("parameters/reformedParameter",e);var t=Dt.a.create("acmf"),a=this.$store.state.rules.totalRule,r=this.$store.state.tasks.totalTask,n=t.ele("Rules");console.log(a);var i,o=Object(V["a"])(a);try{for(o.s();!(i=o.n()).done;){for(var s=i.value,l=n.ele("Rule"),c=0,u=Object.keys(s);c<u.length;c++){var d=u[c];if("name"===d&&l.att("Name",s[d]),"trigger"===d&&("change from False to True"===s[d]&&l.att("ConditionEvaluation","risingEdge"),"change from True to False"===s[d]&&l.att("ConditionEvaluation","fallingEdge"),"changevalues"===s[d]&&l.att("ConditionEvaluation","changevalues")),"cycles"===d&&l.att("CyclesToSteadyState",s[d]),"rate"===d&&l.att("Rate",s[d]),"group"===d&&l.att("DataGroup",s[d]),"logLimit"===d&&l.att("EventLogLimit",s[d]),"delay"===d&&l.att("StartDelay",s[d]),"recordCheck"===d&&l.att("SuppressEventRecording",s[d]),"triggerLimit"===d&&l.att("TriggerLimit",s[d]),"conditions"===d)for(var p=l.ele("MainBody"),m=0;m<s["conditions"].length;m++)if(0===m)for(var f=0,h=Object.keys(s["conditions"][m]);f<h.length;f++){var v=h[f];if("computeBox"===v){var g=s["conditions"][m][v],b=_t(g),_=bt(b),y=this.parseNestedStructure(_,"Main");p.ele(y);var x={exprString:s["conditions"][m][v]};p.ele(x)}if("memoryBox"===v){var w,S=p.ele("MemOps"),k=Object(V["a"])(s["conditions"][m][v]);try{for(k.s();!(w=k.n()).done;){var O=w.value,C={};if(isNaN(O["content"])){var T=O["content"],E=_t(T);C=bt(E),"ms"===O["type"]&&(C={"@Function":"ms",Expression:this.parseNestedStructure(C,"Mem")},C={MemOp:C}),"mp"===O["type"]&&(C={"@Function":"mp",Expression:this.parseNestedStructure(C,"Mem")},C={MemOp:C}),"mm"===O["type"]&&(C={"@Function":"mm",Expression:this.parseNestedStructure(C,"Mem")},C={MemOp:C}),"mc"===O["type"]&&(C={"@Function":"mc"},C={MemOp:C})}else{var j=parseFloat(O["content"]),R={};C={},R=j%1===0?{ConstantInt:O["content"]}:{ConstantFloat:O["content"]},"ms"===O["type"]&&(C={"@Function":"ms",Expression:R},C={MemOp:C}),"mp"===O["type"]&&(C={"@Function":"mp",Expression:R},C={MemOp:C}),"mm"===O["type"]&&(C={"@Function":"mm",Expression:R},C={MemOp:C}),"mc"===O["type"]&&(C={"@Function":"mc"},C={MemOp:C})}S.ele(C)}}catch(Me){k.e(Me)}finally{k.f()}}if("timeBox"===v){var P,D=p.ele("Timers"),$=Object(V["a"])(s["conditions"][m][v]);try{for($.s();!(P=$.n()).done;){var F=P.value,A={timer:{"@Function":F["timeTodo"],"@SelectedTimer":F["timeType"]}};D.ele(A)}}catch(Me){$.e(Me)}finally{$.f()}}}}var I,N=Object(V["a"])(this.$store.state.rules.ruletotask);try{for(N.s();!(I=N.n()).done;){var L=I.value;if(L["rulename"]===s["name"]){var M,B=l.ele("Tasks"),U=JSON.parse(L["taskname"]),z=Object(V["a"])(U);try{for(z.s();!(M=z.n()).done;){var H=M.value,q={task:H};B.ele(q)}}catch(Me){z.e(Me)}finally{z.f()}}}}catch(Me){N.e(Me)}finally{N.f()}for(var G=1;G<s["conditions"].length;G++)for(var W=l.ele("Alternate"),J=0,K=Object.keys(s["conditions"][G]);J<K.length;J++){var X=K[J];if("computeBox"===X){var Q=s["conditions"][G][X],Y=_t(Q),Z=bt(Y),ee=this.parseNestedStructure(Z,"Main");W.ele(ee);var te={exprString:s["conditions"][G][X]};W.ele(te)}if("memoryBox"===X){var ae,re=W.ele("MemOps"),ne=Object(V["a"])(s["conditions"][G][X]);try{for(ne.s();!(ae=ne.n()).done;){var ie=ae.value,oe={};if(isNaN(ie["content"])){var se=ie["content"],le=_t(se);oe=bt(le),"ms"===ie["type"]&&(oe={"@Function":"ms",Expression:this.parseNestedStructure(oe,"Mem")},oe={MemOp:oe}),"mp"===ie["type"]&&(oe={"@Function":"mp",Expression:this.parseNestedStructure(oe,"Mem")},oe={MemOp:oe}),"mm"===ie["type"]&&(oe={"@Function":"mm",Expression:this.parseNestedStructure(oe,"Mem")},oe={MemOp:oe}),"mc"===ie["type"]&&(oe={"@Function":"mc"},oe={MemOp:oe})}else{var ce=parseFloat(ie["content"]),ue={};oe={},ue=ce%1===0?{ConstantInt:ie["content"]}:{ConstantFloat:ie["content"]},"ms"===ie["type"]&&(oe={"@Function":"ms",Expression:ue},oe={MemOp:oe}),"mp"===ie["type"]&&(oe={"@Function":"mp",Expression:ue},oe={MemOp:oe}),"mm"===ie["type"]&&(oe={"@Function":"mm",Expression:ue},oe={MemOp:oe}),"mc"===ie["type"]&&(oe={"@Function":"mc"},oe={MemOp:oe})}re.ele(oe)}}catch(Me){ne.e(Me)}finally{ne.f()}}if("timeBox"===X){var de,pe=l.ele("Timers"),me=Object(V["a"])(s["conditions"][G][X]);try{for(me.s();!(de=me.n()).done;){var fe=de.value,he={timer:{"@Function":fe["timeTodo"],"@SelectedTimer":fe["timeType"]}};pe.ele(he)}}catch(Me){me.e(Me)}finally{me.f()}}}}}catch(Me){o.e(Me)}finally{o.f()}var ve,ge=t.ele("Tasks"),be=Object(V["a"])(r);try{for(be.s();!(ve=be.n()).done;){var _e=ve.value;if("Parameter Recording Task"===_e["taskType"]){var ye={"@ExecLimit":_e["executionLimit"],"@Name":_e["taskName"],RecordRate:_e["recordData"],StartRel:_e["startTime"],StopRel:_e["stopTime"]};ye={ParameterRecordingTask:ye};var xe,we=ge.ele(ye).ele("Parameters"),Se=Object(V["a"])(_e["parameter"]);try{for(Se.s();!(xe=Se.n()).done;){var ke=xe.value,Oe={};Oe["parameter"]={"@ExternalID":ke["guid"],"@Name":ke["name"]},we.ele(Oe)}}catch(Me){Se.e(Me)}finally{Se.f()}}if("HMU Event Task"===_e["taskType"]){var Ce={"@ExecLimit":_e["executionLimit"],"@Name":_e["taskName"],RecordRate:_e["recordData"],StartRel:_e["startTime"],StopRel:_e["stopTime"]};Ce={HmuEventTask:Ce};var Te,Ee=ge.ele(Ce).ele("Parameters"),je=Object(V["a"])(_e["parameter"]);try{for(je.s();!(Te=je.n()).done;){var Re=Te.value,Pe={};Pe["parameter"]={"@ExternalID":Re["guid"],"@Name":Re["name"]},Ee.ele(Pe)}}catch(Me){je.e(Me)}finally{je.f()}}if("Parameter Association"===_e["taskType"]){var De={"@ExecLimit":_e["executionLimit"],"@Name":_e["taskName"],RecordRate:_e["recordData"],StartRel:_e["startTime"],StopRel:_e["stopTime"]};De={ParameterAssociation:De};var $e,Fe=ge.ele(De).ele("Parameters"),Ae=Object(V["a"])(_e["parameter"]);try{for(Ae.s();!($e=Ae.n()).done;){var Ie=$e.value,Ne={};Ne["parameter"]={"@ExternalID":Ie["guid"],"@Name":Ie["name"]},Fe.ele(Ne)}}catch(Me){Ae.e(Me)}finally{Ae.f()}}}}catch(Me){be.e(Me)}finally{be.f()}var Le=t.end({pretty:!0});Et(Le)},parseNestedStructure:function(e,t){var a={},r={},n={},i=["event_current_state","event_current_state_time","event_previous_state","event_previous_state_time"],o={event_current_state:"current_state",event_current_state_time:"current_state_time",event_previous_state:"previous_state",event_previous_state_time:"previous_state_time"},s={param_value_scaled:"value_scaled",param_is_valid:"validity_valid",param_is_updated:"validity_updated",param_is_acquired:"validity_acquired",param_is_derived:"validity_derived",param_value_unscaled:"value",param_validity_unmasked:"validity",param_raw:"raw"},l=["param_value_scaled","param_is_valid","param_is_updated","param_is_acquired","param_is_derived","param_value_unscaled","param_validity_unmasked","param_raw"],c={">=":"GREATERTHANEQUALTO","<=":"LESSTHANEQUALTO","<":"LESSTHAN",">":"GREATERTHAN","!=":"NOTEQUALTO","==":"EQUALTO",AND:"AND",XOR:"XOR",OR:"OR"};if("object"===Object(tt["a"])(e["FirstExpression"]))r=this.parseNestedStructure(e["FirstExpression"],t);else if("string"===typeof e["FirstExpression"]){if(!isNaN(e["FirstExpression"])){var u=parseFloat(e["FirstExpression"]);r=u%1===0?{ConstantInt:e["FirstExpression"]}:{ConstantFloat:e["FirstExpression"]}}if("True"===e["FirstExpression"]||"False"===e["FirstExpression"])r={ConstantBoolean:e["FirstExpression"]};else if("MEM"===e["FirstExpression"])r={MemFunc:""};else if("Timer1"===e["FirstExpression"]||"Timer2"===e["FirstExpression"]){var d={"@SelectedTimer":e["FirstExpression"]};r["Timer"]=d}else{var p=e["FirstExpression"].split("-")[0],m=e["FirstExpression"].split("-")[1];if(l.includes(p)){for(var f=this.$store.state.parameters.contentInfo,h="",v=0;v<f.length;v++)f[v]["value"]===m&&(h=f[v]["Guid"]);r={Parameter:{"@ExternalID":h,"@Function":s[p],"@Name":m}}}i.includes(p)&&(r={Event:{"@EventFunction":o[p],"@Name":m}})}}if("object"===Object(tt["a"])(e["SecondExpression"]))n=this.parseNestedStructure(e["SecondExpression"],t);else if("string"===typeof e["SecondExpression"])if(isNaN(e["SecondExpression"]))if("True"===e["SecondExpression"]||"False"===e["SecondExpression"])n={ConstantBoolean:e["SecondExpression"]};else if("MEM"===e["SecondExpression"])n={MemFunc:""};else if("Timer1"===e["SecondExpression"]||"Timer2"===e["SecondExpression"]){var g={"@SelectedTimer":e["SecondExpression"]};n["Timer"]=g}else{var b=e["SecondExpression"].split("-")[0],_=e["SecondExpression"].split("-")[1];if(l.includes(b)){for(var y=this.$store.state.parameters.contentInfo,x="",w=0;w<y.length;w++)y[w]["value"]===_&&(x=y[w]["Guid"]);n={Parameter:{"@ExternalID":x,"@Function":s[b],"@Name":_}}}i.includes(b)&&(n={Event:{"@EventFunction":o[b],"@Name":_}})}else{var S=parseFloat(e["SecondExpression"]);n=S%1===0?{ConstantInt:e["SecondExpression"]}:{ConstantFloat:e["SecondExpression"]}}return"Main"===t&&(a["MainBody"]={FirstExpression:r,Operator:c[e["Operator"]],SecondExpression:n}),"Mem"===t&&(a={FirstExpression:r,Operator:c[e["Operator"]],SecondExpression:n}),a},createNewRule:function(){this.$router.push({path:"/acmf/editrule",query:{index:-1}})},editRule:function(e,t){this.$router.push({path:"/acmf/editrule",query:{index:t.id,name:t.name}})},deleteRules:function(e,t){var a=this;ot(t.id).then((function(e){a.getRule()}))}}},Vt=Mt,Bt=(a("3629"),Object(f["a"])(Vt,Nt,Lt,!1,null,"9e9cbd2c",null)),Ut=Bt.exports,zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{type:"primary",size:"mini"},on:{click:e.createNewTask}},[e._v("New Task")])],1),a("el-row",[a("el-table",{attrs:{data:e.totalTask.filter((function(t){return!e.search||t.task_name.toLowerCase().includes(e.search.toLowerCase())}))}},[a("el-table-column",{attrs:{label:"Name",sortable:"",prop:"task_name"}}),a("el-table-column",{attrs:{label:"Type",prop:"task_type",filters:e.typeOptions,"filter-method":e.filterHandler}}),a("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"Enter keywords to search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-edit"},on:{click:function(a){return e.editTask(t.$index,t.row)}}},[e._v("Edit")]),a("el-button",{attrs:{icon:"el-icon-delete",size:"mini",type:"danger",plain:""},on:{click:function(a){return e.deleteTasks(t.$index,t.row)}}},[e._v("Delete")])]}}])})],1)],1)],1)},Ht=[],qt=a("cee4"),Gt=x["a"],Wt=qt["a"].create({baseURL:Gt,timeout:5e3}),Jt=Wt;var Kt={data:function(){return{totalTask:[],search:"",tableInfo:[{name:"APU FUEL SOV/RDIU/WRG FAULT",type:"HumEventTask"},{name:"TSA Relay-1 Erro",type:"Parameter Recoding Task"},{name:"TSA Relay-2 Erro",type:"Parameter Recoding Task"},{name:"TSA Relay-3 Erro",type:"Parameter Recoding Task"},{name:"TSA Relay-4 Erro",type:"Parameter Recoding Task"}],typeOptions:[{value:"Parameter Recording Task",text:"Parameter Recording Task"},{value:"HMU Event Task",text:"HMU Event Task"},{value:"Parameter Association",text:"Parameter Association"}]}},watch:{},mounted:function(){var e=this;this.taskLibraryInit(),this.$bus.$on("totalTask",(function(t){var a=JSON.parse(JSON.stringify(e.$store.state.tasks.totalTask));e.totalTask=a}))},methods:{filterHandler:function(e,t,a){var r=a["property"];return t[r]===e},createNewTask:function(){this.$router.push({name:"EditTask",params:{index:-1}})},editTask:function(e,t){console.log("row?",t),this.$router.push({name:"EditTask",params:{index:1,row:t}})},deleteTasks:function(e,t){this.totalTask.splice(e,1),this.$store.commit("tasks/taskChange",this.totalTask),dt(t.id).then((function(e){console.log(e.data)}))},taskLibraryInit:function(){var e=this,t={project_id:1,page:1,limit:100};lt(t).then((function(t){0!==t.data.length&&(console.log("res.data",t.data),e.totalTask=JSON.parse(JSON.stringify(t.data)),e.$store.commit("tasks/taskChange",e.totalTask))}))}}},Xt=Kt,Qt=(a("d36a"),Object(f["a"])(Xt,zt,Ht,!1,null,"533ea5ce",null)),Yt=Qt.exports,Zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"min-height":"100%"}},[a("el-row"),a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{attrs:{span:3}},[a("el-row",{staticStyle:{"max-height":"100px"}},[a("RuleHeader",{on:{pageIndexChange:e.pageIndexChange}})],1),a("el-row",{staticStyle:{position:"absolute",bottom:"0px","margin-left":"2vh"}},[a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:e.saveOrEdit}},[e._v("save")]),a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:e.returnToRules}},[e._v("cancel")])],1)],1),a("el-col",{attrs:{span:21}},[a("PropertyPage",{directives:[{name:"show",rawName:"v-show",value:0==e.pageIndex,expression:"pageIndex == 0"}],ref:"property",attrs:{content:e.propertyContent}}),a("ConditionPage",{directives:[{name:"show",rawName:"v-show",value:1==e.pageIndex,expression:"pageIndex == 1"}],ref:"condition",attrs:{content:e.conditionContent}}),a("TaskPage",{directives:[{name:"show",rawName:"v-show",value:2==e.pageIndex,expression:"pageIndex == 2"}],ref:"taskMap"})],1)],1)],1)},ea=[],ta=a("5530"),aa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",[a("el-tabs",{attrs:{"tab-position":"left"},on:{"tab-click":e.clickTab},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.tabInfo,(function(e,t){return a("el-tab-pane",{key:t,attrs:{name:e.name,label:e.label}})})),1)],1)],1)],1)},ra=[],na={data:function(){return{activeName:"0",stepIndex:1,tabInfo:[{label:"Property",name:"0"},{label:"Conditions",name:"1"},{label:"Tasks",name:"2"}]}},methods:{clickTab:function(e,t){this.$emit("pageIndexChange",this.activeName)},stepIndexIncrease:function(){this.stepIndex++>=2&&(this.stepIndex=2)}}},ia=na,oa=Object(f["a"])(ia,aa,ra,!1,null,null,null),sa=oa.exports,la=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"80vh"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:16}},[a("div",{staticStyle:{height:"70vh",overflowx:"auto"}},[a("el-row",[a("p",[a("b",[e._v("Formula Editor")])])]),e._l(e.editIndex,(function(t,r){return a("el-row",{key:r,staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:2}},[a("el-row",[0==r?a("span",[e._v("IF")]):e._e(),0!=r?a("span",[e._v("ELSE IF")]):e._e()])],1),a("el-col",{attrs:{span:22}},[a("EditBox",{ref:"editBox",refInFor:!0,attrs:{index:r,"selected-data":e.$store.getters.parameters,content:e.contentInfo[r]},on:{passIndex:e.handleIndex}})],1)],1)})),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{push:2,span:14}},[a("el-button",{staticStyle:{width:"90px"},attrs:{type:"info",icon:"el-icon-plus",size:"mini"},on:{click:function(t){return e.addElseCompute()}}}),a("el-button",{staticStyle:{width:"90px"},attrs:{type:"info",icon:"el-icon-minus",size:"mini"},on:{click:function(t){return e.removeElseCompute()}}})],1)],1)],2)]),a("el-col",{attrs:{span:8}},[a("p",[a("b",[e._v("Building Blocks")])]),a("div",[a("el-row",[a("el-col",e._l(e.operator[0],(function(t,r){return a("el-button",{key:r,staticStyle:{width:"65px"},attrs:{plain:"",type:t.type,size:"mini"},on:{click:function(a){return e.addContent(t.name)}}},[e._v(e._s(t.name))])})),1)],1),a("el-row",[a("el-col",e._l(e.operator[1],(function(t,r){return a("el-button",{key:r,staticStyle:{width:"65px"},attrs:{type:t.type,plain:"",size:"mini"},on:{click:function(a){return e.addContent(t.name)}}},[e._v(e._s(t.name))])})),1)],1),a("el-row",[a("el-col",e._l(e.operator[2],(function(t,r){return a("el-button",{key:r,staticStyle:{width:"65px"},attrs:{type:t.type,size:"mini",plain:""},on:{click:function(a){return e.addContent(t.name)}}},[e._v(e._s(t.name))])})),1)],1),a("el-row",[a("el-col",e._l(e.operator[3],(function(t,r){return a("el-button",{key:r,staticStyle:{width:"65px"},attrs:{type:t.type,size:"mini",plain:""},on:{click:function(a){return e.addContent(t.name)}}},[e._v(e._s(t.name))])})),1)],1),a("el-row",[a("el-col",e._l(e.operator[4],(function(t,r){return a("el-button",{key:r,staticStyle:{width:"65px"},attrs:{type:t.type,size:"mini",plain:""},on:{click:function(a){return e.addContent(t.name)}}},[e._v(e._s(t.name))])})),1)],1),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:12}},[a("p",[a("b",[e._v("Input Parameter Name")])]),a("el-select",{attrs:{size:"small",filterable:"",remote:"","remote-method":e.parameterSearch,"reserve-keyword":"",placeholder:"parameter name",loading:e.select1Loading},model:{value:e.dataSelect,callback:function(t){e.dataSelect=t},expression:"dataSelect"}},e._l(e.parameterOptions,(function(e){return a("el-option",{key:e.Guid,attrs:{value:e.Guid,label:e.Name}})})),1)],1),a("el-col",{attrs:{span:12}},[a("p",[a("b",[e._v("Parameter Decoding")])]),a("el-select",{attrs:{size:"small",filterable:"",remote:"","reserve-keyword":"",placeholder:"event name",loading:e.select2Loading},model:{value:e.functionSelect,callback:function(t){e.functionSelect=t},expression:"functionSelect"}},e._l(e.functionOptions,(function(e){return a("el-option",{key:e.id,attrs:{value:e.value,label:e.label}})})),1)],1)],1),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addFromSelect}},[e._v("Input")])],1),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:12}},[a("p",[a("b",[e._v("Input Event Name")])]),a("el-select",{attrs:{size:"small",filterable:"",remote:"","remote-method":e.eventSearch,"reserve-keyword":"",placeholder:"parameter name",loading:e.select1Loading},model:{value:e.eventNameSelect,callback:function(t){e.eventNameSelect=t},expression:"eventNameSelect"}},e._l(e.eventOptions,(function(e){return a("el-option",{key:e.Guid,attrs:{value:e.Guid,label:e.Name}})})),1)],1),a("el-col",{attrs:{span:12}},[a("p",[a("b",[e._v("Event Decoding")])]),a("el-select",{staticClass:"custom-dropdown",attrs:{size:"small",filterable:""},model:{value:e.eventFunctionSelect,callback:function(t){e.eventFunctionSelect=t},expression:"eventFunctionSelect"}},e._l(e.eventFunctionOptions,(function(e){return a("el-option",{key:e.label,attrs:{value:e.value,label:e.label}})})),1)],1)],1),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addEventFromSelect}},[e._v("Input")])],1)],1)])],1)],1)},ca=[],ua=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{attrs:{span:16}},[a("el-row",[a("el-input",{attrs:{type:"textarea",placeholder:"please define the rule",autosize:{minRows:3}},on:{focus:function(t){return e.setFocusedIndex()},blur:function(t){return e.blurFocusedIndex()}},model:{value:e.computeStr,callback:function(t){e.computeStr=t},expression:"computeStr"}})],1)],1),a("el-col",{attrs:{push:1,span:6}},[a("el-row",[a("el-button",{staticStyle:{width:"5vw"},attrs:{type:"info",icon:"el-icon-plus",size:"mini"},on:{click:function(t){return e.addTimer()}}},[e._v("Timer")]),a("el-button",{staticStyle:{width:"5vw"},attrs:{type:"info",icon:"el-icon-minus",size:"mini"},on:{click:function(t){return e.removeTimer()}}},[e._v("Timer")])],1),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-button",{staticStyle:{width:"5vw"},attrs:{type:"info",icon:"el-icon-plus",size:"mini"},on:{click:function(t){return e.addMemory()}}},[e._v("Mem")]),a("el-button",{staticStyle:{width:"5vw"},attrs:{type:"info",icon:"el-icon-minus",size:"mini"},on:{click:function(t){return e.removeMemory()}}},[e._v("Mem")])],1)],1)],1),a("el-row",e._l(e.memoryIndex,(function(t,r){return a("Memory",{key:r,ref:"memory_Index",refInFor:!0,attrs:{index:r,content:e.contentMemory[r]},on:{passIndex:e.passIndex}})})),1),a("el-row",e._l(e.timerIndex,(function(t,r){return a("Timer",{key:r,ref:"timer_Index",refInFor:!0,attrs:{index:r,content:e.contentTimer[r]}})})),1)],1)},da=[],pa=(a("4e82"),a("a9e3"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-popover",{ref:"popover",attrs:{placement:"bottom-start","popper-class":"popview",trigger:"manual",offset:e.popoverOffset},model:{value:e.show_popover,callback:function(t){e.show_popover=t},expression:"show_popover"}},[a("div",{staticClass:"customDropDownClass",attrs:{slot:"reference"},on:{click:function(e){e.stopPropagation()}},slot:"reference"},[a("div",{ref:"onlyIndex",staticClass:"tagspaninsert",class:e.refName,staticStyle:{display:"inline"},attrs:{contenteditable:"true"},on:{input:e.inputValue,keydown:e.aviodMove}})]),a("div",{staticClass:"customDropDownClass",on:{click:function(e){e.stopPropagation()}}},[a("div",{staticClass:"drop-down",class:"dropDown-"+e.refName+"-scroll",style:{width:e.dropDownWidth,height:e.dropDownHeight,bottom:e.dropDownBottom,top:e.dropDownTop},on:{scroll:e.dropDownScrollFun}},e._l(e.showContentArray,(function(t,r){return a("div",{key:r,staticClass:"drop-down-item",on:{click:[function(e){e.stopPropagation()},function(a){return e.itemClick(t)}]}},[a("div",{staticClass:"contentDiv",class:{activeContent:r===e.selectIndex}},[a("div",{staticClass:"content",class:["ellipsis-"+e.ellipsisNumber],domProps:{innerHTML:e._s(t.label)}}),a("div",{staticClass:"item-icon"},[e._t("item-icon",null,{selectRow:{$index:r,data:t}})],2)])])})),0)])])}),ma=[],fa=a("1157"),ha=a.n(fa),va={name:"CustomDropDown",props:{value:{type:String,default:function(){return""}},type:{type:String,default:"textarea"},options:{type:Object,default:function(){return{key:"key",value:"value"}}},ellipsisNumber:{type:Number,default:0},contentArray:{type:Array,default:function(){return[]}},remote:{type:Boolean,default:!1},scrollPageLoad:{type:Boolean,default:!1},scrollSize:{type:Number,default:10},remoteLoadFun:{type:Function,default:function(){return function(e,t,a,r){}}},refName:{type:String,default:function(){return"hahah"}},dropDownHeight:{type:String,default:function(){return"300px"}},dropDownWidth:{type:String,default:function(){return"350px"}},placeholder:{type:String,default:"请选择"},noHideClass:{type:String,default:"noHideClass"}},data:function(){return{showContentArray:[],remoteContentArray:[],customValue:"",curPage:1,selectIndex:-1,dropDownBottom:0,dropDownTop:0,scrollBottomLoadDistance:3,moreLoading:!1,showDropDown:!1,keyIndex:0,show_popover:!1,cursorPosition:0,replaceStr:"",savedSelection:null,wholeString:"",popoverOffset:0}},computed:{},watch:{showDropDown:function(e){var t=this;e&&this.$nextTick((function(){var e=t.$parent.$children;e&&e.length&&e.forEach((function(e){e.refName!==t.refName&&(e.showDropDown=!1)}))}))}},updated:function(){this.$emit("child-event",this.$refs.onlyIndex.textContent)},mounted:function(){var e=this;this.$bus.$on("triggerValidate",(function(){e.inputValue()})),this.$bus.$on("insertInfo",(function(t){e.pasteHtmlAtCaret(t)})),this.$bus.$on("replaceString",(function(t){e.$refs.onlyIndex.textContent=t})),this.$nextTick((function(){document.addEventListener("click",e.hideDropDown);var t=0,a=[],r=ha()(".customDropDownClass").find("."+e.refName);if(r&&r.length){var n=e;r[0].addEventListener("keyup",(function(r){if(38===r.keyCode)n.selectIndex=0===n.selectIndex||-1===n.selectIndex?n.showContentArray.length-1:n.selectIndex-1,n.$nextTick((function(){n.scrollUpFun()})),e.keyIndex=1,t=n.selectIndex,a=n.showContentArray;else if(40===r.keyCode)n.selectIndex=n.selectIndex===n.showContentArray.length-1?0:n.selectIndex+1,n.$nextTick((function(){n.scrollDownFun()})),e.keyIndex=1,t=e.selectIndex,a=n.showContentArray;else if(13===r.keyCode&&1===e.keyIndex&&-1!==t){n.customValue=a[t].value;var i=[];i.push(a[t].info);var o=a[t].value;e.deleteStringFromDivBracket(),e.pasteHtmlAtCaret(o),e.keyIndex=0,e.show_popover=!1}}))}})),ha.a.fn.autoTextarea=function(e){var t={maxHeight:null,minHeight:ha()(this).height()},a=ha.a.extend({},t,e);return ha()(this).each((function(){var e,t=this.style;this.style.height=a.minHeight+"px",this.scrollHeight>a.minHeight&&(a.maxHeight&&this.scrollHeight>a.maxHeight?(e=a.maxHeight,t.overflowY="scroll"):(e=this.scrollHeight,t.overflowY="hidden"),t.height=e+"px"),ha()(this).bind("paste cut keydown keyup focus blur ready",(function(){var e,t=this.style;this.style.height=a.minHeight+"px",this.scrollHeight>a.minHeight&&(a.maxHeight&&this.scrollHeight>a.maxHeight?(e=a.maxHeight,t.overflowY="scroll"):(e=this.scrollHeight,t.overflowY="hidden"),t.height=e+"px")}))}))}},destroyed:function(){document.removeEventListener("click",this.hideDropDown)},provide:function(){var e=this;return{setChildrenRef:function(t,a){e[t]=a},getChildrenRef:function(t){return e[t]},getRef:function(){return e}}},methods:{saveCursorPosition:function(){var e=window.getSelection().getRangeAt(0);this.cursorPosition={start:e.startOffset,end:e.endOffset},console.log("383",this.cursorPosition)},placeCursorPosition:function(){var e=document.createRange(),t=window.getSelection(),a=this.$refs.onlyIndex;e.setStart(a.firstChild,this.cursorPosition.start),e.setEnd(a.firstChild,this.cursorPosition.end),t.removeAllRanges(),t.addRange(e)},insertNode:function(e){var t=this.getCurrentRange();t.insertNode(e)},getCurrentRange:function(){var e,t=null,a=this.document.ownerDocument||this.document.document,r=a.defaultView||a.parentWindow;return"undefined"!==typeof r.getSelection&&(e=r.getSelection(),e.rangeCount>0&&(t=r.getSelection().getRangeAt(0))),t},inputInitial:function(e){this.$refs.onlyIndex.textContent=e,this.$store.commit("rules/computeStr",this.$refs.onlyIndex.textContent),this.inputValue()},saveComputeBox:function(){return this.$refs.onlyIndex.textContent},pasteHtmlAtCaret:function(e){var t=window.getSelection();if(console.log(t),t.anchorNode.parentElement.className.includes("tagspaninsert ")||t.anchorNode.className.includes("tagspaninsert ")){var a=t.anchorOffset,r=t.anchorNode.data;if(r){var n=r.substring(0,a)+e+r.substring(a);t.anchorNode.textContent=n,this.cursorPosition.start=this.cursorPosition.start+e.length-1,this.cursorPosition.end=this.cursorPosition.end+e.length-1}else t.anchorNode.textContent=e;this.placeCursorPosition()}},isCursorInBrackets:function(){if(window.getSelection().getRangeAt(0).commonAncestorContainer.data){var e=window.getSelection().getRangeAt(0).startOffset,t=window.getSelection().getRangeAt(0).endOffset,a=window.getSelection().getRangeAt(0).commonAncestorContainer.data.charAt(window.getSelection().getRangeAt(0).commonAncestorContainer.data.length-1),r=window.getSelection().getRangeAt(0).commonAncestorContainer.data;r=")"===a?window.getSelection().getRangeAt(0).commonAncestorContainer.data:window.getSelection().getRangeAt(0).commonAncestorContainer.data+")";var n=this.extractStringFromDivContent(r,e,t);return n?(this.savedSelection=window.getSelection().getRangeAt(0),n):null}},extractStringFromDivContent:function(e,t,a){var r=e.lastIndexOf("(",t)+1,n=e.indexOf(")",a);if(r<n&&0!==r&&-1!==n){var i=e.slice(r,n);return i}return null},deleteStringFromDivBracket:function(){var e=window.getSelection().getRangeAt(0).commonAncestorContainer.data.charAt(window.getSelection().getRangeAt(0).commonAncestorContainer.data.length-1),t=window.getSelection().getRangeAt(0).commonAncestorContainer.data;t=")"===e?window.getSelection().getRangeAt(0).commonAncestorContainer.data:window.getSelection().getRangeAt(0).commonAncestorContainer.data+")";var a=window.getSelection().getRangeAt(0).startOffset,r=window.getSelection().getRangeAt(0).endOffset,n=t.lastIndexOf("(",a)+1,i=t.indexOf(")",r),o="";if(this.cursorPosition.start=n+1,this.cursorPosition.end=n+1,o=")"===e?t.slice(0,n)+t.slice(i):t.slice(0,n)+t.slice(i+1),window.getSelection().getRangeAt(0).commonAncestorContainer.textContent=o,this.savedSelection){var s=window.getSelection();s.removeAllRanges(),s.addRange(this.savedSelection),s.collapse(this.savedSelection.commonAncestorContainer,n),this.savedSelection=null}},inputValue:function(e){var t=this;console.time("inputtime");var a=window.getSelection();if(a.rangeCount>0){var r=a.getRangeAt(0),n=r.getBoundingClientRect();this.$refs.popover&&setTimeout((function(){t.$refs.popover.popperElm.style.left=n.left+"px"}),5)}this.saveCursorPosition(),this.$emit("child-event",this.$refs.onlyIndex.textContent),this.$emit("child-event2",this.$refs.onlyIndex.textContent),this.$nextTick((function(){t.$store.commit("rules/computeStr",t.$refs.onlyIndex.textContent)})),this.customValue=this.isCursorInBrackets(),this.customValue?this.inputFocus(this.customValue):this.show_popover=!1,console.timeEnd("inputtime")},aviodMove:function(e){38!==e.keyCode&&40!==e.keyCode&&13!==e.keyCode||e.preventDefault()},focusCompute:function(){this.$refs.onlyIndex.focus()},scrollUpFun:function(){var e=ha()(".customDropDownClass").find(".dropDown-"+this.refName+"-scroll"),t=e.find(".activeContent"),a=e&&e.length?e[0]:null,r=t&&t.length?t[0]:null;if(this.selectIndex!==this.showContentArray.length-1){var n=r?r.offsetTop:0,i=a?a.scrollTop:0;n<i&&(a.scrollTop=i-(i-n))}else a.scrollTop=a?a.scrollHeight-a.offsetHeight:0},scrollDownFun:function(){var e=ha()(".customDropDownClass").find(".dropDown-"+this.refName+"-scroll"),t=e.find(".activeContent"),a=e&&e.length?e[0]:null,r=t&&t.length?t[0]:null;if(0!==this.selectIndex){var n=a?a.scrollTop+a.clientHeight:0,i=r?r.offsetTop+r.offsetHeight:0;i>n&&(a.scrollTop=a.scrollTop+(i-n)+2)}else a.scrollTop=0},dropDownScrollFun:function(e){var t=document.querySelector(".dropDown-"+this.refName+"-scroll");t.scrollHeight-(t.scrollTop+t.clientHeight)<=2&&(t.scrollTop=t.scrollHeight-t.clientHeight-2),t.scrollHeight-(t.scrollTop+t.clientHeight)<=this.scrollBottomLoadDistance&&this.scrollPageLoadFun()},scrollPageLoadFun:function(){var e=this;this.remote&&this.scrollPageLoad&&(this.moreLoading=!0,this.curPage++,this.remoteLoadFun(this.customValue,this.curPage,this.scrollSize,(function(t){t&&t.length&&(e.remoteContentArray=e.remoteContentArray.concat(t),e.filterShowArray(e.customValue)),e.moreLoading=!1})))},inputFocus:function(e){var t=this;if(this.remote){var a=function(a){t.remoteContentArray=a,t.filterShowArray(e)};this.scrollPageLoad?this.remoteLoadFun(e,this.curPage,this.scrollSize,a):this.remoteLoadFun(e,0,0,a)}else this.filterShowArray(this.customValue);var r=ha()(".customDropDownClass").find("."+this.refName);if(r&&r.length){var n=r.parent()[0].getBoundingClientRect().bottom,i=r.parent()[0].clientHeight,o=Number(this.dropDownHeight.replace("px","")),s=document.body.clientHeight;console.log("inputObj",i),console.log("inputObj",o),console.log("inputObj",s),console.log("test"),n+o>s?(this.dropDownBottom=i+2+"px",this.dropDownTop="auto"):(this.dropDownBottom="auto",this.dropDownTop=i+2+"px")}},hideDropDown:function(){ha()(window.target).closest("."+this.noHideClass).length||(this.showDropDown=!1)},inputChange:function(e){var t=this;if(this.remote){var a=function(a){t.remoteContentArray=a,t.filterShowArray(e)};this.scrollPageLoad?(this.curPage=1,this.remoteLoadFun(e,this.curPage,this.scrollSize,a)):this.remoteLoadFun(e,0,0,a)}else this.filterShowArray(e)},initDataList:function(e){this.remote&&(this.remoteContentArray=e,this.filterShowArray())},filterShowArray:function(e){var t=this;console.log("filterValue",e);var a=(this.remote?this.remoteContentArray:this.contentArray)||[],r=e?[]:a,n=-1;e?(r=a.filter((function(a){return a&&a[t.options.value]&&-1!==a[t.options.value].toLowerCase().indexOf(e.toLowerCase())})).slice(0,10),r.forEach((function(a,r){var i=a[t.options.value]||"",o=i.replace(e.toLowerCase(),"<b>"+e.toLowerCase()+"</b>");o=o.replace(e.toUpperCase(),"<b>"+e.toUpperCase()+"</b>"),a.label=o,n=i===e?r:-1}))):r.forEach((function(e){e.label=e[t.options.value]})),this.showContentArray=JSON.parse(JSON.stringify(r)),console.log("this.show_popover",this.showContentArray),this.show_popover=this.showContentArray.length>0,this.selectIndex=n,""===this.$refs.onlyIndex.textContent&&(this.show_popover=!1)},itemClick:function(e){this.placeCursorPosition(),this.customValue=e[this.options.value];var t={value:e.value,type:!0,guid:e.Guid,dataHoverShow:[e.info]};this.deleteStringFromDivBracket(),this.pasteHtmlAtCaret(t["value"]),this.$refs.onlyIndex.focus(),document.getSelection().collapseToEnd(),this.show_popover=!1}}},ga=va,ba=(a("9e19"),a("f7e6"),Object(f["a"])(ga,pa,ma,!1,null,"e38b87ba",null)),_a=ba.exports,ya=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{staticStyle:{"min-height":"10px"},attrs:{span:15}},[a("div"),a("el-row",{directives:[{name:"show",rawName:"v-show",value:"mc"!==e.memoryType,expression:"memoryType !== 'mc'"}]},[a("el-input",{attrs:{type:"textarea",placeholder:"please define the memory options",autosize:{minRows:2}},on:{focus:function(t){return e.setFocusedIndex()}},model:{value:e.computeStr,callback:function(t){e.computeStr=t},expression:"computeStr"}})],1)],1),a("el-col",{attrs:{push:2,span:4}},[a("el-select",{staticStyle:{width:"180px"},attrs:{size:"small",placeholder:"Memory Function"},model:{value:e.memoryType,callback:function(t){e.memoryType=t},expression:"memoryType"}},e._l(e.optionsMemory,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1)},xa=[],wa=function(e){var t=[">=","<=","<",">","!=","==","AND","XOR","OR"],a=e.replace(/\s/g,"");a=a.replaceAll("(",""),a=a.replaceAll(")","");for(var r=0,n=t;r<n.length;r++){var i=n[r];-1!=a.indexOf(i)&&(a=a.replaceAll(i,"-"))}var o=a.split("-"),s=!0;if(1==o.length&&e)return!1;var l,c=Object(V["a"])(o);try{for(c.s();!(l=c.n()).done;){var u=l.value;ka(u)||Oa(u)||(s=!1)}}catch(f){c.e(f)}finally{c.f()}if(e){var d,p=Object(V["a"])(o);try{for(p.s();!(d=p.n()).done;){var m=d.value;if(""==m)return!1}}catch(f){p.e(f)}finally{p.f()}return s}return!0},Sa=function(e){var t=[">=","<=","<",">","!=","==","AND","XOR","OR"],a=e.replace(/\s/g,"");a=a.replaceAll("(",""),a=a.replaceAll(")","");for(var r=0,n=t;r<n.length;r++){var i=n[r];-1!=a.indexOf(i)&&(a=a.replaceAll(i,"-"))}var o=a.split("-"),s=!0;if(1==o.length)s=!(!ka(o[0])&&!Oa(o[0]));else{var l,c=Object(V["a"])(o);try{for(c.s();!(l=c.n()).done;){var u=l.value;ka(u)||Oa(u)||(s=!1)}}catch(f){c.e(f)}finally{c.f()}}if(e){var d,p=Object(V["a"])(o);try{for(p.s();!(d=p.n()).done;){var m=d.value;if(""==m)return!1}}catch(f){p.e(f)}finally{p.f()}return s}return!0};function ka(e){var t=["MEM","Timer1","Timer2","True","False"];vt["a"].state.parameters.reformedParameter;if(vt["a"].state.parameters.harshValidatePar1[e.replaceAll(" ","")])return!0;for(var a=0,r=t;a<r.length;a++){var n=r[a];if(-1!=e.indexOf(n))return!0}return!1}function Oa(e){var t=Number(e);return!isNaN(t)}var Ca=function(e){var t=[">=","<=","<",">","!=","==","AND","XOR","OR"],a=(vt["a"].state.parameters.reformedParameter,e.replace(/\s/g,""));a="("+a+")",vt["a"].state.parameters.harshValidatePar[a]&&(a=a.replaceAll(vt["a"].state.parameters.harshValidatePar[a],"-")),a=a.replaceAll("MEM","-"),a=a.replaceAll("Timer1","-"),a=a.replaceAll("Timer2","-");for(var r=[],n=!0,i=0;i<t.length-1;i++)for(var o=0;o<t.length-1;o++)r.push(t[i]+t[o]);for(var s=0,l=r;s<l.length;s++){var c=l[s];-1!=a.indexOf(c)&&(n=!1)}return n},Ta=function(e){vt["a"].state.parameters.reformedParameter;var t=e.replace(/\s/g,"");t="("+t+")";var a=!0;return vt["a"].state.parameters.harshValidatePar[t]&&(t=t.replaceAll(vt["a"].state.parameters.harshValidatePar[t],"-")),t=t.replaceAll("MEM","-"),t=t.replaceAll("Timer1","-"),t=t.replaceAll("Timer2","-"),-1!=t.indexOf("--")&&(a=!1),a},Ea=function(e){var t=e.replace(/\s/g,"");return t="("+t+")",!!ja(t)};function ja(e){for(var t=e,a=t.split(""),r=[],n=0;n<a.length;n++)if("("==a[n])r.push(a[n]);else if(")"==a[n]&&"("!=r.pop())return!1;return 0==r.length}function Ra(e){var t=e.replace(/\s/g,"");return t="("+t+")",console.log("conditionBracketCheck",Da(t)),!!Da(t)||Pa(t)}function Pa(e){for(var t=[],a=0;a<e.length;a++)"("===e[a]?t.push(a):")"===e[a]&&(0===t.length?(e=e.slice(0,a)+"("+e.slice(a),a++):t.pop());while(t.length>0)e+=")",t.pop();return e}function Da(e){for(var t=e,a=t.split(""),r=[],n=0;n<a.length;n++)if("("===a[n]||"["===a[n]||"{"===a[n])r.push(a[n]);else{if(")"===a[n]&&"("!=r.pop())return!1;if("]"===a[n]&&"["!=r.pop())return!1;if("}"===a[n]&&"{"!=r.pop())return!1}return 0==r.length}var $a=a("b5ae"),Fa={components:{PopoverSel:_a},directives:{clickOutside:{bind:function(e,t,a){function r(a){if(e.contains(a.target))return!1;t.expression&&t.value(a)}e.__vueClickOutside__=r,document.addEventListener("click",r)},update:function(){},unbind:function(e,t){document.removeEventListener("click",e.__vueClickOutside__),delete e.__vueClickOutside__}}},props:{index:{required:!0,type:Number},content:{required:!0,type:Object,default:function(){return{}}}},data:function(){return{validateMemoryRule:"",memoryIndex:[{}],timerIndex:[{}],isShowFirst:0,activeNames:["1"],computeStr:" ",memoryType:"",showStyle:0,optionsMemory:[{value:"mc",label:"memoryClear"},{value:"ms",label:"memoryStore"},{value:"mp",label:"memoryAdd"},{value:"mm",label:"memorySubtract"}]}},computed:{contentBox:function(){return{"content-arrbox":0==this.showStyle,"content-arrbox-active":1==this.showStyle,"content-arrbox-fail":2==this.showStyle}}},watch:{content:function(e,t){this.memoryType=e.type,this.computeStr=e.condition?this.replaceParGuid(e.condition):"",console.log("this.computeStr",this.computeStr)},deep:!0},mounted:function(){void 0!=this.content.condition&&(this.memoryType=this.content.type,this.computeStr=this.content.condition?this.replaceParGuid(this.content.condition):"",console.log("this.computeStr",this.computeStr))},validations:{validateMemoryRule:{required:$a["required"],conditionBracketCheck:Ea,memoryParametersCheck:Sa,nearOperatorString:Ca,nearParameterString:Ta}},methods:{setFocusedIndex:function(){this.$emit("passIndex",this.index)},valideteChildData:function(e){console.log("Data",e),this.bracketSuggestions=Ra(e),this.validateMemoryRule=e,this.$v.validateMemoryRule.$touch(),this.$v.$invalid?this.showStyle=2:this.showStyle=1},clickOutsideShow:function(){this.isShowFirst=0},memoryBoxInitial:function(e){this.memoryType=e["type"],this.$refs["popOverSel"].inputInitial(e["content"])},saveMemoryBox:function(){return this.$refs.popOverSel.saveComputeBox()},focusSpan:function(){this.$refs.popOverSel.focusCompute(),this.isShowFirst=1},getRandomString:function(e){var t="abacdefghjklmnopqrstuvwxyzABCDEFGHJKLMNOPQRSTUVWXYZ0123456789",a=0,r=t.length-1,n="";e=e||15;for(var i,o=0;o<e;o++)i=function(e,t){return e(a,r,t,e)}((function(e,a,r,n){var i=Math.floor(Math.random()*(a-e+1)+e),o=t.length-10;return 0==r&&i>=o&&(i=n(e,a,r,n)),i}),o),n+=t[i];return n},replaceParGuid:function(e){return console.log("wakuwaku",e),this.$store.getters.parameters.forEach((function(t){var a=new RegExp(t.Guid,"g");e=e.replace(a,t.Name)})),e}}},Aa=Fa,Ia=(a("aa2d"),Object(f["a"])(Aa,ya,xa,!1,null,"49776aec",null)),Na=Ia.exports,La=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:4}},[a("el-select",{staticStyle:{width:"100px"},attrs:{size:"small",placeholder:"Type"},model:{value:e.timerTypeLeft,callback:function(t){e.timerTypeLeft=t},expression:"timerTypeLeft"}},e._l(e.optionsTimerLeft,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-col",{attrs:{span:13}},[a("el-select",{staticStyle:{width:"180px","margin-right":"-5px"},attrs:{size:"small",placeholder:"Function"},model:{value:e.timerTypeRight,callback:function(t){e.timerTypeRight=t},expression:"timerTypeRight"}},e._l(e.optionsTimerRight,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1)},Ma=[],Va=(a("466d"),{props:{index:{required:!0,type:Number},content:{required:!0,type:Object}},data:function(){return{optionsTimerLeft:[{value:"Timer1",label:"Timer1"},{value:"Timer2",label:"Timer2"}],optionsTimerRight:[{value:"Start",label:"start"},{value:"Stop",label:"stop"},{value:"Reset",label:"reset"}],timerTypeLeft:"",timerTypeRight:""}},mounted:function(){this.content.type&&this.content.condition&&(this.timerTypeLeft=this.content.type,this.timerTypeRight=this.content.condition.match(/^[^(]+/)[0])},methods:{timerInitial:function(e){this.timerTypeLeft=e["timeType"],this.timerTypeRight=e["timeTodo"]}}}),Ba=Va,Ua=Object(f["a"])(Ba,La,Ma,!1,null,null,null),za=Ua.exports,Ha=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{attrs:{size:"mini",type:"info",icon:"el-icon-edit-outline"},on:{click:function(t){return e.analysisData()}}},[e._v("generate")]),a("el-drawer",{attrs:{title:"Advanced Calculator",visible:e.outerVisible,direction:"rtl",size:"90%"},on:{"update:visible":function(t){e.outerVisible=t}}},[a("el-container",{staticStyle:{height:"100%"}},[a("el-header",[a("div",{staticStyle:{float:"right"}},[a("el-button",{staticStyle:{width:"6em"},attrs:{type:"primary",round:""},on:{click:function(t){return e.saveCondition()}}},[e._v("save")]),a("el-button",{staticStyle:{width:"6em"},attrs:{type:"primary",round:""},on:{click:function(t){return e.cancelEdit()}}},[e._v("cancel")])],1)]),a("el-main",[a("div",{staticStyle:{height:"100%"},on:{dragover:e.dragover,drop:e.addNode}},[a("butterfly-vue",{key:"drag",ref:"butterflyVue",attrs:{"canvas-conf":e.canvasConf,"base-canvas":e.baseCanvas,"class-name":"drag","canvas-data":e.mockData},on:{onLoaded:e.finishLoaded,del:e.deleteNode,add:e.handleTypeVisible}})],1)])],1)],1),a("el-dialog",{attrs:{title:"Notice",visible:e.typeOptionVisible,width:"30%"},on:{"update:visible":function(t){e.typeOptionVisible=t}}},[a("el-row",[a("span",[e._v("Please select the type of node:")])]),a("el-row",{staticStyle:{"margin-top":"30px"}},[a("el-radio-group",{model:{value:e.newNodeType,callback:function(t){e.newNodeType=t},expression:"newNodeType"}},[a("el-radio",{attrs:{label:"Parameters"}},[e._v("Parameters")]),a("el-radio",{attrs:{label:"Events"}},[e._v("Events")]),a("el-radio",{attrs:{label:"Operators"}},[e._v("Operators")]),a("el-radio",{attrs:{label:"Values"}},[e._v("Values")])],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.typeOptionVisible=!1}}},[e._v("cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.clickAddNode}},[e._v("confirm")])],1)],1)],1)},qa=[],Ga=(a("c740"),a("498a"),a("60de")),Wa=a("995b"),Ja=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"drag-node"},[a("div",{staticClass:"drag-header"},[e._v(" "+e._s(e.itemData.userData.title)+" "),a("i",{staticClass:"el-icon-close close",staticStyle:{float:"right",cursor:"pointer"},on:{click:e.deleteNode}})]),a("div",{staticClass:"drag-content"},[a("el-row",{attrs:{type:"flex"}},[a("el-col",{staticStyle:{display:"flex","align-items":"center"},attrs:{span:8}},[a("el-tag",[e._v("function")])],1),a("el-col",{attrs:{span:16}},[a("el-select",{attrs:{size:"small",filterable:"",placeholder:"Function"},model:{value:e.itemData.userData.inputFunc,callback:function(t){e.$set(e.itemData.userData,"inputFunc",t)},expression:"itemData.userData.inputFunc"}},e._l(e.itemData.userData.arrayFunc,(function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.value}})})),1)],1)],1),a("el-row"),a("el-row",{staticStyle:{"margin-top":"5px"},attrs:{type:"flex"}},[a("el-col",{staticStyle:{display:"flex","align-items":"center"},attrs:{span:8}},[a("el-tag",[e._v(e._s(e.itemData.userData.title))])],1),a("el-col",{attrs:{span:16}},[a("el-select",{attrs:{size:"small",filterable:"",placeholder:"Parameters",remote:"","remote-method":e.sliceParameters},model:{value:e.itemData.userData.inputPar,callback:function(t){e.$set(e.itemData.userData,"inputPar",t)},expression:"itemData.userData.inputPar"}},e._l(e.parameterOptions,(function(e){return a("el-option",{key:e.Guid,attrs:{value:e.Name,label:e.Name}})})),1)],1)],1)],1)])},Ka=[],Xa={name:"DragNode",props:{itemData:{type:Object},canvasNode:{type:Object},judgeRoot:{type:Number}},data:function(){return{parameterOptions:[]}},created:function(){},methods:{sliceParameters:function(e){if("Parameters"==this.itemData.userData.title)this.parameterOptions=this.$store.state.parameters.totalParameter.filter((function(t){return t.Name.indexOf(e)>-1})).slice(0,10);else{for(var t=0;t<this.$store.state.rules.totalRule.length;t++){var a={Name:this.$store.state.rules.totalRule[t].name,Guid:this.$store.state.rules.totalRule[t].name};this.parameterOptions.push(a)}console.log(this.parameterOptions)}},deleteNode:function(){var e=this;this.$confirm("This operation will permanently delete the node and its child nodes. Do you want to continue?","Notice",{confirmButtonText:"confirm",cancelButtonText:"cancel",type:"warning"}).then((function(){e.$emit("del",e.itemData.id),0==e.$store.state.rules.judgeRoot?e.$message({type:"success",message:"successfully deleted!"}):e.$message({type:"warning",message:"disable deletion of root node!"})})).catch((function(){e.$message({type:"info",message:"failed deleted!"})}))}}},Qa=Xa,Ya=(a("c4e4"),Object(f["a"])(Qa,Ja,Ka,!1,null,"31a67010",null)),Za=Ya.exports,er=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"drag-node"},[a("div",{staticClass:"drag-header"},[e._v(" "+e._s(e.itemData.userData.title)+" "),a("i",{staticClass:"el-icon-close close",staticStyle:{float:"right",cursor:"pointer"},on:{click:e.deleteNode}}),a("i",{staticClass:"el-icon-plus",staticStyle:{float:"right",cursor:"pointer"},on:{click:e.addNode}})]),a("div",{staticClass:"drag-content"},[a("div",{staticClass:"info"},[a("el-select",{attrs:{size:"small",filterable:"",placeholder:"Operators"},model:{value:e.itemData.userData.input,callback:function(t){e.$set(e.itemData.userData,"input",t)},expression:"itemData.userData.input"}},e._l(e.itemData.userData.opArray,(function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.value}})})),1)],1)])])},tr=[],ar={name:"DragNode",props:{itemData:{type:Object},canvasNode:{type:Object},judgeRoot:{type:Number}},data:function(){return{}},created:function(){},methods:{addNode:function(){this.$emit("add",this.itemData.id)},deleteNode:function(){var e=this;this.$confirm("This operation will permanently delete the node and its child nodes. Do you want to continue?","Notice",{confirmButtonText:"confirm",cancelButtonText:"cancel",type:"warning"}).then((function(){e.$emit("del",e.itemData.id),0==e.$store.state.rules.judgeRoot?e.$message({type:"success",message:"successfully deleted!"}):e.$message({type:"warning",message:"disable deletion of root node!"})})).catch((function(){e.$message({type:"info",message:"failed deleted!"})}))}}},rr=ar,nr=(a("9827"),Object(f["a"])(rr,er,tr,!1,null,"e83d1a40",null)),ir=nr.exports,or=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"drag-node"},[a("div",{staticClass:"drag-header"},[e._v(" "+e._s(e.itemData.userData.title)+" "),a("i",{staticClass:"el-icon-close close",staticStyle:{float:"right",cursor:"pointer"},on:{click:e.deleteNode}})]),a("div",{staticClass:"drag-content"},[a("div",{staticClass:"info"},[a("div",{staticClass:"info"},[a("el-input",{attrs:{size:"small",filterable:"",placeholder:"value"},model:{value:e.itemData.userData.inputPar,callback:function(t){e.$set(e.itemData.userData,"inputPar",t)},expression:"itemData.userData.inputPar"}})],1)])])])},sr=[],lr={name:"DragNode",props:{itemData:{type:Object},canvasNode:{type:Object},judgeRoot:{type:Number}},created:function(){},methods:{deleteNode:function(){var e=this;this.$confirm("This operation will permanently delete the node and its child nodes. Do you want to continue?","Notice",{confirmButtonText:"confirm",cancelButtonText:"cancel",type:"warning"}).then((function(){e.$emit("del",e.itemData.id),0==e.$store.state.rules.judgeRoot?e.$message({type:"success",message:"successfully deleted!"}):e.$message({type:"warning",message:"disable deletion of root node!"})})).catch((function(){e.$message({type:"info",message:"failed deleted!"})}))}}},cr=lr,ur=(a("1914"),Object(f["a"])(cr,or,sr,!1,null,"69bd2444",null)),dr=ur.exports,pr={components:{ButterflyVue:Ga["a"],parNode:Za,opNode:ir,comNode:dr},props:{computeStr:{type:String},showStyle:{type:Number},replace:{type:Function}},data:function(){return{baseCanvas:Wa["TreeCanvas"],canvasConf:{disLinkable:!0,linkable:!0,draggable:!0,zoomable:!0,moveable:!0,theme:{group:{type:"normal"},edge:{shapeType:"Manhattan",arrow:!0,arrowPosition:.5,arrowOffset:0,isExpandWidth:!1,defaultAnimate:!1},endpoint:{position:[],linkableHighlight:!0,limitNum:10,expandArea:{left:10,right:10,top:10,botton:10}},zoomGap:.001,autoFixCanvas:{enable:!1,autoMovePadding:[20,20,20,20]},autoResizeRootSize:!1},global:{isScopeStrict:!1},layout:{type:"compactBox",isFlatNode:!0,options:{direction:"RL",isHorizontal:!0,indent:100,getHeight:function(){return 200},getWidth:function(){return 100}}}},parameters:{ref:"parameters",userData:{title:"Parameters",inputPar:"",inputFunc:"",arrayFunc:[{value:"param_value_scaled"},{value:"param_is_valid"},{value:"param_is_acquired"},{value:"param_is_updated"},{value:"param_is_derived"},{value:"param_value_unscaled"},{value:"param_validity_unmasked"},{value:"event_current_state"},{value:"event_current_state_time"},{value:"event_previous_state"},{value:"event_previous_state_time"}]}},operators:{ref:"operators",userData:{title:"Operators",input:"",opArray:[{value:"<"},{value:"<="},{value:">"},{value:">="},{value:"!="},{value:"=="},{value:"AND"},{value:"OR"},{value:"XOR"}]}},mockData:{nodes:[],groups:[],edges:[]},canvansRef:{},butterflyVue:{},allNodes:[],allEdges:[],outerVisible:!1,judgeRoot:0,newNodeType:"Parameters",typeOptionVisible:!1,newFatherID:!1,validateRule:""}},mounted:function(){},validations:{validateRule:{conditionBracketCheck:Ea,conditionParametersCheck:wa,nearOperatorString:Ca,nearParameterString:Ta}},methods:{cancelEdit:function(){this.outerVisible=!1},handleTypeVisible:function(e){this.typeOptionVisible=!0,this.newFatherID=e},generateNodeObj:function(){var e={},t={id:"left",orientation:[-1,0],pos:[0,.5]},a={id:"right",orientation:[1,0],pos:[0,.5]},r={id:"rightPar",orientation:[1,0],pos:[0,.5]};if("Parameters"==this.newNodeType){var n=this.guid();e={id:n,idUP:this.newFatherID,groupId:"1",render:Za,children:[],userData:{title:"Parameters",inputPar:"",inputFunc:"",arrayFunc:[{value:"param_value_scaled"},{value:"param_is_valid"},{value:"param_is_acquired"},{value:"param_is_updated"},{value:"param_is_derived"},{value:"param_value_unscaled"},{value:"param_validity_unmasked"}]},endpoints:[r]}}if("Events"==this.newNodeType){var i=this.guid();e={id:i,idUP:this.newFatherID,children:[],groupId:"1",render:Za,userData:{title:"Events",inputPar:"",inputFunc:"",arrayFunc:[{value:"event_current_state"},{value:"event_current_state_time"},{value:"event_previous_state"},{value:"event_previous_state_time"}]},endpoints:[r]}}if("Operators"==this.newNodeType){var o=this.guid();e={id:o,idUP:this.newFatherID,children:[],groupId:"1",render:ir,userData:{title:"Operators",input:"==",opArray:[{value:"<"},{value:"<="},{value:">"},{value:">="},{value:"!="},{value:"=="},{value:"AND"},{value:"OR"},{value:"XOR"}]},endpoints:[t,a]}}if("Values"==this.newNodeType){var s=this.guid();e={id:s,children:[],idUP:this.newFatherID,groupId:"1",render:dr,userData:{title:"Values",inputPar:""},endpoints:[r]}}return e},clickAddNode:function(){var e=this,t=this.allNodes[0];if(null!=t){if(t.id==this.newFatherID){if(2!=t.children.length){var a=this.generateNodeObj(),r={};return r="Operators"!=this.newNodeType?{id:a["id"]+"-"+this.newFatherID,sourceNode:a["id"],targetNode:this.newFatherID,source:"rightPar",target:"left"}:{id:a["id"]+"-"+this.newFatherID,sourceNode:a["id"],targetNode:this.newFatherID,source:"right",target:"left"},t.children.push(a),this.allEdges.push(r),console.log(r),this.mockData["nodes"]=t,this.mockData["edges"]=this.allEdges,this.$message({type:"success",message:"successfully added!"}),void(this.typeOptionVisible=!1)}this.$message({type:"warning",message:"This node already has two child nodes!"})}var n=[];n.push(t);while(0!=n.length){var i=n.pop(),o=i.children;if(o&&o.length>0){var s=o.findIndex((function(t){return t.id===e.newFatherID}));if(s>-1)if(console.log("children",o),2==o[s].children.length)this.$message({type:"warning",message:"This node already has two child nodes!"});else{var l=this.generateNodeObj(),c={};c="Operators"!=this.newNodeType?{id:l["id"]+"-"+this.newFatherID,sourceNode:l["id"],targetNode:this.newFatherID,source:"rightPar",target:"left"}:{id:l["id"]+"-"+this.newFatherID,sourceNode:l["id"],targetNode:this.newFatherID,source:"right",target:"left"},o[s].children.push(l),this.allEdges.push(c),this.mockData["nodes"]=t,this.mockData["edges"]=this.allEdges,this.$refs.butterflyVue.redraw(),this.$message({type:"success",message:"successfully added!"}),this.typeOptionVisible=!1}for(var u=o.length-1;u>=0;u--)n.push(o[u])}}}},deleteNode:function(e){this.$store.commit("rules/judgeRoot",0);var t=this.deepFirstSearch(this.mockData.nodes,e);0!=t?this.$refs.butterflyVue.redraw():this.$store.commit("rules/judgeRoot",1)},deepFirstSearch:function(e,t){if(null!=e){if(e.id==t)return 0;var a=[];a.push(e);while(0!=a.length){var r=a.pop(),n=r.children;if(n&&n.length>0){var i=n.findIndex((function(e){return e.id===t}));if(i>-1){var o=this.deepIDSearch(n[i]);return n.splice(i,1),o}for(var s=n.length-1;s>=0;s--)a.push(n[s])}}}},deepIDSearch:function(e){var t=[];if(t.push(e.id),null!=e){var a=[];a.push(e);while(0!=a.length){var r=a.pop(),n=r.children;if(n&&n.length>0){var i,o=Object(V["a"])(n);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.push(s.id)}}catch(c){o.e(c)}finally{o.f()}for(var l=n.length-1;l>=0;l--)a.push(n[l])}}}return t},dragstart:function(e,t){e.dataTransfer.setData("opDemo",JSON.stringify(t)),e.dataTransfer.setDragImage(this.$refs[t.ref],0,0)},dragover:function(e){e.preventDefault()},addNode:function(e){var t={id:"left",orientation:[-1,0],pos:[0,.5]},a={id:"right",orientation:[1,0],pos:[0,.5]},r=e.clientX,n=e.clientY,i=(this.canvansRef.terminal2canvas([r,n]),JSON.parse(e.dataTransfer.getData("opDemo")));"operators"==i.ref&&this.mockData.nodes.children.push({id:this.guid(),render:ir,groupId:"1",userData:i.userData,endpoints:[t,a]}),this.$refs.butterflyVue.redraw()},saveCondition:function(){if(0==this.judgeObjFormat(this.mockData.nodes))this.$message.error("wrong nodes format!");else{var e=this.formString(this.mockData["nodes"]);0==this.validateChildData(e)?this.$message.error("invalid input!"):(this.$emit("replace",e),this.outerVisible=!1)}},validateChildData:function(e){return this.validateRule=e,this.$v.validateRule.$touch(),this.$v.$invalid?0:1},judgeObjFormat:function(e){if(null!=e){if(2!=e.children.length)return 0;var t=[];t.push(e);while(0!=t.length){var a=t.pop(),r=a.children;if(r){if(r.length>0){if(2!=r.length)return 0}else if("Operators"==a.userData.title)return 0;for(var n=r.length-1;n>=0;n--)t.push(r[n])}}}return 1},formString:function(e){if(Object.keys(e).includes("children")&&0!=e["children"].length){var t=this.formString(e["children"][0]),a=this.formString(e["children"][1]),r=e["userData"]["input"];if(""==r)return;return"("+t+" "+r+" "+a+")"}return"Parameters"==e["userData"]["title"]||"Events"==e["userData"]["title"]?e["userData"]["inputFunc"]+"("+e["userData"]["inputPar"]+")":e["userData"]["inputPar"]},analysisData:function(){var e=this;if(this.mockData={},this.allNodes=[],this.allEdges=[],2!=this.showStyle||""==this.computeStr.trim()){if(""==this.computeStr.trim())this.generateEmptyCondition();else{var t=_t(this.computeStr),a=bt(t);this.generateDataNode(a,""),this.generateEdge(),this.generateTreeNode()}var r={};r=this.allNodes[0],r["isRoot"]=!0,this.mockData["nodes"]=r,this.mockData["edges"]=this.allEdges,this.outerVisible=!0,this.$nextTick((function(){e.$refs.butterflyVue.canvas.focusCenterWithAnimate({offset:[0,0]}),e.$refs.butterflyVue.canvas.setZoomable(!0,!0)}))}else this.$message({type:"warning",message:"Please make sure the expression is correct!"})},generateEmptyCondition:function(){var e={id:"left",orientation:[-1,0],pos:[0,.5]},t={id:"right",orientation:[1,0],pos:[0,.5]},a=this.guid(),r={id:a,groupId:"1",idUP:"",left:10,top:100,children:[],render:ir,userData:{title:"Operators",input:"==",opArray:[{value:"<"},{value:"<="},{value:">"},{value:">="},{value:"!="},{value:"=="},{value:"AND"},{value:"OR"},{value:"XOR"}]},endpoints:[e,t]};this.allNodes.push(r)},generateDataNode:function(e,t){var a={id:"left",orientation:[-1,0],pos:[0,.5]},r={id:"right",orientation:[1,0],pos:[0,.5]},n={id:"leftPar",orientation:[1,0],pos:[0,.5]},i=this.guid(),o={id:i,groupId:"1",idUP:t,left:10,top:100,render:ir,userData:{title:"Operators",input:e["Operator"],opArray:[{value:"<"},{value:"<="},{value:">"},{value:">="},{value:"!="},{value:"=="},{value:"AND"},{value:"OR"},{value:"XOR"}]},endpoints:[a,r]};this.allNodes.push(o);for(var s="",l=0,c=Object.keys(e);l<c.length;l++){var u=c[l];"Operator"!=u&&("object"===Object(tt["a"])(e[u])?this.generateDataNode(e[u],i):(-1!=e[u].indexOf("-")?-1!=e[u].indexOf("event_current_state")||-1!=e[u].indexOf("event_current_state_time")||-1!=e[u].indexOf("event_previous_state")||-1!=e[u].indexOf("event_previous_state_time")?(s=this.guid(),o={id:s,idUP:i,groupId:"1",render:Za,userData:{title:"Events",inputPar:e[u].split("-")[1],inputFunc:e[u].split("-")[0],arrayFunc:[{value:"event_current_state"},{value:"event_current_state_time"},{value:"event_previous_state"},{value:"event_previous_state_time"}]},endpoints:[n]}):(s=this.guid(),o={id:s,idUP:i,groupId:"1",render:Za,userData:{title:"Parameters",inputPar:e[u].split("-")[1],inputFunc:e[u].split("-")[0],arrayFunc:[{value:"param_value_scaled"},{value:"param_is_valid"},{value:"param_is_acquired"},{value:"param_is_updated"},{value:"param_is_derived"},{value:"param_value_unscaled"},{value:"param_validity_unmasked"}]},endpoints:[n]}):(s=this.guid(),o={id:s,idUP:i,groupId:"1",render:dr,userData:{title:"Values",inputPar:e[u]},endpoints:[n]}),this.allNodes.push(o)))}},generateEdge:function(){var e,t={},a=Object(V["a"])(this.allNodes);try{for(a.s();!(e=a.n()).done;){var r=e.value;if(""!=r["idUP"]){var n,i=Object(V["a"])(this.allNodes);try{for(i.s();!(n=i.n()).done;){var o=n.value;r["idUP"]==o["id"]&&("Oeprators"==r["userData"]["title"]?(t={id:r["id"]+"-"+o["id"],sourceNode:r["id"],targetNode:o["id"],source:"right",target:"left"},this.allEdges.push(t)):(t={id:r["id"]+"-"+o["id"],sourceNode:r["id"],targetNode:o["id"],source:"leftPar",target:"left"},this.allEdges.push(t)))}}catch(s){i.e(s)}finally{i.f()}}}}catch(s){a.e(s)}finally{a.f()}},generateTreeNode:function(){var e,t=Object(V["a"])(this.allNodes);try{for(t.s();!(e=t.n()).done;){var a=e.value;if(""!=a["idUP"]){var r,n=Object(V["a"])(this.allNodes);try{for(n.s();!(r=n.n()).done;){var i=r.value;a["idUP"]==i["id"]&&(i["children"]||(i["children"]=[]),i["children"].push(a))}}catch(o){n.e(o)}finally{n.f()}}}}catch(o){t.e(o)}finally{t.f()}},guid:function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()},finishLoaded:function(e){this.butterflyVue=e,this.canvansRef=e.canvas,window.butterflyVue=e,this.canvansRef.setMinimap(!0,{height:100,nodeColor:"rgb(234,217,162)",activeNodeColor:"rgb(234,162,176)"})}}},mr=pr,fr=(a("2868"),Object(f["a"])(mr,Ha,qa,!1,null,"40b5d485",null)),hr=fr.exports,vr={components:{PopoverSel:_a,Memory:Na,Timer:za,AdvancedCalculator:hr},directives:{clickOutside:{bind:function(e,t,a){function r(a){if(e.contains(a.target))return!1;t.expression&&t.value(a)}e.__vueClickOutside__=r,document.addEventListener("click",r)},update:function(){},unbind:function(e,t){document.removeEventListener("click",e.__vueClickOutside__),delete e.__vueClickOutside__}}},props:{index:{type:Number,required:!0,default:-1},selectedData:{type:Array,required:!0},content:{type:Object,required:!1,default:function(){return{}}}},data:function(){return{memoryIndex:[],timerIndex:[],showStyle:0,activeNames:["1"],saveInfo:{},validateRule:"",bracketSuggestions:"",computeStr:" ",contentMemory:[],contentTimer:[]}},watch:{content:function(e,t){this.computeStr=this.replaceParGuid(e["condition"]),this.contentMemory=e["memory"],this.contentTimer=this.content["timer"],console.log("newValue",e);for(var a=0;a<e["memory"].length;a++)this.$set(this.memoryIndex,this.memoryIndex.length,{});for(var r=0;r<e["timer"].length;r++)this.$set(this.timerIndex,this.timerIndex.length,{})}},validations:{validateRule:{required:$a["required"],conditionBracketCheck:Ea,conditionParametersCheck:wa,nearOperatorString:Ca,nearParameterString:Ta}},mounted:function(){if(this.content){if(this.computeStr=this.content["condition"]?this.replaceParGuid(this.content["condition"]):"",this.contentMemory=this.content["memory"]?this.content["memory"]:[],this.contentTimer=this.content["timer"]?this.content["timer"]:[],this.content["memory"])for(var e=0;e<this.content["memory"].length;e++)this.$set(this.memoryIndex,this.memoryIndex.length,{});if(this.content["timer"])for(var t=0;t<this.content["timer"].length;t++)this.$set(this.timerIndex,this.timerIndex.length,{})}},methods:{addInfo:function(e,t){var a=this.$refs.memory_Index[e].$el.querySelector("textarea"),r=a.selectionStart;this.$refs.memory_Index[e].computeStr=this.$refs.memory_Index[e].computeStr.slice(0,r)+t+this.$refs.memory_Index[e].computeStr.slice(r)},passIndex:function(e){-1==e?this.$emit("passIndex",-1,-1):this.$emit("passIndex",this.index,e)},blurFocusedIndex:function(){},setFocusedIndex:function(){this.$emit("passIndex",this.index,-1)},validateChildData:function(e){this.computeStr=e,this.bracketSuggestions=Ra(e),this.validateRule=e,this.$v.validateRule.$touch(),this.$v.$invalid?this.showStyle=2:this.showStyle=1},replaceSuggestion:function(){this.$refs.popOverSel.inputInitial(this.bracketSuggestions)},replaceString:function(e){this.$refs.popOverSel.inputInitial(e)},clickOutsideShow:function(){2!==this.showStyle&&(this.showStyle=0)},editBoxInitial:function(e){for(var t=this,a=0;a<this.memoryIndex.length;a++)this.removeMemory();for(var r=0;r<this.timerIndex.length;r++)this.removeTimer();var n=0,i=0;if(console.log(e),void 0!==e){Object.keys(e).includes("memoryBox")&&(n=e["memoryBox"].length),Object.keys(e).includes("timeBox")&&(i=e["timeBox"].length);for(var o=function(a){t.addMemory(),t.$nextTick((function(){t.$refs["memory_Index"][a].memoryBoxInitial(e["memoryBox"][a])}))},s=0;s<n;s++)o(s);for(var l=function(a){t.addTimer(),t.$nextTick((function(){t.$refs["timer_Index"][a].timerInitial(e["timeBox"][a])}))},c=0;c<i;c++)l(c);this.$refs["popOverSel"].inputInitial(e["computeBox"])}},replaceParName:function(e){var t=this.$store.getters.parameters.sort((function(e,t){return t.Name.length-e.Name.length}));return t.forEach((function(t){var a=new RegExp(t.Name,"g");e=e.replace(a,t.Guid)})),e},replaceParGuid:function(e){return this.$store.getters.parameters.forEach((function(t){var a=new RegExp(t.Guid,"g");e=e.replace(a,t.Name)})),e},addMemory:function(){this.memoryIndex.push({}),this.contentMemory.push({})},removeMemory:function(){this.memoryIndex.pop({}),this.contentMemory.pop({})},addTimer:function(){this.timerIndex.push({}),this.contentTimer.push({})},removeTimer:function(){this.timerIndex.pop({}),this.contentTimer.pop({})},focusSpan:function(){this.$refs.popOverSel.focusCompute(),2!==this.showStyle&&(this.showStyle=1)},getRandomString:function(e){var t="abacdefghjklmnopqrstuvwxyzABCDEFGHJKLMNOPQRSTUVWXYZ0123456789",a=0,r=t.length-1,n="";e=e||15;for(var i,o=0;o<e;o++)i=function(e,t){return e(a,r,t,e)}((function(e,a,r,n){var i=Math.floor(Math.random()*(a-e+1)+e),o=t.length-10;return 0===r&&i>=o&&(i=n(e,a,r,n)),i}),o),n+=t[i];return n},generateComputeStr:function(){var e="",t=[],a=[],r=[];e=this.replaceParName(this.computeStr);for(var n=0;n<this.memoryIndex.length;n++){var i={type:this.$refs.memory_Index[n].memoryType,condition:this.replaceParName(this.$refs.memory_Index[n].computeStr)};t.push(i)}for(var o=0;o<this.timerIndex.length;o++){var s={type:this.$refs.timer_Index[o].timerTypeLeft,condition:this.$refs.timer_Index[o].timerTypeRight+"("+this.$refs.timer_Index[o].timerTypeLeft+")"};a.push(s)}return{condition:e,memory:t,timer:a,parameters:r}}}},gr=vr,br=(a("09a1"),Object(f["a"])(gr,ua,da,!1,null,"7a79185a",null)),_r=br.exports,yr={components:{EditBox:_r},props:{content:{type:Array,required:!0}},data:function(){return{parameterOptions:[],eventOptions:[],select1Loading:!1,select2Loading:!1,saveJson:[],functionSelect:"",dataSelect:{},contentInfo:[],editIndex:[{}],elseComputeIndex:[],functionOptions:[{label:"Scaled Value",value:"param_value_scaled"},{label:"Is_Valid ?",value:"param_is_valid"},{label:"Is_Updated ?",value:"param_is_updated"},{label:"Is_Acquired",value:"param_is_acquired"},{label:"Is_Derived",value:"param_is_derived"},{label:"Unscaled Value",value:"param_value_unscaled"},{label:"Unmasked Validity",value:"param_validity_unmasked"},{label:"Raw Value & Validity",value:"param_raw"}],operator:[[{name:"MEM",type:"primary",icon:""},{name:"Timer1",type:"",icon:"el-icon-star-off"},{name:"Timer2",type:"",icon:"el-icon-star-off"},{name:"<",type:"primary",icon:""},{name:"<=",type:"primary",icon:""}],[{name:"AND",type:"primary",icon:""},{name:"(",type:"",icon:""},{name:")",type:"",icon:""},{name:">",type:"primary",icon:""},{name:">=",type:"primary",icon:""}],[{name:"OR",type:"primary",icon:""},{name:"7",type:"",icon:""},{name:"8",type:"",icon:""},{name:"9",type:"",icon:""},{name:"!=",type:"primary",icon:""}],[{name:"XOR",type:"primary",icon:""},{name:"4",type:"",icon:""},{name:"5",type:"",icon:""},{name:"6",type:"",icon:""},{name:"=",type:"primary",icon:""}],[{name:"TRUE",type:"primary",icon:""},{name:"1",type:"",icon:""},{name:"2",type:"",icon:""},{name:"3",type:"",icon:""},{name:"FALSE",type:"primary",icon:""}]],eventFunctionOptions:[{label:"Current State",value:"event_current_state"},{label:"Current State Elapsed Time",value:"event_current_state_time"},{label:"Previous State",value:"event_previous_state"},{label:"Previous State Elapsed Time",value:"event_previous_state_time"}],eventFunctionSelect:"",eventNameSelect:"",cursorPosition:"",index1:-1,index2:-1,selectedData:[]}},watch:{content:function(e,t){this.contentInfo=e,0!=e.length?this.selectedData=e[0].parameters:this.selectedData=[],this.editIndex=[{}];for(var a=0;a<e.length-1;a++)this.$set(this.editIndex,this.editIndex.length,{})},deep:!0},mounted:function(){},methods:Object(u["a"])(Object(u["a"])(Object(u["a"])(Object(u["a"])(Object(u["a"])(Object(u["a"])(Object(u["a"])({eventSearch:function(){},saveSelected:function(e){this.selectedData.push(e)},handleIndex:function(e,t){this.index1=e,this.index2=t},parameterSearch:function(e){var t=this;""!==e?(this.loading=!0,K({parameter_name:e}).then((function(e){t.loading=!1,console.log("this.res",e),t.parameterOptions=e.data.map((function(e){return{Name:e.parameter_name,Guid:e.global_guid}}))}))):this.parameterOptions=[],console.log("this.parameterOptions",this.parameterOptions)}},"eventSearch",(function(e){var t=this;""!==e?(this.loading=!0,rt({name:e}).then((function(e){t.loading=!1,t.eventOptions=e.data.map((function(e){return{Name:e.name,Guid:e.guid}})),console.log("this.eventOptions",t.eventOptions)}))):this.eventOptions=[]})),"saveConditionInfo",(function(){for(var e=[],t=0;t<this.editIndex.length;t++)e.push(this.$refs.editBox[t].generateComputeStr());return{condition:JSON.stringify(e)}})),"addElseCompute",(function(){this.editIndex.push({})})),"removeElseCompute",(function(){this.editIndex.length>1&&this.editIndex.pop()})),"addEventFromSelect",(function(){if(this.eventNameSelect&&this.eventFunctionSelect){var e=this.eventFunctionSelect+"(b"+this.eventNameSelect+"b)";if(-1==this.index2){console.log("this.$refs['editBox'][this.index1]",this.$refs["editBox"][this.index1]);var t=this.$refs["editBox"][this.index1].$el.querySelector("textarea"),a=t.selectionStart;this.$refs["editBox"][this.index1].computeStr=this.$refs["editBox"][this.index1].computeStr.slice(0,a)+e+this.$refs["editBox"][this.index1].computeStr.slice(a)}else this.$refs["editBox"][this.index1].addInfo(this.index2,e)}})),"addFromSelect",(function(){if(console.log("this.dataSelect ",this.dataSelect),this.dataSelect&&this.functionSelect){var e=this.functionSelect+"(b"+this.dataSelect+"b)";if(-1==this.index2){console.log("this.$refs['editBox'][this.index1]",this.$refs["editBox"][this.index1]);var t=this.$refs["editBox"][this.index1].$el.querySelector("textarea"),a=t.selectionStart;this.$refs["editBox"][this.index1].computeStr=this.$refs["editBox"][this.index1].computeStr.slice(0,a)+e+this.$refs["editBox"][this.index1].computeStr.slice(a)}else this.$refs["editBox"][this.index1].addInfo(this.index2,e)}})),"addContent",(function(e){if(e=" "+e+" ",-1==this.index2){var t=this.$refs.editBox[this.index1].$el.querySelector("textarea"),a=t.selectionStart;console.log(this.$refs["editBox"][this.index1]),this.$refs["editBox"][this.index1].computeStr=this.$refs["editBox"][this.index1].computeStr.slice(0,a)+e+this.$refs["editBox"][this.index1].computeStr.slice(a)}else this.$refs["editBox"][this.index1].addInfo(this.index2,e)}))},xr=yr,wr=(a("2de9"),Object(f["a"])(xr,la,ca,!1,null,"6726c423",null)),Sr=wr.exports,kr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"80vh",overflow:"auto"}},[a("el-row",{staticStyle:{"margin-top":"30px"}},[a("el-col",{attrs:{span:12,push:4}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"300px",size:"mini",rules:e.rules}},[a("el-form-item",{attrs:{label:"Name",prop:"name"}},[a("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"Event Transmission Group",prop:"group_info"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.ruleForm.group_info,callback:function(t){e.$set(e.ruleForm,"group_info",t)},expression:"ruleForm.group_info"}},[a("el-option",{attrs:{label:"Default_File_Event",value:"Default_File_Event"}}),a("el-option",{attrs:{label:"ACARS_ACMF_Event_File",value:"ACARS_ACMF_Event_File"}})],1)],1),a("el-form-item",{attrs:{label:"Rule Evaluation Rate",prop:"rate"}},[a("el-select",{model:{value:e.ruleForm.rate,callback:function(t){e.$set(e.ruleForm,"rate",t)},expression:"ruleForm.rate"}},e._l(e.optionsRate,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"Delay After Startup",prop:"delay"}},[a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"start"}},[a("el-col",[a("el-input-number",{attrs:{"controls-position":"right",min:-60,max:60},model:{value:e.ruleForm.delay,callback:function(t){e.$set(e.ruleForm,"delay",t)},expression:"ruleForm.delay"}})],1)],1)],1),a("el-form-item",{attrs:{label:"Trigger When",prop:"trigger"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.ruleForm.trigger,callback:function(t){e.$set(e.ruleForm,"trigger",t)},expression:"ruleForm.trigger"}},[a("el-option",{attrs:{label:"change values",value:"WhenChange"}}),a("el-option",{attrs:{label:"change from False to True",value:"WhenRising"}}),a("el-option",{attrs:{label:"change from True to False",value:"WhenFalling"}})],1)],1),a("el-form-item",{attrs:{label:"Initial Condition State",prop:"init_state"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.ruleForm.init_state,callback:function(t){e.$set(e.ruleForm,"init_state",t)},expression:"ruleForm.init_state"}},[a("el-option",{attrs:{label:"No Value",value:"NoValue"}}),a("el-option",{attrs:{label:"false",value:"false"}}),a("el-option",{attrs:{label:"true",value:"true"}})],1)],1),a("el-form-item",{attrs:{label:"Steady State Filter",prop:"state_filter"}},[a("el-input-number",{attrs:{"controls-position":"right",min:-60,max:60},model:{value:e.ruleForm.state_filter,callback:function(t){e.$set(e.ruleForm,"state_filter",t)},expression:"ruleForm.state_filter"}})],1),a("el-form-item",{attrs:{label:"Event Trigger Limit",prop:"trigger_limit"}},[a("el-input-number",{attrs:{"controls-position":"right",min:-60,max:60},model:{value:e.ruleForm.trigger_limit,callback:function(t){e.$set(e.ruleForm,"trigger_limit",t)},expression:"ruleForm.trigger_limit"}})],1),a("el-form-item",{attrs:{label:"Event Log Limit",prop:"log_limit"}},[a("el-input-number",{attrs:{"controls-position":"right",min:-60,max:60},model:{value:e.ruleForm.log_limit,callback:function(t){e.$set(e.ruleForm,"log_limit",t)},expression:"ruleForm.log_limit"}})],1),a("el-form-item",{attrs:{label:"Associated Aircraft Part",prop:"aircraft_part"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.ruleForm.aircraft_part,callback:function(t){e.$set(e.ruleForm,"aircraft_part",t)},expression:"ruleForm.aircraft_part"}},[a("el-option",{attrs:{label:"21-0000-HF_IASC",value:"21-0000-HF_IASC"}}),a("el-option",{attrs:{label:"24-0000-HF_RPDU_UP_1",value:"24-0000-HF_RPDU_UP_1"}}),a("el-option",{attrs:{label:"27-0000-HF_FSECU",value:"27-0000-HF_FSECU"}})],1)],1),a("el-form-item",{attrs:{label:"Suppress Event Eecording",prop:"event_record"}},[a("el-checkbox",{model:{value:e.ruleForm.event_record,callback:function(t){e.$set(e.ruleForm,"event_record",t)},expression:"ruleForm.event_record"}})],1)],1)],1)],1)],1)},Or=[],Cr=(a("d9e2"),{props:{content:{type:Object,required:!0,default:{}}},data:function(){var e=this,t=function(t,a,r){var n=e.$store.state.rules.totalRule;if(-1===e.$store.state.rules.ruleInfoEach.index)for(var i=0;i<n.length;i++)if(a===n[i].name)return r(new Error("Task Name Used"));if(!a)return r(new Error("Rule Name Required"));r()};return{ruleForm:{name:"",group_info:"Default_File_Event",rate:"1 Hz",delay:0,trigger:"changes from False to True",init_state:"",state_filter:0,trigger_limit:0,log_limit:0,aircraft_part:"",event_record:!1},pageInit:0,rules:{name:[{validator:t,trigger:"blur"}]},optionsRate:[{value:1,label:"1 Hz"},{value:2,label:"2 Hz"},{value:4,label:"4 Hz"},{value:8,label:"8 Hz"},{value:16,label:"16 Hz"},{value:32,label:"32 Hz"},{value:"One time only",label:"One time only"}],judgeContinue:0}},watch:{content:function(e,t){this.ruleForm=e},deep:!0},mounted:function(){},methods:{saveRuleProperty:function(){return this.ruleForm.event_record?this.ruleForm.event_record=1:this.ruleForm.event_record=0,this.ruleForm},rulePropertyInitial:function(){this.ruleForm=this.content}}}),Tr=Cr,Er=(a("7403"),Object(f["a"])(Tr,kr,Or,!1,null,"3c97a24a",null)),jr=Er.exports,Rr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"80vh"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-row",[a("p",{staticStyle:{"font-size":"16px","font-weight":"700"}},[e._v("Related Task")])]),a("el-row",[a("el-table",{attrs:{"max-height":"500px",data:e.relatedTask}},[a("el-table-column",{attrs:{label:"Options",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-error"},on:{click:function(a){return e.relatedToLibrary(t.$index,t.row)}}}),0!=t.$index?a("el-button",{attrs:{icon:"el-icon-top"},on:{click:function(a){return e.buttonUp(t.$index)}}}):e._e(),a("el-button",{attrs:{icon:"el-icon-bottom"},on:{click:function(a){return e.buttonDown(t.$index)}}})]}}])}),a("el-table-column",{attrs:{label:"Task Name",prop:"task_name"}}),a("el-table-column",{attrs:{label:"Task Type",prop:"task_type"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-row",[a("p",{staticStyle:{"font-size":"16px","font-weight":"700"}},[e._v("Task Library")])]),a("el-row",[a("el-table",{attrs:{"max-height":"500px",data:e.taskLibrary}},[a("el-table-column",{attrs:{label:"Options",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-plus"},on:{click:function(a){return e.libraryToRelated(t.$index,t.row)}}})]}}])}),a("el-table-column",{attrs:{label:"Task Name",prop:"task_name"}}),a("el-table-column",{attrs:{label:"Task Type",prop:"task_type"}})],1)],1)],1)],1)],1)},Pr=[],Dr={data:function(){return{taskLibrary:[],relatedTask:[]}},mounted:function(){this.relateTaskInit(),this.taskLibraryInit()},methods:{taskLibraryInit:function(){var e=this,t={project_id:1,page:1,limit:100};lt(t).then((function(t){0!==t.data.length&&(e.taskLibrary=JSON.parse(JSON.stringify(t.data)))}))},relateTaskInit:function(){var e=this,t={name:this.$route.query.name,project_id:1,page:1,limit:100};console.log("tmpObj",t),rt(t).then((function(t){0!==t.data.length&&(e.relatedTask=JSON.parse(t.data[0].task_id))}))},saveRelatedTaskInfo:function(){return{task_id:JSON.stringify(this.relatedTask)}},libraryToRelated:function(e,t){var a=this.relatedTask.some((function(e){return e.guid===t.guid}));a?this.$message({message:"The task is already in the pending transfer list.",type:"warning"}):(this.relatedTask.push(t),this.taskLibrary.splice(e,1))},relatedToLibrary:function(e,t){var a=this.taskLibrary.some((function(e){return e.guid===t.guid}));this.relatedTask.splice(e,1),a||this.taskLibrary.push(t)},buttonDown:function(e){if(e<this.relatedTask.length-1){var t=this.relatedTask[e+1];this.$set(this.relatedTask,e+1,this.relatedTask[e]),this.$set(this.relatedTask,e,t)}},buttonUp:function(e){var t=this.relatedTask[e-1];this.$set(this.relatedTask,e-1,this.relatedTask[e]),this.$set(this.relatedTask,e,t)}}},$r=Dr,Fr=Object(f["a"])($r,Rr,Pr,!1,null,null,null),Ar=Fr.exports,Ir=(a("8ad2"),{components:{RuleHeader:sa,ConditionPage:Sr,PropertyPage:jr,TaskPage:Ar},data:function(){return{pageIndex:0,postIndex:"",propertyContent:{},conditionContent:[],ruleData:[]}},mounted:function(){this.ruleInit(),this.dataReady=!0},methods:{ruleInit:function(){var e=this;-1!=this.$route.query.index?rt({project_id:1,id:this.$route.query.index,name:this.$route.query.name}).then((function(t){var a=t.data[0];e.propertyContent={name:a.name,group_info:a.group_info,rate:a.rate,delay:a.delay,trigger:a.trigger,init_state:a.init_state,state_filter:a.state_filter,trigger_limit:a.trigger_limit,log_limit:a.log_limit,aircraft_part:a.aircraft_part,event_record:a.event_record},e.conditionContent=JSON.parse(t.data[0].condition)})):(this.propertyContent={name:"",group_info:"Default_File_Event",rate:"1 Hz",delay:0,trigger:"changes from False to True",init_state:"",state_filter:0,trigger_limit:0,log_limit:0,aircraft_part:"",event_record:!1},this.conditionContent=[])},pageIndexChange:function(e){this.pageIndex=e},returnToRules:function(){this.$router.push({name:"Rule"})},saveRule:function(){if(this.$refs["property"].saveRuleProperty(),this.$refs["condition"].saveConditionInfo(),1==this.$refs["property"].judgeContinue){var e=this.$store.state.rules.saveRuleProperty;e["conditions"]=JSON.stringify(this.$store.state.rules.saveRuleConditions),e["saveRuleSpan"]="0",this.$store.commit("rules/ruleChange2",e),e["gettype"]="save",console.log("ruleData",e),nt(e).then((function(e){})).catch((function(e){}));for(var t={gettype:"save"},a=[],r=0;r<this.$store.state.rules.ruleTaskRelated.length;r++)a.push(this.$store.state.rules.ruleTaskRelated[r]["taskName"]);t["taskname"]=JSON.stringify(a),t["rulename"]=this.$store.state.rules.saveRuleProperty["name"],ft(t).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),this.$bus.$emit("totalRule","1")}else this.$alert("缺少必填项或任务名重复","提示",{confirmButtonText:"确定"})},editRule:function(){if(this.$refs["property"].saveRuleProperty(),this.$refs["condition"].saveConditionInfo(),1==this.$refs["property"].judgeContinue){var e=this.$store.state.rules.saveRuleProperty;e["conditions"]=JSON.stringify(this.$store.state.rules.saveRuleConditions),e["saveRuleSpan"]=JSON.stringify(this.$store.state.rules.saveRuleSpan),console.log(e),this.$store.commit("rules/ruleChange2",e),e["gettype"]="update",e["prename"]=this.$route.query.name,it(e).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));var t={gettype:"update"};t["prename"]=this.$route.query.name;for(var a=[],r=0;r<this.$store.state.rules.ruleTaskRelated.length;r++)a.push(this.$store.state.rules.ruleTaskRelated[r]["taskName"]);t["taskname"]=JSON.stringify(a),t["rulename"]=this.$store.state.rules.saveRuleProperty["name"],ht(t).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),this.$bus.$emit("totalRule","1")}else this.$alert("缺少必填项或任务名重复","提示",{confirmButtonText:"确定"})},saveOrEdit:function(){var e=this,t=this.$refs.property.saveRuleProperty();console.log("property:",t);var a=this.$refs.condition.saveConditionInfo();console.log("condition:",a);var r=this.$refs.taskMap.saveRelatedTaskInfo();console.log("relatedTask:",r);var n=Object(ta["a"])(Object(ta["a"])(Object(ta["a"])({},t),a),r);-1==this.$route.query.index?nt(n).then((function(t){e.$router.push({name:"Rule"})})):(n["id"]=this.$route.query.index,console.log("postObj!!!!!!",n),it(n).then((function(t){console.log(t.data),e.$router.push({name:"Rule"})})))}}}),Nr=Ir,Lr=(a("81c9"),Object(f["a"])(Nr,Zt,ea,!1,null,"44cc692c",null)),Mr=Lr.exports,Vr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{"margin-top":"10px","margin-left":"2vh"}},[a("el-button",{attrs:{plain:"",type:"success",size:"mini"},on:{click:e.returnToTasks}},[e._v("Back to tasks")])],1),a("el-row",{staticStyle:{height:"70vh",overflow:"auto"}},[a("el-form",{ref:"form",attrs:{model:e.form,size:"mini","label-width":"200px"}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{staticStyle:{width:"400px","margin-left":"20px"},attrs:{label:"Name",prop:"task_name"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.form.task_name,callback:function(t){e.$set(e.form,"task_name",t)},expression:"form.task_name"}})],1),a("el-form-item",{staticStyle:{width:"400px","margin-left":"20px"},attrs:{label:"Task Type",prop:"task_type"}},[a("el-select",{attrs:{size:"mini"},on:{change:e.selectTaskChange},model:{value:e.form.task_type,callback:function(t){e.$set(e.form,"task_type",t)},expression:"form.task_type"}},e._l(e.optionsTask,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"Parameter Recording Task"===e.form.task_type,expression:"form.task_type === 'Parameter Recording Task'"}]},[a("el-form-item",{staticStyle:{width:"400px","margin-left":"20px"},attrs:{label:"Execution Limit",prop:"execution_limit"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,max:4294967295},model:{value:e.form.execution_limit,callback:function(t){e.$set(e.form,"execution_limit",t)},expression:"form.execution_limit"}},[a("template",{slot:"append"},[e._v("times")])],2)],1),a("el-form-item",{staticStyle:{width:"400px","margin-left":"20px"},attrs:{label:"Task Record Rate",prop:"record_rate"}},[a("el-select",{model:{value:e.form.record_rate,callback:function(t){e.$set(e.form,"record_rate",t)},expression:"form.record_rate"}},e._l(e.optionsRate,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"Snapshot"!==e.form.record_rate,expression:"form.record_rate !== 'Snapshot'"}]},[a("el-form-item",{staticStyle:{width:"400px","margin-left":"20px"},attrs:{label:"Raletive Start",prop:"start_time"}},[a("el-input-number",{attrs:{"controls-position":"right",min:-60,max:60},model:{value:e.form.start_time,callback:function(t){e.$set(e.form,"start_time",t)},expression:"form.start_time"}})],1),a("el-form-item",{staticStyle:{width:"400px","margin-left":"20px"},attrs:{label:"Raletive Stop",prop:"stop_time"}},[a("el-input-number",{attrs:{"controls-position":"right",min:-60,max:60},model:{value:e.form.stop_time,callback:function(t){e.$set(e.form,"stop_time",t)},expression:"form.stop_time"}})],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"HMU Event Task"===e.form.task_type,expression:"form.task_type === 'HMU Event Task'"}]},[a("el-form-item",{staticStyle:{width:"400px","margin-left":"20px"},attrs:{label:"Execution Limit",prop:"execution_limit"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,max:4294967295},model:{value:e.form.execution_limit,callback:function(t){e.$set(e.form,"execution_limit",t)},expression:"form.execution_limit"}},[a("template",{slot:"append"},[e._v("times")])],2)],1),a("el-form-item",{staticStyle:{width:"400px","margin-left":"20px"},attrs:{label:"HMU Event",prop:"hmu_event_type"}},[a("el-select",{model:{value:e.form.hmu_event_type,callback:function(t){e.$set(e.form,"hmu_event_type",t)},expression:"form.hmu_event_type"}},e._l(e.optionsEvent,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"HOSTED_ANALYTIC"!==e.form.hmu_event_type,expression:"form.hmu_event_type !== 'HOSTED_ANALYTIC'"}]},[a("el-form-item",{attrs:{label:"ACARS Report"}},[a("el-autocomplete",{staticStyle:{width:"40vh"},attrs:{"fetch-suggestions":e.fetchAcarsSuggestions,placeholder:"Please select the acars report",clearable:!0},on:{select:e.selectAcarsReport},model:{value:e.searchAcarsReport,callback:function(t){e.searchAcarsReport=t},expression:"searchAcarsReport"}})],1)],1)],1)],1),a("el-col",{attrs:{span:14}},[a("div",{directives:[{name:"show",rawName:"v-show",value:"Parameter Recording Task"===e.form.task_type||"Parameter Association"===e.form.task_type,expression:"form.task_type === 'Parameter Recording Task' || form.task_type === 'Parameter Association'"}]},[a("el-form-item",{attrs:{label:"Ordered Parameter Recording Task List"}},[a("el-autocomplete",{staticStyle:{width:"60vh"},attrs:{"fetch-suggestions":e.fetchParameterSuggestions,placeholder:"Please select the parameter",clearable:!0},on:{select:e.selectParameter},model:{value:e.searchParameterQuery,callback:function(t){e.searchParameterQuery=t},expression:"searchParameterQuery"}})],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.parameterList}},[a("el-table-column",{attrs:{label:"Options",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-error"},on:{click:function(a){return e.removeItem(t.$index)}}}),0!=t.$index?a("el-button",{attrs:{icon:"el-icon-top"},on:{click:function(a){return e.upItem(t.$index)}}}):e._e(),a("el-button",{attrs:{icon:"el-icon-bottom"},on:{click:function(a){return e.downItem(t.$index)}}})]}}])}),a("el-table-column",{attrs:{prop:"name",label:"Name",width:"300"}}),a("el-table-column",{attrs:{prop:"guid",label:"GUID",width:"300"}})],1)],1)])],1)],1)],1),a("el-row",[a("div",{staticStyle:{"margin-left":"2vh"}},[a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:e.submitTaskName}},[e._v("Save")]),a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:e.returnToTasks}},[e._v("Cancel")])],1)])],1)},Br=[],Ur=x["a"]+"api/system/acars/";function zr(e){return Object(y["a"])({url:"/getAcarsInfo/importInfo.php",method:"post",data:e})}function Hr(e){var t=Object.entries(e).filter((function(e){var t=Object(_["a"])(e,2),a=(t[0],t[1]);return null!==a&&""!==a})).map((function(e){var t=Object(_["a"])(e,2),a=t[0],r=t[1];return"".concat(a,"=").concat(encodeURIComponent(r))})).join("&"),a=Ur+(t?"?".concat(t):"");return Object(y["a"])({url:a,method:"get",query:e})}function qr(e){return Object(y["a"])({url:Ur,method:"post",data:e})}function Gr(e){return Object(y["a"])({url:Ur+e.id+"/",method:"put",data:e})}function Wr(e){return Object(y["a"])({url:Ur+e+"/",method:"delete",data:{id:e}})}var Jr={components:{},data:function(){return{form:{acars_report:"",execution_limit:0,fault:null,guid:"",hmu_event_type:null,id:"",modifier_name:null,parameter:"[]",record_rate:null,start_time:0,stop_time:0,task_name:"",task_type:""},optionsTask:[{value:"Parameter Recording Task",label:"Parameter Recording Task"},{value:"HMU Event Task",label:"HMU Event Task"},{value:"Parameter Association",label:"Parameter Association"}],optionsEvent:[{value:"AMIF_OPEN_REPORT",label:"AMIF_OPEN_REPORT"},{value:"AMIF_CLOSE_REPORT",label:"AMIF_CLOSE_REPORT"},{value:"HOSTED_ANALYTIC",label:"HOSTED_ANALYTIC"}],optionsRate:[{value:"1",label:"Snapshot"},{value:"1",label:"1Hz"},{value:"2",label:"2Hz"},{value:"4",label:"4Hz"},{value:"8",label:"8Hz"},{value:"16",label:"16Hz"}],parameterList:[],searchParameterQuery:"",searchAcarsReport:""}},mounted:function(){console.log("this.$route.params",this.$route.params),-1!==this.$route.params.index&&(this.form=this.$route.params.row,this.parameterList=JSON.parse(this.form["parameter"]),console.log("this.parameterList",this.parameterList))},methods:{returnToTasks:function(){this.$router.push({name:"Task"})},submitTaskName:function(){-1===this.$route.params.index?(this.form["parameter"]=JSON.stringify(this.parameterList),ct(this.form).then((function(e){console.log("happen1",e)})).catch((function(e){console.log(e)})),this.$router.push({name:"Task"})):(this.form["parameter"]=JSON.stringify(this.parameterList),ut(this.form).then((function(e){console.log("happen2",e)})).catch((function(e){console.log(e)})),this.$router.push({name:"Task"}))},selectTaskChange:function(){console.log(this.selectTaskName)},fetchAcarsSuggestions:function(e,t){var a=this;return Object(c["a"])(Object(l["a"])().mark((function r(){return Object(l["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e)try{Hr({task_name:a.searchAcarsReport}).then((function(e){var a=e.data.map((function(e){return{value:e.name,name:e.name,guid:e.global_guid}}));t(a)}))}catch(n){console.error("Error fetching task:",n),t([])}else t([]);case 1:case"end":return r.stop()}}),r)})))()},selectAcarsReport:function(e){this.searchAcarsReport=e.value,this.form["acars_report"]=e.guid},fetchParameterSuggestions:function(e,t){var a=this;return Object(c["a"])(Object(l["a"])().mark((function r(){return Object(l["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e)try{K({parameter_name:a.searchParameterQuery}).then((function(e){console.log(e.data);var a=e.data.map((function(e){return{value:e.parameter_name,name:e.parameter_name,guid:e.guid,type:e.task_type}}));t(a)}))}catch(n){console.error("Error fetching task:",n),t([])}else t([]);case 1:case"end":return r.stop()}}),r)})))()},selectParameter:function(e){console.log(e),console.log(this.parameterList);var t=this.parameterList.some((function(t){return t.guid===e.guid}));t?this.$message({message:"The parameterL is already in the list.",type:"warning"}):(this.searchParameterQuery=e.value,this.parameterList.push(e))},removeItem:function(e){this.parameterList.splice(e,1)},downItem:function(e){if(e<this.parameterList.length-1){var t=this.parameterList[e+1];this.$set(this.parameterList,e+1,this.parameterList[e]),this.$set(this.parameterList,e,t)}},upItem:function(e){var t=this.parameterList[e-1];this.$set(this.parameterList,e-1,this.parameterList[e]),this.$set(this.parameterList,e,t)}}},Kr=Jr,Xr=(a("c137"),Object(f["a"])(Kr,Vr,Br,!1,null,"d3c99cae",null)),Qr=Xr.exports,Yr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"collapse-panel-container"},[a("el-row",[a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"info",size:"mini",disabled:e.createDisable},on:{click:e.newACARS}},[e._v(" New ACARS Report ")])],1),a("el-col",{attrs:{push:16,span:1}}),a("el-col",{attrs:{push:16,span:1}}),a("el-col",{attrs:{push:16,span:4}})],1),a("CollapsePanel",{directives:[{name:"show",rawName:"v-show",value:e.newAcarsReport,expression:"newAcarsReport"}],ref:"newAcarsPanel",attrs:{title:"New ACARS Report"}}),e._l(e.panelContent,(function(e,t){return a("CollapsePanel",{key:t,ref:"acarsPanel",refInFor:!0,attrs:{title:e.name}})}))],2)])},Zr=[],en=(a("07ac"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",{staticClass:"list-item"},[a("i",{class:["fas",e.isCollapsed?"el-icon-arrow-right":"el-icon-arrow-down"],staticStyle:{cursor:"pointer",display:"inline-block"},on:{click:function(t){return e.selectAcarsInfo()}}},[e._v(e._s(e.title))])]),e.isCollapsed?e._e():a("div",{staticClass:"collapse-content"},[a("el-row",[a("el-form",{attrs:{model:e.form,"label-width":"180px"}},[a("el-row",[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"Name"}},[a("el-input",{attrs:{placeholder:"Please enter the name"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"Enable Report"}},[a("el-switch",{model:{value:e.form.enable_report,callback:function(t){e.$set(e.form,"enable_report",t)},expression:"form.enable_report"}})],1),a("el-form-item",{attrs:{label:"Prefix"}},[a("el-input",{attrs:{placeholder:"Please enter the prefix"},model:{value:e.form.prefix,callback:function(t){e.$set(e.form,"prefix",t)},expression:"form.prefix"}})],1),a("el-form-item",{attrs:{label:"Report ID"}},[a("el-input",{attrs:{placeholder:"Please enter the report id"},model:{value:e.form.report_id,callback:function(t){e.$set(e.form,"report_id",t)},expression:"form.report_id"}})],1),a("el-form-item",{attrs:{label:"Exceedance Report"}},[a("el-switch",{model:{value:e.form.exceedance_report,callback:function(t){e.$set(e.form,"exceedance_report",t)},expression:"form.exceedance_report"}})],1),e.form.exceedance_report?a("div",[a("el-form-item",{attrs:{label:"Input Parameter Name"}},[a("el-autocomplete",{staticStyle:{width:"40vh"},attrs:{"fetch-suggestions":e.fetchSuggestions,placeholder:"Please enter the exceedance_parameter",clearable:!0},on:{select:e.selectParameter},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}})],1),a("el-form-item",{attrs:{label:"Engine Location"}},[a("el-select",{attrs:{placeholder:"Please select the engine location"},model:{value:e.form.engine_location,callback:function(t){e.$set(e.form,"engine_location",t)},expression:"form.engine_location"}},[a("el-option",{attrs:{label:"Left",value:"Left"}}),a("el-option",{attrs:{label:"Right",value:"Right"}})],1)],1),a("el-form-item",{attrs:{label:"Trigger ID"}},[a("el-input",{attrs:{placeholder:"Please enter the trigger id"},model:{value:e.form.trigger_id,callback:function(t){e.$set(e.form,"trigger_id",t)},expression:"form.trigger_id"}})],1)],1):e._e()],1),a("el-col",{attrs:{span:15}},[a("el-form-item",{attrs:{label:"Header Parameter Recording Task"}},[a("el-autocomplete",{staticStyle:{width:"40vh"},attrs:{"fetch-suggestions":e.fetchHeadTaskSuggestions,placeholder:"Please select the header task",clearable:!0},on:{select:e.selectHeadTask},model:{value:e.searchHeadTaskQuery,callback:function(t){e.searchHeadTaskQuery=t},expression:"searchHeadTaskQuery"}})],1),a("el-form-item",{attrs:{label:"Ordered Parameter Recording Task List"}},[a("el-autocomplete",{staticStyle:{width:"40vh"},attrs:{"fetch-suggestions":e.fetchTaskSuggestions,placeholder:"Please select the task",clearable:!0},on:{select:e.selectTask},model:{value:e.searchTaskQuery,callback:function(t){e.searchTaskQuery=t},expression:"searchTaskQuery"}})],1),a("el-table",{staticStyle:{margin:"6vh",width:"90%","background-color":"#f8f8f8"},attrs:{data:e.taskList}},[a("el-table-column",{attrs:{label:"Options","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.$index;return[a("el-button",{attrs:{type:"danger",icon:"el-icon-error",size:"mini"},on:{click:function(t){return e.removeItem(r)}}}),0!==r?a("el-button",{attrs:{icon:"el-icon-top",size:"mini"},on:{click:function(t){return e.upItem(r)}}}):e._e(),a("el-button",{attrs:{icon:"el-icon-bottom",size:"mini"},on:{click:function(t){return e.downItem(r)}}})]}}],null,!1,44755284)}),a("el-table-column",{attrs:{prop:"name",label:"Task Name","min-width":"200"}}),a("el-table-column",{attrs:{prop:"occurrence",label:"Position","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-select",{attrs:{placeholder:"Select Position"},model:{value:r.occurrence,callback:function(t){e.$set(r,"occurrence",t)},expression:"row.occurrence"}},[a("el-option",{attrs:{label:"First",value:"0"}}),a("el-option",{attrs:{label:"Last",value:"-1"}})],1)]}}],null,!1,923990941)})],1),0===e.taskList.length?a("label",[e._v(e._s(e.labelTaskList))]):e._e()],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.saveACARS}},[e._v("SAVE")]),a("el-button",{on:{click:e.toggleCollapse}},[e._v("CANCEL")]),a("el-button",{attrs:{type:"danger"},on:{click:e.deleteAcarsInfo}},[e._v("DELETE")])],1)],1)],1)],1)])}),tn=[],an={data:function(){return{isCollapsed:!0,labelTaskList:"No ordered parameter recording tasks",taskList:[],form:{enable_report:!1,engine_location:"",exceedance_parameter:"",exceedance_report:!1,global_guid:"",header_task:"",id:"",modifier_name:null,name:"",prefix:"",project:"",record_task:"[]",report_id:"",trigger_id:""},searchQuery:"",searchTaskQuery:"",searchHeadTaskQuery:""}},methods:{selectAcarsInfo:function(){var e=this;if(""==this.name)return this.toggleCollapse(),void this.$v.$reset();this.toggleCollapse();var t={name:this.title,project_id:1,page:1,limit:100};Hr(t).then((function(t){var a=t.data[0];e.form=t.data[0],e.form["enable_report"]=1==e.form["enable_report"],e.form["exceedance_report"]=1==e.form["exceedance_report"],e.form["header_task"]=JSON.parse(e.form["header_task"]),e.taskList=JSON.parse(a["record_task"]),e.searchQuery=e.form["exceedance_parameter"],e.searchHeadTaskQuery=e.form["header_task"].name}))},saveACARS:function(){var e=this;this.$bus.$emit("alreadyCreate",!1),this.form["enable_report"]=this.form["enable_report"]?1:0,this.form["exceedance_report"]=this.form["exceedance_report"]?1:0,this.form["header_task"]=JSON.stringify(this.form["header_task"]),this.form["record_task"]=JSON.stringify(this.taskList),this.form["project"]=1,"New ACARS Report"==this.title?qr(this.form).then((function(t){e.$bus.$emit("refreshAcars",!0)})):Gr(this.form).then((function(t){e.$bus.$emit("refreshAcars",!0)}))},validateForm:function(){var e={},t=this.form,a=t.enable_report,r=t.name,n=t.prefix,i=t.report_id,o=t.engine_location,s=t.exceedance_parameter;return a&&(r||(e.name="Name is required"),n.length<4&&(e.prefix="Prefix must be at least 4 characters"),i||(e.report_id="Report ID is required"),o||(e.engine_location="Engine location is required"),s||(e.exceedance_parameter="Exceedance parameter is required")),e},deleteAcarsInfo:function(){var e=this;"New ACARS Report"==this.title?this.$bus.$emit("refreshAcars",!0):Wr(this.form["id"].toString()).then((function(t){e.$bus.$emit("refreshAcars","refresh")}))},fetchSuggestions:function(e,t){var a=this;return Object(c["a"])(Object(l["a"])().mark((function r(){return Object(l["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e)try{K({parameter_name:a.searchQuery}).then((function(e){var a=e.data.map((function(e){return{value:e.parameter_name,guid:e.global_guid}}));t(a)}))}catch(n){console.error("Error fetching parameters:",n),t([])}else t([]);case 1:case"end":return r.stop()}}),r)})))()},selectParameter:function(e){this.searchQuery=e.value,this.form["exceedance_parameter"]=e.guid,console.log("item",e)},fetchHeadTaskSuggestions:function(e,t){var a=this;return Object(c["a"])(Object(l["a"])().mark((function r(){return Object(l["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e)try{lt({task_name:a.searchHeadTaskQuery}).then((function(e){var a=e.data.map((function(e){return{value:e.task_name,name:e.task_name,guid:e.guid,occurrence:e.task_position}}));t(a)}))}catch(n){console.error("Error fetching head task:",n),t([])}else t([]);case 1:case"end":return r.stop()}}),r)})))()},selectHeadTask:function(e){this.searchHeadTaskQuery=e.value,this.form["header_task"]=e},fetchTaskSuggestions:function(e,t){var a=this;return Object(c["a"])(Object(l["a"])().mark((function r(){return Object(l["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e)try{lt({task_name:a.searchTaskQuery}).then((function(e){var a=e.data.map((function(e){return{value:e.task_name,name:e.task_name,guid:e.guid,occurrence:e.task_position}}));t(a)}))}catch(n){console.error("Error fetching task:",n),t([])}else t([]);case 1:case"end":return r.stop()}}),r)})))()},selectTask:function(e){var t=this.taskList.some((function(t){return t.guid===e.guid}));t?this.$message({message:"This task has already been selected, please do not add it again.",type:"warning"}):(this.searchTaskQuery=e.value,this.taskList.push(e))},removeItem:function(e){this.taskList.splice(e,1)},downItem:function(e){if(e<this.taskList.length-1){var t=this.taskList[e+1];this.$set(this.taskList,e+1,this.taskList[e]),this.$set(this.taskList,e,t)}},upItem:function(e){var t=this.taskList[e-1];this.$set(this.taskList,e-1,this.taskList[e]),this.$set(this.taskList,e,t)},filterOptionsTaskL:function(){var e=this;this.filteredOptionsTaskL=this.optionsTaskL.filter((function(t){return t.toLowerCase().includes(e.headerTaskL.toLowerCase())}))},filterOptionsTask:function(){var e=this;this.filteredOptionsTask=this.optionsTask.filter((function(t){return t.toLowerCase().includes(e.headerTask.toLowerCase())}))},toggleCollapse:function(){this.isCollapsed=!this.isCollapsed}},validations:{name:{required:$a["required"],minLength:Object($a["minLength"])(4)},prefix:{required:$a["required"],minLength:Object($a["minLength"])(4)},reportID:{required:$a["required"]},engineLocation:{required:$a["required"]},excParameter:{required:$a["required"]},triggerID:{required:$a["required"]},validationGroupExecOff:["name","prefix","reportID"]},props:{title:{type:String,required:!0}}},rn=an,nn=(a("8770"),Object(f["a"])(rn,en,tn,!1,null,"1a42794a",null)),on=nn.exports,sn=a("4328"),ln=a.n(sn),cn={components:{CollapsePanel:on},data:function(){return{searchQuery:"",panelContent:[],newAcarsReport:!1,createDisable:!1}},mounted:function(){var e=this;this.$bus.$on("alreadyCreate",(function(t){e.createDisable=t})),this.$bus.$on("refreshAcars",(function(t){e.newAcarsReport=!1,e.createDisable=!1,e.getACARSName()})),this.getACARSName()},methods:{handleUpload:function(){this.$refs["upLoadXmlInput"].click()},handleClick:function(e){var t=e.target.files,a=t[0];a&&this.upload(a)},upload:function(e){var t=this;this.$refs["upLoadXmlInput"].value=null;var a=new FileReader,r={};a.readAsArrayBuffer(e),a.onload=function(e){var a=e.target.result,n=new TextDecoder,i=n.decode(a),o=new Ct.a;r=o.xml2js(i),r=t.organizeData(r);var s=ln.a.stringify({data:r});zr(s).then((function(e){}))}},organizeData:function(e){for(var t=[],a=0;a<e["ACARSReports"]["ACARSReport"].length;a++){t[a]={},t[a]["name"]=e["ACARSReports"]["ACARSReport"][a]["_name"],t[a]["enableReport"]=e["ACARSReports"]["ACARSReport"][a]["_enableReport"],t[a]["prefix"]=e["ACARSReports"]["ACARSReport"][a]["_prefix"],t[a]["reportID"]=e["ACARSReports"]["ACARSReport"][a]["_reportID"],t[a]["headerTask"]=e["ACARSReports"]["ACARSReport"][a]["headerTask"];var r=[];if("object"==Object(tt["a"])(e["ACARSReports"]["ACARSReport"][a]["orderedTasks"]["orderedTask"])){var n={name:e["ACARSReports"]["ACARSReport"][a]["orderedTasks"]["orderedTask"]["_Name"],occurrence:e["ACARSReports"]["ACARSReport"][a]["orderedTasks"]["orderedTask"]["_occurrence"]};r.push(n)}else{var i,o=Object(V["a"])(e["ACARSReports"]["ACARSReport"][a]["orderedTasks"]["orderedTask"]);try{for(o.s();!(i=o.n()).done;){var s=i.value,l={name:s["_Name"],occurrence:s["_occurrence"]};r.push(l)}}catch(c){o.e(c)}finally{o.f()}}t[a]["recordTask"]=ln.a.stringify(r),Object.keys(e["ACARSReports"]["ACARSReport"][a]).includes("exceedanceReportInfo")?(t[a]["exceedanceReport"]="true",t[a]["exceedanceParameter"]=e["ACARSReports"]["ACARSReport"][a]["exceedanceReportInfo"]["_exceedanceParameter"],t[a]["engineLocation"]=e["ACARSReports"]["ACARSReport"][a]["exceedanceReportInfo"]["_engineLocation"],t[a]["triggerID"]=e["ACARSReports"]["ACARSReport"][a]["exceedanceReportInfo"]["_triggerID"]):(t[a]["exceedanceReport"]="",t[a]["exceedanceParameter"]="",t[a]["engineLocation"]="",t[a]["triggerID"]="")}return t},exportACARSXml:function(){Hr({page:1,limit:100}).then((function(e){var t,a=Dt.a.create("ACARSReports"),r=Object(V["a"])(e.data);try{for(r.s();!(t=r.n()).done;){for(var n=t.value,i={},o=a.ele("ACARSReport"),s=0,l=Object.keys(n);s<l.length;s++){var c=l[s];if("headerTask"==c){var u=o.ele("headerTask");u.txt(n[c])}else if("recordTask"==c)for(var d=o.ele("orderedTasks"),p=ln.a.parse(n[c]),m=0,f=Object.values(p);m<f.length;m++){var h=f[m],v=d.ele("orderedTask");v.att("Name",h["name"]),v.att("occurrence",h["type"])}else"name"==c||"enableReport"==c||"prefix"==c||"reportID"==c?o.att(c,n[c]):"exceedanceParameter"!=c&&"engineLocation"!=c&&"triggerID"!=c||(i["@"+c]=n[c])}if("true"==n["exceedanceReport"]){var g={exceedanceReportInfo:i};o.ele(g)}}}catch(_){r.e(_)}finally{r.f()}var b=a.end({pretty:!0});Et(b)}))},newACARS:function(){this.newAcarsReport=!0,this.createDisable=!0,this.$refs["newAcarsPanel"].name="",this.$refs["newAcarsPanel"].originName="",this.$refs["newAcarsPanel"].ableReport="",this.$refs["newAcarsPanel"].prefix="",this.$refs["newAcarsPanel"].reportID="",this.$refs["newAcarsPanel"].excReport="",this.$refs["newAcarsPanel"].excParameter="",this.$refs["newAcarsPanel"].engineLocation="",this.$refs["newAcarsPanel"].triggerID=0,this.$refs["newAcarsPanel"].headerTask="",this.$refs["newAcarsPanel"].taskList=[],this.$refs["newAcarsPanel"].isCollapsed=!0,this.$refs["newAcarsPanel"].selectAcarsInfo()},deleteACARS:function(){this.panelContent.pop()},getACARSName:function(){var e=this;this.panelContent=[];var t={project_id:1,page:1,limit:100};Hr(t).then((function(t){for(var a=t.data,r=function(t){e.panelContent.push(a[t]),e.$nextTick((function(){e.$refs["acarsPanel"][t].name=a[t]}))},n=0;n<a.length;n++)r(n)}))}}},un=cn,dn=(a("8d09"),Object(f["a"])(un,Yr,Zr,!1,null,null,null)),pn=dn.exports,mn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"collapse-panel-container"},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-popover",{attrs:{placement:"right-end",width:"600",trigger:"click"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"max-height":"250"}},[a("el-table-column",{attrs:{fixed:"",prop:"type",label:"Type Name",width:"250"}}),a("el-table-column",{attrs:{fixed:"right",label:"Options",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.openDialog(e.tableData[t.$index])}}},[e._v(" edit ")]),a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteFormatInfo(e.tableData[t.$index])}}},[e._v(" delete ")])]}}])})],1),a("el-row",[a("el-col",{attrs:{span:16}},[a("div",{staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"text item"},[e._v(" "+e._s("B: Binary Digit (0,1), up to 10 digits to denote a numeric value")+" ")]),a("div",{staticClass:"text item"},[e._v(" "+e._s("H: Hex Digit (0-F), up to 8 hex digits to denote a numeric value")+" ")]),a("div",{staticClass:"text item"},[e._v(" "+e._s("SN.M: Optional Sign Bit, 1-10 Numeric Digits (0-9), optional decimal point with one or more Numeric Digits (0-9) to the right of the decimal point to denote a signed or unsigned numeric value")+" ")]),a("div",{staticClass:"text item"},[e._v(" "+e._s("A: One or more Alpha Numeric Character (0-9, az, A-Z) ")+" ")])])]),a("el-col",{attrs:{span:8,push:3}},[a("el-button",{staticStyle:{"margin-top":"10vh"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("Add")])],1)],1),a("el-button",{attrs:{slot:"reference",type:"info",size:"mini"},on:{click:function(t){return e.getFormatType()}},slot:"reference"},[e._v(" Format Management ")])],1)],1),a("el-col",{attrs:{span:4}},[a("el-select",{staticStyle:{"margin-left":"20px"},attrs:{multiple:"","collapse-tags":"",placeholder:"Format Type"},on:{change:function(t){return e.filterTable()}},model:{value:e.typeSelect,callback:function(t){e.typeSelect=t},expression:"typeSelect"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{placeholder:"Filter by Name"},on:{input:function(t){return e.searchByParam()}},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1),a("el-col",{attrs:{push:10,span:1}},[a("el-button",{attrs:{loading:e.upLoading,type:"info",icon:"el-icon-upload2",circle:""},on:{click:e.upLoadClick}}),a("input",{ref:"upLoadXmlInput",staticStyle:{display:"none"},attrs:{type:"file",accept:".xml"},on:{change:e.upLoadXml}})],1),a("el-col",{attrs:{push:10,span:1}},[a("el-button",{attrs:{loading:e.downLoading,type:"info",icon:"el-icon-download",circle:""},on:{click:function(t){return e.downLoadXml()}}})],1)],1),a("el-row",[a("Table",{ref:"childTable",attrs:{"type-options":e.options}})],1)],1),a("el-dialog",{attrs:{width:"500px",title:"Format Editor",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"new format"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addFormatType()}}},[e._v("comfirm")])],1)],1),a("el-dialog",{attrs:{width:"500px",title:"Format Editor",visible:e.dialog1FormVisible},on:{"update:visible":function(t){e.dialog1FormVisible=t}}},[a("el-form",{attrs:{model:e.form1}},[a("el-form-item",{attrs:{label:"new format"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form1.name,callback:function(t){e.$set(e.form1,"name",t)},expression:"form1.name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialog1FormVisible=!1}}},[e._v("cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updateFormatInfo()}}},[e._v("comfirm")])],1)],1)],1)},fn=[],hn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{height:"calc(100vh - 180px)",data:e.tableData,"row-key":e.getRowKey},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"80"}}),a("el-table-column",{attrs:{prop:"name",label:"Name"}}),a("el-table-column",{attrs:{prop:"format",label:"Format"}}),a("el-table-column",{attrs:{prop:"options",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.dialogFormVisible=!0,e.form.type="",e.rowDataSelect=t.row}}},[e._v("Edit")])]}}])})],1),a("div",{staticStyle:{"padding-top":"15px"}},[a("el-row",[a("el-col",{attrs:{span:22}},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper",total:e.total,"page-size":e.pageSize,"page-sizes":[20,50,100,200],"current-page":e.currentPage},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-col",{attrs:{span:1}},[a("el-button",{on:{click:function(t){e.dialogForm1Visible=!0,e.form1.type=""}}},[e._v("BatchEdit")])],1)],1)],1),a("el-dialog",{attrs:{width:"500px",title:"Format Editor",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"New Type"}},[a("el-select",{attrs:{placeholder:"Select a new type"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updateParameterType()}}},[e._v("comfirm")])],1)],1),a("el-dialog",{attrs:{width:"500px",title:"Format Editor",visible:e.dialogForm1Visible},on:{"update:visible":function(t){e.dialogForm1Visible=t}}},[a("el-form",{attrs:{model:e.form1}},[a("el-form-item",{attrs:{label:"New Type"}},[a("el-select",{attrs:{placeholder:"Select a new type"},model:{value:e.form1.type,callback:function(t){e.$set(e.form1,"type",t)},expression:"form1.type"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogForm1Visible=!1}}},[e._v("cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updateBatchSelection()}}},[e._v("comfirm")])],1)],1)],1)},vn=[];a("0481"),a("4069");function gn(){return Jt({url:"/getFormat/getInfo.php",method:"get"})}function bn(e){return Jt({url:"/getFormat/insertInfo.php",method:"post",data:e})}function _n(e){return Jt({url:"/getFormat/deleteInfo.php",method:"post",data:e})}function yn(e){return Jt({url:"/getFormat/updateInfo.php",method:"post",data:e})}function xn(e){return Jt({url:"/getFormat/getParameterInfo.php",method:"post",data:e})}function wn(e){return Jt({url:"/getFormat/updateParameterInfo.php",method:"post",data:e})}function Sn(e){return Jt({url:"/getFormat/updateMultiParameterInfo.php",method:"post",data:e})}function kn(){return Jt({url:"/getFormat/getFormatXML.php",method:"get"})}function On(e){return Jt({url:"/getFormat/postFormatXML.php",method:"post",data:e})}var Cn={props:{typeOptions:{type:Array,required:!0}},data:function(){return{tableData:[],total:0,pageSize:20,currentPage:1,currentType:"",paramSearch:"",rowDataSelect:{},dialogFormVisible:!1,dialogForm1Visible:!1,form:{type:""},form1:{type:""},selectedRows:{}}},created:function(){this.fetchDataByType()},methods:{fetchDataByPage:function(){var e=this,t=new FormData;t.append("type",this.currentType),t.append("page",this.currentPage),t.append("pageSize",this.pageSize),t.append("param",this.paramSearch),xn(t).then((function(t){e.tableData=t.data.data,e.total=Number(t.data.total),e.updateSelection()}))},fetchDataByType:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.currentType=t,this.paramSearch=r;var n=new FormData;n.append("type",t),n.append("page",a),n.append("pageSize",this.pageSize),n.append("param",r),xn(n).then((function(t){e.tableData=t.data.data,e.total=Number(t.data.total),e.updateSelection()}))},handleSizeChange:function(e){this.pageSize=e,this.fetchDataByPage()},handleCurrentChange:function(e){this.currentPage=e,this.fetchDataByPage()},updateParameterType:function(){var e=this,t=new FormData;t.append("guid",this.rowDataSelect["guid"]),t.append("newType",this.form.type),wn(t).then((function(t){"success"==t.data?(e.$message({type:"success",message:"success"}),e.fetchDataByPage(),e.dialogFormVisible=!1):e.$message({type:"danger",message:"cancel"})}))},handleSelectionChange:function(e){this.$set(this.selectedRows,this.currentPage,e)},getRowKey:function(e){return e.id},updateSelection:function(){var e=this,t=this.selectedRows[this.currentPage]||[];this.$nextTick((function(){t.forEach((function(t){e.$refs.multipleTable.toggleRowSelection(e.tableData.find((function(e){return t.guid==e.guid})),!0)}))}))},updateBatchSelection:function(){var e=this,t=Object.values(this.selectedRows).flat();if(0!==t.length){var a={data:t,newType:this.form1.type};Sn(a).then((function(t){(t.data="success")&&(e.$message({type:"success",message:"success"}),e.selectedRows={},e.fetchDataByPage(),e.dialogForm1Visible=!1)}))}else this.$message.warning("please select at least one row!")}}},Tn=Cn,En=Object(f["a"])(Tn,hn,vn,!1,null,null,null),jn=En.exports,Rn={components:{Table:jn},data:function(){return{typeSelect:[],tableData:[],downLoading:!1,upLoading:!1,dialogFormVisible:!1,form:{name:""},dialog1FormVisible:!1,form1:{name:""},waitForEdit:"",options:[],input:"",typeInfo:[],parameterInfo:[]}},mounted:function(){this.getFormatType()},methods:{searchByParam:function(){this.$refs.childTable.fetchDataByType(this.typeSelect,1,this.input)},getFormatType:function(){var e=this;gn().then((function(t){"No data found"==t.data["message"]?(e.typeInfo=[],e.options=[]):e.typeInfo=t.data,e.options=[];var a,r=Object(V["a"])(e.typeInfo);try{for(r.s();!(a=r.n()).done;){var n=a.value,i={};i["label"]=n["type"],i["value"]=n["type"],e.options.push(i)}}catch(o){r.e(o)}finally{r.f()}e.options.push({label:"No Format",value:""}),e.tableData=e.typeInfo}))},addFormatType:function(){var e=this;if(""!=this.form.name){var t,a=Object(V["a"])(this.typeInfo);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(r["type"]==this.form.name)return void this.$message.error("format already exit!")}}catch(i){a.e(i)}finally{a.f()}var n={};n["type"]=this.form.name,bn(ln.a.stringify({type:this.form.name})).then((function(t){"success"==t.data?(e.getFormatType(),e.dialogFormVisible=!1):e.$message.error("something went wrong!")}))}else this.$message.error("Cannot enter empty!")},deleteFormatInfo:function(e){var t=this;this.$confirm("This operation will permanently delete the file. Do you want to continue?","Warning",{confirmButtonText:"confirm",cancelButtonText:"cancel",type:"warning"}).then((function(){_n(ln.a.stringify(e)).then((function(e){"Operation completed successfully"==e.data["message"]?(t.getFormatType(),t.dialogFormVisible=!1,t.$refs.childTable.fetchDataByPage()):t.$message.error("something went wrong!")})),t.$message({type:"success",message:"success"})})).catch((function(){t.$message({type:"info",message:"cancel"})}))},openDialog:function(e){this.dialog1FormVisible=!0,this.waitForEdit=e},updateFormatInfo:function(){var e=this;if(""!=this.form1.name){var t,a=Object(V["a"])(this.typeInfo);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(r["type"]==this.form1.name)return void this.$message.error("format already exit!")}}catch(i){a.e(i)}finally{a.f()}var n=new FormData;n.append("typeBefore",String(this.waitForEdit["type"])),n.append("typeAfter",String(this.form1.name)),yn(n).then((function(t){"success"==t.data["message"]?(e.getFormatType(),e.dialog1FormVisible=!1,e.$refs.childTable.fetchDataByPage()):e.$message.error("something went wrong!")}))}else this.$message.error("Cannot enter empty!")},filterTable:function(){this.$refs.childTable.fetchDataByType(this.typeSelect,1,this.input)},upLoadClick:function(){this.$refs["upLoadXmlInput"].click()},upLoadXml:function(e){var t=this,a=e.target.files,r=a[0];if(r){this.$refs["upLoadXmlInput"].value=null;var n=new FileReader,i={};n.readAsArrayBuffer(r),n.onload=function(e){t.upLoading=!0;var a=e.target.result,r=new TextDecoder,n=r.decode(a),o=new Ct.a;i=o.xml2js(n),t.postXMLData(i)}}},postXMLData:function(e){var t=this;return Object(c["a"])(Object(l["a"])().mark((function a(){var r;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,On(JSON.stringify({items:e["ACARS_Report_Format"]["parameters"]["parameter"]}));case 2:r=a.sent,"success"==r.data["status"]?(t.getFormatType(),t.$refs.childTable.fetchDataByPage(),t.upLoading=!1,t.$message.success("success!!!")):(t.$message.error("something went wrong!!!"),t.upLoading=!1);case 4:case"end":return a.stop()}}),a)})))()},checkXMLFormat:function(e){var t=["_ExternalID","_ID","_Name"];if(Object.keys(e).includes("ACARS_Report_Format")&&Object.keys(e["ACARS_Report_Format"]).includes("parameters")&&Object.keys(e["ACARS_Report_Format"]).includes("report_format_encodings")&&Object.keys(e["ACARS_Report_Format"]["parameters"]).includes("parameter")){var a=e["ACARS_Report_Format"]["parameters"]["parameter"].filter((function(e){return!t.every((function(t){return t in e}))}));if(0==a.length)return!0}return!1},downLoadXml:function(){var e=this;return Object(c["a"])(Object(l["a"])().mark((function t(){var a,r,n,i,o,s,c,u,d,p,m,f,h;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchXMLData();case 2:a=t.sent,r=Dt.a.create("ACARS_Report_Format"),n=r.ele("parameters"),i=Object(V["a"])(a["data"]);try{for(i.s();!(o=i.n()).done;)s=o.value,c=n.ele("parameter"),c.att("Name",s["name"]),c.att("ID","18"),c.att("ExternalID",s["guid"]),s["format"]&&c.att("encode_format",s["format"])}catch(l){i.e(l)}finally{i.f()}u=r.ele("report_format_encodings"),console.log(a["type"]),d=Object(V["a"])(a["type"]);try{for(d.s();!(p=d.n()).done;)m=p.value,f=u.ele("report_format_encoding"),f.txt(m["type"])}catch(l){d.e(l)}finally{d.f()}h=r.end({pretty:!0}),Et(h),e.downLoading=!1;case 14:case"end":return t.stop()}}),t)})))()},fetchXMLData:function(){var e=this;return Object(c["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.downLoading=!0,t.next=3,kn();case 3:if(a=t.sent,"success"==a.data["status"]){t.next=10;break}return e.$message.error("something went wrong!!!"),e.downLoading=!1,t.abrupt("return");case 10:return t.abrupt("return",a.data);case 11:case"end":return t.stop()}}),t)})))()}}},Pn=Rn,Dn=(a("ca56"),Object(f["a"])(Pn,mn,fn,!1,null,null,null)),$n=Dn.exports,Fn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddRole}},[e._v("New Role")])],1),a("el-row",[a("el-table",{staticStyle:{width:"100%","margin-top":"30px","max-height":"300px","overflow-y":"auto"},attrs:{data:e.rolesList,border:""}},[a("el-table-column",{attrs:{align:"center",label:"Id",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.id)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"Role Name",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.name)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"Role Key",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.key)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"Status",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.status)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"Update Time",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.update_datetime)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"Modifier Name",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.modifier_name)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",fixed:"right",width:"320",label:"Operations"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleEdit(t)}}},[e._v("Edit")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handlePremissionEdit(t)}}},[e._v("Config")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.handleDelete(t)}}},[e._v("Delete")])]}}])})],1)],1),a("el-row",[a("el-pagination",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper",total:e.total,"page-size":e.pageSize,"page-sizes":[20,50,100,200],"current-page":e.currentPage},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-dialog",{attrs:{visible:e.dialogVisible,title:"edit"===e.dialogType?"Edit Role":"New Role"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.role,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"Name"}},[a("el-input",{attrs:{placeholder:"Role Name"},model:{value:e.role.name,callback:function(t){e.$set(e.role,"name",t)},expression:"role.name"}})],1),a("el-form-item",{attrs:{label:"Key"}},[a("el-input",{attrs:{placeholder:"Role Key"},model:{value:e.role.key,callback:function(t){e.$set(e.role,"key",t)},expression:"role.key"}})],1)],1),a("div",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmRole}},[e._v("Confirm")])],1)],1),a("el-dialog",{attrs:{visible:e.dialogPremissionVisible,title:"Configure Role Permissions"},on:{"update:visible":function(t){e.dialogPremissionVisible=t}}},[a("el-form",{attrs:{model:e.role,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"Key"}},[a("el-input",{attrs:{placeholder:"Role Key"},model:{value:e.role.key,callback:function(t){e.$set(e.role,"key",t)},expression:"role.key"}})],1),a("el-form-item",{attrs:{label:"Menus"}},[a("el-tree",{ref:"tree",staticClass:"permission-tree",attrs:{"show-checkbox":"",data:e.routesData,"node-key":"id",props:e.defaultProps}})],1)],1),a("div",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.dialogPremissionVisible=!1}}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmPremissionRole}},[e._v("Confirm")])],1)],1)],1)},An=[],In=a("df7c"),Nn=a.n(In),Ln=a("ed08"),Mn=x["a"]+"api/system/role/";function Vn(e){return Object(y["a"])({url:Mn+"?page=".concat(e.page,"&limit=").concat(e.limit),method:"get",query:e})}function Bn(e){return Object(y["a"])({url:Mn,method:"post",data:e})}function Un(e){return Object(y["a"])({url:Mn+e.id+"/",method:"put",data:e})}function zn(e){return Object(y["a"])({url:Mn+e+"/",method:"delete",data:{id:e}})}function Hn(e){return Object(y["a"])({url:x["a"]+"api/system/role_menu_button_permission/get_role_premission/?role=".concat(e.role),method:"get",query:e})}function qn(e,t){return Object(y["a"])({url:x["a"]+"api/system/role_menu_button_permission/".concat(e,"/set_role_premission/"),method:"put",data:t})}var Gn,Wn,Jn={key:"",name:"",description:""},Kn={data:function(){return{role:Object.assign({},Jn),routes:[],rawroutes:[],rolesList:[],checkList:[],dialogVisible:!1,dialogPremissionVisible:!1,dialogType:"new",checkStrictly:!1,defaultProps:{children:"children",label:"label"},total:0,pageSize:20,currentPage:1}},computed:{routesData:function(){return this.routes}},created:function(){this.getRoles({page:1,limit:20})},methods:{fetchDataByPage:function(){this.getRoles({page:this.currentPage,limit:this.pageSize})},handleSizeChange:function(e){this.pageSize=e,this.fetchDataByPage()},handleCurrentChange:function(e){this.currentPage=e,this.fetchDataByPage()},getRoles:function(e){var t=this;return Object(c["a"])(Object(l["a"])().mark((function a(){var r;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Vn(e);case 2:r=a.sent,t.rolesList=r.data,t.total=r.total;case 5:case"end":return a.stop()}}),a)})))()},generateRoutes:function(e){var t=this,a=[];return e.forEach((function(e){var r={id:e.id,label:e.name,isCheck:e.isCheck};e.isCheck&&t.checkList.push(e.id),e.menus&&e.menus.length>0&&(r.children=t.generateRoutes(e.menus)),a.push(r)})),a},generateShuRoutes:function(e,t){var a=this,r=[];return e.forEach((function(e){var n={id:e.id,name:e.name,label:e.label,isCheck:t.includes(e.id)};"menus"in e?n.menus=a.generateShuRoutes(e.menus,t):(n.btns=e.btns,n.columns=e.columns),r.push(n)})),r},handleAddRole:function(){this.role=Object.assign({},Jn),this.dialogType="new",this.dialogVisible=!0},handleEdit:function(e){this.dialogType="edit",this.dialogVisible=!0,this.checkStrictly=!0,this.role=Object(Ln["b"])(e.row)},handlePremissionEdit:function(e){var t=this;return Object(c["a"])(Object(l["a"])().mark((function a(){var r;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.role=Object(Ln["b"])(e.row),t.checkList=[],a.next=4,Hn({role:t.role.id});case 4:r=a.sent,t.rawroutes=r.data,t.routes=t.generateRoutes(t.rawroutes),t.dialogPremissionVisible=!0,t.setKeys(t.checkList);case 9:case"end":return a.stop()}}),a)})))()},setKeys:function(e){var t=this;this.$nextTick((function(){t.$refs.tree&&t.$refs.tree.setCheckedKeys(e)}))},handleDelete:function(e){var t=this,a=e.$index,r=e.row;this.$confirm("Confirm to remove the role?","Warning",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then(Object(c["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,zn(r.id);case 2:t.rolesList.splice(a,1),t.$message({type:"success",message:"Delete succed!"});case 4:case"end":return e.stop()}}),e)})))).catch((function(e){console.error(e)}))},confirmRole:function(){var e=this;return Object(c["a"])(Object(l["a"])().mark((function t(){var a,r,n,i,o,s,c;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a="edit"===e.dialogType,!a){t.next=14;break}return t.next=4,Un(e.role);case 4:r=0;case 5:if(!(r<e.rolesList.length)){t.next=12;break}if(e.rolesList[r].key!==e.role.key){t.next=9;break}return e.rolesList.splice(r,1,Object.assign({},e.role)),t.abrupt("break",12);case 9:r++,t.next=5;break;case 12:t.next=20;break;case 14:return t.next=16,Bn(e.role);case 16:n=t.sent,i=n.data,e.role.key=i.key,e.rolesList.push(e.role);case 20:e.getRoles({page:e.currentPage,limit:e.pageSize}),o=e.role,s=o.key,c=o.name,e.dialogVisible=!1,e.$notify({title:"Success",dangerouslyUseHTMLString:!0,message:"\n            <div>Role Key: ".concat(s,"</div>\n            <div>Role Name: ").concat(c,"</div>\n          "),type:"success"});case 24:case"end":return t.stop()}}),t)})))()},confirmPremissionRole:function(){var e=this;return Object(c["a"])(Object(l["a"])().mark((function t(){var a,r;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$refs.tree.getCheckedKeys(),r=e.generateShuRoutes(e.rawroutes,a),t.next=4,qn(e.role.id,r);case 4:e.dialogPremissionVisible=!1;case 5:case"end":return t.stop()}}),t)})))()},onlyOneShowingChild:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=null,r=e.filter((function(e){return!e.hidden}));return 1===r.length?(a=r[0],a.path=Nn.a.resolve(t.path,a.path),a):0===r.length&&(a=Object(ta["a"])(Object(ta["a"])({},t),{},{path:"",noShowingChildren:!0}),a)}}},Xn=Kn,Qn=(a("5ae7"),Object(f["a"])(Xn,Fn,An,!1,null,"3defb2b2",null)),Yn=Qn.exports,Zn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddUser}},[e._v("New User")])],1),a("el-row",[a("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.usersList,"default-sort":{prop:"id",order:"descending"},border:""}},[a("el-table-column",{attrs:{align:"center",label:"Id",sortable:"",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.id)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"User Name",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.username)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"Name",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.name)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"Role",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.role_info,(function(t){return a("el-tag",{key:t.id,attrs:{type:"Manager"===t.name?"success":""}},[e._v(" "+e._s(t.name)+" ")])}))}}])}),a("el-table-column",{attrs:{align:"center",label:"Gender",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.genderText(t.row))+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"Email",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.email)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"mobile",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.mobile)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",fixed:"right",width:"220",label:"Operations"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleEdit(t)}}},[e._v("Edit")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.handleDelete(t)}}},[e._v("Delete")])]}}])})],1)],1),a("el-row",[a("el-pagination",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper",total:e.total,"page-size":e.pageSize,"page-sizes":[20,50,100,200],"current-page":e.currentPage},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-dialog",{attrs:{visible:e.dialogVisible,title:"edit"===e.dialogType?"Edit User":"New User"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"dataForm",attrs:{model:e.user,rules:e.formRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"Account",prop:"username"}},[a("el-input",{attrs:{placeholder:"Please enter username"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),"edit"===e.dialogType?a("el-form-item",{attrs:{label:"Password",prop:"password"}},[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.resetToDefaultPassword(e.user.id)}}},[e._v("Reset Password")])],1):a("el-form-item",{attrs:{label:"Password",prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:"Please enter your password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),a("el-form-item",{attrs:{label:"Name",prop:"name"}},[a("el-input",{attrs:{placeholder:"Please enter your name"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),a("el-form-item",{attrs:{label:"Role",prop:"role"}},[a("el-select",{attrs:{multiple:!0,placeholder:"Please select your role"},model:{value:e.user.role,callback:function(t){e.$set(e.user,"role",t)},expression:"user.role"}},e._l(e.roleOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"Gender",prop:"gender"}},[a("el-select",{attrs:{placeholder:"Please select your gender"},model:{value:e.user.gender,callback:function(t){e.$set(e.user,"gender",t)},expression:"user.gender"}},e._l(e.genderOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"Mobile",prop:"mobile"}},[a("el-input",{attrs:{placeholder:"Please enter your mobile number"},model:{value:e.user.mobile,callback:function(t){e.$set(e.user,"mobile",t)},expression:"user.mobile"}})],1),a("el-form-item",{attrs:{label:"Email",prop:"email"}},[a("el-input",{attrs:{placeholder:"Please enter your email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1)],1),a("div",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmUser}},[e._v("Confirm")])],1)],1)],1)},ei=[],ti=a("c24f"),ai={key:"",name:"",description:"",email:"",gender:"",mobile:null,role:[],role_info:[],user_permissions:[],username:"",password:"",confirmPassword:""},ri={data:function(){return{user:Object.assign({},ai),routes:[],usersList:[],roleOptions:[],genderOptions:[{id:1,name:"Male"},{id:0,name:"Famale"},{id:null,name:"Unkrown"}],dialogVisible:!1,dialogType:"new",defaultProps:{children:"children",label:"title"},formRules:{username:[{required:!0,message:"Please enter account name",trigger:"blur"}],name:[{required:!0,message:"Please enter name",trigger:"blur"}],role:[{required:!0,message:"Please select a role at least",trigger:"blur"}],password:[{required:!0,message:"Please enter the password",trigger:"blur"}]},total:0,pageSize:20,currentPage:1}},computed:{routesData:function(){return this.routes},genderText:function(){return function(e){return 1===e.gender?"Male":0===e.gender?"Female":"Unknown"}}},created:function(){this.getUsers({page:1,limit:20}),this.getRoles({page:1,limit:20})},methods:{fetchDataByPage:function(){this.getUsers({page:this.currentPage,limit:this.pageSize})},handleSizeChange:function(e){this.pageSize=e,this.fetchDataByPage()},handleCurrentChange:function(e){this.currentPage=e,this.fetchDataByPage()},getUsers:function(e){var t=this;return Object(c["a"])(Object(l["a"])().mark((function a(){var r;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(ti["d"])(e);case 2:r=a.sent,t.usersList=r.data,t.total=r.total,console.log("this.usersList:",t.usersList);case 6:case"end":return a.stop()}}),a)})))()},getRoles:function(e){var t=this;return Object(c["a"])(Object(l["a"])().mark((function a(){var r;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Vn(e);case 2:r=a.sent,t.roleOptions=r.data,console.log("this.roleOptions:",t.roleOptions);case 5:case"end":return a.stop()}}),a)})))()},handleAddUser:function(){this.user=Object.assign({},ai),this.$refs.tree&&this.$refs.tree.setCheckedNodes([]),this.dialogType="new",this.dialogVisible=!0},handleEdit:function(e){this.dialogType="edit",this.dialogVisible=!0,this.user=Object(Ln["b"])(e.row)},handleDelete:function(e){var t=this,a=e.$index,r=e.row;this.$confirm("Confirm to remove the user?","Warning",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then(Object(c["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(ti["c"])(r.id);case 2:t.usersList.splice(a,1),t.$message({type:"success",message:"Delete succed!"});case 4:case"end":return e.stop()}}),e)})))).catch((function(e){console.error(e)}))},resetToDefaultPassword:function(e){Object(ti["g"])(e),this.$message({type:"success",message:"Reset succed!"})},generateTree:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",r=arguments.length>2?arguments[2]:void 0,n=[],i=Object(V["a"])(e);try{for(i.s();!(t=i.n()).done;){var o=t.value,s=Nn.a.resolve(a,o.path);o.children&&(o.children=this.generateTree(o.children,s,r)),(r.includes(s)||o.children&&o.children.length>=1)&&n.push(o)}}catch(l){i.e(l)}finally{i.f()}return n},confirmUser:function(){var e=this;return Object(c["a"])(Object(l["a"])().mark((function t(){var a,r,n,i,o,s,c;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a="edit"===e.dialogType,!a){t.next=14;break}return t.next=4,Object(ti["i"])(e.user);case 4:r=0;case 5:if(!(r<e.usersList.length)){t.next=12;break}if(e.usersList[r].username!==e.user.username){t.next=9;break}return e.usersList.splice(r,1,Object.assign({},e.user)),t.abrupt("break",12);case 9:r++,t.next=5;break;case 12:t.next=20;break;case 14:return t.next=16,Object(ti["b"])(e.user);case 16:n=t.sent,i=n.data,e.user.username=i.username,e.usersList.push(e.user);case 20:o=e.user,s=o.username,c=o.name,e.dialogVisible=!1,e.fetchDataByPage(),e.$notify({title:"Success",dangerouslyUseHTMLString:!0,message:"\n            <div>User Key: ".concat(s,"</div>\n            <div>User Name: ").concat(c,"</div>\n          "),type:"success"});case 24:case"end":return t.stop()}}),t)})))()}}},ni=ri,ii=(a("87af"),Object(f["a"])(ni,Zn,ei,!1,null,"160223a2",null)),oi=ii.exports,si=a("38e4"),li=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-wrapper",class:e.classObj},["mobile"===e.device&&e.sidebar.opened?a("div",{staticClass:"drawer-bg",on:{click:e.handleClickOutside}}):e._e(),a("sidebar",{staticClass:"sidebar-container"}),a("div",{staticClass:"main-container",class:{hasTagsView:e.needTagsView}},[a("div",{class:{"fixed-header":e.fixedHeader}},[a("navbar")],1),a("app-main"),e.showSettings?a("right-panel",[a("settings")],1):e._e()],1)],1)},ci=[],ui=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"rightPanel",staticClass:"rightPanel-container",class:{show:e.show}},[a("div",{staticClass:"rightPanel-background"}),a("div",{staticClass:"rightPanel"},[a("div",{staticClass:"handle-button",style:{top:e.buttonTop+"px","background-color":e.theme},on:{click:function(t){e.show=!e.show}}},[a("i",{class:e.show?"el-icon-close":"el-icon-setting"})]),a("div",{staticClass:"rightPanel-items"},[e._t("default")],2)])])},di=[],pi={name:"RightPanel",props:{clickNotClose:{default:!1,type:Boolean},buttonTop:{default:250,type:Number}},data:function(){return{show:!1}},computed:{theme:function(){return this.$store.state.settings.theme}},watch:{show:function(e){e&&!this.clickNotClose&&this.addEventClick(),e?Object(Ln["a"])(document.body,"showRightPanel"):Object(Ln["e"])(document.body,"showRightPanel")}},mounted:function(){this.insertToBody()},beforeDestroy:function(){var e=this.$refs.rightPanel;e.remove()},methods:{addEventClick:function(){window.addEventListener("click",this.closeSidebar)},closeSidebar:function(e){var t=e.target.closest(".rightPanel");t||(this.show=!1,window.removeEventListener("click",this.closeSidebar))},insertToBody:function(){var e=this.$refs.rightPanel,t=document.querySelector("body");t.insertBefore(e,t.firstChild)}}},mi=pi,fi=(a("3a82"),a("e4d6"),Object(f["a"])(mi,ui,di,!1,null,"7ce91d5a",null)),hi=fi.exports,vi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"app-main"},[a("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[a("router-view",{key:e.key})],1)],1)},gi=[],bi={name:"AppMain",computed:{cachedViews:function(){return this.$store.state.tagsView.cachedViews},key:function(){return this.$route.path}}},_i=bi,yi=(a("bd48"),a("5790"),Object(f["a"])(_i,vi,gi,!1,null,"2de02e4f",null)),xi=yi.exports,wi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"navbar"},[a("hamburger",{staticClass:"hamburger-container",attrs:{id:"hamburger-container","is-active":e.sidebar.opened},on:{toggleClick:e.toggleSideBar}}),a("breadcrumb",{staticClass:"breadcrumb-container",attrs:{id:"breadcrumb-container"}}),a("div",{staticClass:"right-menu"},["mobile"!==e.device?[a("el-dropdown",{staticClass:"right-menu-item hover-effect",attrs:{trigger:"click"}},[a("div",{staticClass:"avatar-wrapper"},[a("i",{staticClass:"el-icon-user-solid"}),a("i",{staticClass:"el-icon-caret-bottom"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("router-link",{attrs:{to:"/profile/index"}},[a("el-dropdown-item",[e._v("Profile")])],1),a("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(t){return e.logout(t)}}},[a("span",{staticStyle:{display:"block"}},[e._v("Log Out")])])],1)],1)]:e._e()],2)],1)},Si=[],ki=a("2f62"),Oi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-breadcrumb",{staticClass:"app-breadcrumb",attrs:{separator:"/"}},[a("transition-group",{attrs:{name:"breadcrumb"}},e._l(e.levelList,(function(t,r){return a("el-breadcrumb-item",{key:t.path},["noRedirect"===t.redirect||r===e.levelList.length-1?a("span",{staticClass:"no-redirect"},[e._v(e._s(t.meta.title))]):"/projectManagement"===t.path?a("a",{on:{click:function(a){return a.preventDefault(),e.handleLink(t)}}},[e._v(e._s(t.meta.title))]):a("span",{staticClass:"no-redirect"},[e._v(e._s(t.meta.title))])])})),1)],1)},Ci=[],Ti=a("0fd2"),Ei={data:function(){return{levelList:null}},watch:{$route:function(e){e.path.startsWith("/redirect/")||this.getBreadcrumb()}},created:function(){this.getBreadcrumb()},methods:{getBreadcrumb:function(){var e=this.$route.matched.filter((function(e){return e.meta&&e.meta.title})),t=e[0];this.isProject(t)||(e=[{path:"/projectManagement",meta:{title:"Project"}}].concat(e)),this.levelList=e.filter((function(e){return e.meta&&e.meta.title&&!1!==e.meta.breadcrumb}))},isProject:function(e){var t=e&&e.name;return!!t&&t.trim().toLocaleLowerCase()==="Project".toLocaleLowerCase()},pathCompile:function(e){var t=this.$route.params,a=Object(Ti["compile"])(e);return a(t)},handleLink:function(e){var t=e.redirect;e.path;t?this.$router.push(t):this.$router.push(this.pathCompile("/projectManagement/index"))}}},ji=Ei,Ri=(a("18c7"),Object(f["a"])(ji,Oi,Ci,!1,null,"5332fa1b",null)),Pi=Ri.exports,Di=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"0 15px"},on:{click:e.toggleClick}},[a("svg",{staticClass:"hamburger",class:{"is-active":e.isActive},attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64"}},[a("path",{attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"}})])])},$i=[],Fi={name:"Hamburger",props:{isActive:{type:Boolean,default:!1}},methods:{toggleClick:function(){this.$emit("toggleClick")}}},Ai=Fi,Ii=(a("8dd0"),Object(f["a"])(Ai,Di,$i,!1,null,"49e15297",null)),Ni=Ii.exports,Li=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.errorLogs.length>0?a("div",[a("el-badge",{staticStyle:{"line-height":"25px","margin-top":"-5px"},attrs:{"is-dot":!0},nativeOn:{click:function(t){e.dialogTableVisible=!0}}},[a("el-button",{staticStyle:{padding:"8px 10px"},attrs:{size:"small",type:"danger"}},[a("svg-icon",{attrs:{"icon-class":"bug"}})],1)],1),a("el-dialog",{attrs:{visible:e.dialogTableVisible,width:"80%","append-to-body":""},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("span",{staticStyle:{"padding-right":"10px"}},[e._v("Error Log")]),a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-delete"},on:{click:e.clearAll}},[e._v("Clear All")])],1),a("el-table",{attrs:{data:e.errorLogs,border:""}},[a("el-table-column",{attrs:{label:"Message"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("div",[a("span",{staticClass:"message-title"},[e._v("Msg:")]),a("el-tag",{attrs:{type:"danger"}},[e._v(" "+e._s(r.err.message)+" ")])],1),a("br"),a("div",[a("span",{staticClass:"message-title",staticStyle:{"padding-right":"10px"}},[e._v("Info: ")]),a("el-tag",{attrs:{type:"warning"}},[e._v(" "+e._s(r.vm.$vnode.tag)+" error in "+e._s(r.info)+" ")])],1),a("br"),a("div",[a("span",{staticClass:"message-title",staticStyle:{"padding-right":"16px"}},[e._v("Url: ")]),a("el-tag",{attrs:{type:"success"}},[e._v(" "+e._s(r.url)+" ")])],1)]}}],null,!1,3134886942)}),a("el-table-column",{attrs:{label:"Stack"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.err.stack)+" ")]}}],null,!1,2525805560)})],1)],1)],1):e._e()},Mi=[],Vi={name:"ErrorLog",data:function(){return{dialogTableVisible:!1}},computed:{errorLogs:function(){return this.$store.getters.errorLogs}},methods:{clearAll:function(){this.dialogTableVisible=!1,this.$store.dispatch("errorLog/clearErrorLog")}}},Bi=Vi,Ui=(a("6769"),Object(f["a"])(Bi,Li,Mi,!1,null,"be34583a",null)),zi=Ui.exports,Hi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("svg-icon",{attrs:{"icon-class":e.isFullscreen?"exit-fullscreen":"fullscreen"},on:{click:e.click}})],1)},qi=[],Gi=a("93bf"),Wi=a.n(Gi),Ji={name:"Screenfull",data:function(){return{isFullscreen:!1}},mounted:function(){this.init()},beforeDestroy:function(){this.destroy()},methods:{click:function(){if(!Wi.a.enabled)return this.$message({message:"you browser can not work",type:"warning"}),!1;Wi.a.toggle()},change:function(){this.isFullscreen=Wi.a.isFullscreen},init:function(){Wi.a.enabled&&Wi.a.on("change",this.change)},destroy:function(){Wi.a.enabled&&Wi.a.off("change",this.change)}}},Ki=Ji,Xi=(a("2abb"),Object(f["a"])(Ki,Hi,qi,!1,null,"1d75d652",null)),Qi=Xi.exports,Yi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleSetSize}},[a("div",[a("svg-icon",{attrs:{"class-name":"size-icon","icon-class":"size"}})],1),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.sizeOptions,(function(t){return a("el-dropdown-item",{key:t.value,attrs:{disabled:e.size===t.value,command:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)},Zi=[],eo={data:function(){return{sizeOptions:[{label:"Default",value:"default"},{label:"Medium",value:"medium"},{label:"Small",value:"small"},{label:"Mini",value:"mini"}]}},computed:{size:function(){return this.$store.getters.size}},methods:{handleSetSize:function(e){this.$ELEMENT.size=e,this.$store.dispatch("app/setSize",e),this.refreshView(),this.$message({message:"Switch Size Success",type:"success"})},refreshView:function(){var e=this;this.$store.dispatch("tagsView/delAllCachedViews",this.$route);var t=this.$route.fullPath;this.$nextTick((function(){e.$router.replace({path:"/redirect"+t})}))}}},to=eo,ao=Object(f["a"])(to,Yi,Zi,!1,null,null,null),ro=ao.exports,no=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-search",class:{show:e.show}},[a("svg-icon",{attrs:{"class-name":"search-icon","icon-class":"search"},on:{click:function(t){return t.stopPropagation(),e.click(t)}}}),a("el-select",{ref:"headerSearchSelect",staticClass:"header-search-select",attrs:{"remote-method":e.querySearch,filterable:"","default-first-option":"",remote:"",placeholder:"Search"},on:{change:e.change},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},e._l(e.options,(function(e){return a("el-option",{key:e.path,attrs:{value:e,label:e.title.join(" > ")}})})),1)],1)},io=[],oo=(a("841c"),a("ffe7")),so=a.n(oo),lo={name:"HeaderSearch",data:function(){return{search:"",options:[],searchPool:[],show:!1,fuse:void 0}},computed:{routes:function(){return this.$store.getters.permission_routes}},watch:{routes:function(){this.searchPool=this.generateRoutes(this.routes)},searchPool:function(e){this.initFuse(e)},show:function(e){e?document.body.addEventListener("click",this.close):document.body.removeEventListener("click",this.close)}},mounted:function(){this.searchPool=this.generateRoutes(this.routes)},methods:{click:function(){this.show=!this.show,this.show&&this.$refs.headerSearchSelect&&this.$refs.headerSearchSelect.focus()},close:function(){this.$refs.headerSearchSelect&&this.$refs.headerSearchSelect.blur(),this.options=[],this.show=!1},change:function(e){var t=this;this.$router.push(e.path),this.search="",this.options=[],this.$nextTick((function(){t.show=!1}))},initFuse:function(e){this.fuse=new so.a(e,{shouldSort:!0,threshold:.4,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:[{name:"title",weight:.7},{name:"path",weight:.3}]})},generateRoutes:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=[],o=Object(V["a"])(e);try{for(o.s();!(t=o.n()).done;){var s=t.value;if(!s.hidden){var l={path:Nn.a.resolve(a,s.path),title:Object(r["a"])(n)};if(s.meta&&s.meta.title&&(l.title=[].concat(Object(r["a"])(l.title),[s.meta.title]),"noRedirect"!==s.redirect&&i.push(l)),s.children){var c=this.generateRoutes(s.children,l.path,l.title);c.length>=1&&(i=[].concat(Object(r["a"])(i),Object(r["a"])(c)))}}}}catch(u){o.e(u)}finally{o.f()}return i},querySearch:function(e){this.options=""!==e?this.fuse.search(e):[]}}},co=lo,uo=(a("0185"),Object(f["a"])(co,no,io,!1,null,"7633dc5e",null)),po=uo.exports,mo={components:{Breadcrumb:Pi,Hamburger:Ni,ErrorLog:zi,Screenfull:Qi,SizeSelect:ro,Search:po},computed:Object(ta["a"])({},Object(ki["b"])(["sidebar","avatar","device"])),methods:{toggleSideBar:function(){this.$store.dispatch("app/toggleSideBar")},logout:function(){var e=this;return Object(c["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("user/logout");case 2:e.$router.push("/login?redirect=".concat(e.$route.fullPath));case 3:case"end":return t.stop()}}),t)})))()}}},fo=mo,ho=(a("ae92"),Object(f["a"])(fo,wi,Si,!1,null,"690c80dc",null)),vo=ho.exports,go=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"drawer-container"},[a("div",[a("h3",{staticClass:"drawer-title"},[e._v("Page style setting")]),a("div",{staticClass:"drawer-item"},[a("span",[e._v("Theme Color")]),a("theme-picker",{staticStyle:{float:"right",height:"26px",margin:"-3px 8px 0 0"},on:{change:e.themeChange}})],1),a("div",{staticClass:"drawer-item"},[a("span",[e._v("Open Tags-View")]),a("el-switch",{staticClass:"drawer-switch",model:{value:e.tagsView,callback:function(t){e.tagsView=t},expression:"tagsView"}})],1),a("div",{staticClass:"drawer-item"},[a("span",[e._v("Fixed Header")]),a("el-switch",{staticClass:"drawer-switch",model:{value:e.fixedHeader,callback:function(t){e.fixedHeader=t},expression:"fixedHeader"}})],1),a("div",{staticClass:"drawer-item"},[a("span",[e._v("Sidebar Logo")]),a("el-switch",{staticClass:"drawer-switch",model:{value:e.sidebarLogo,callback:function(t){e.sidebarLogo=t},expression:"sidebarLogo"}})],1)])])},bo=[],_o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-color-picker",{staticClass:"theme-picker",attrs:{predefine:["#409EFF","#1890ff","#304156","#212121","#11a983","#13c2c2","#6959CD","#f5222d"],"popper-class":"theme-picker-dropdown"},model:{value:e.theme,callback:function(t){e.theme=t},expression:"theme"}})},yo=[],xo=a("f6f8").version,wo="#409EFF",So={data:function(){return{chalk:"",theme:""}},computed:{defaultTheme:function(){return this.$store.state.settings.theme}},watch:{defaultTheme:{handler:function(e,t){this.theme=e},immediate:!0},theme:function(e){var t=this;return Object(c["a"])(Object(l["a"])().mark((function a(){var r,n,i,o,s,c,u,d;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=t.chalk?t.theme:wo,"string"===typeof e){a.next=3;break}return a.abrupt("return");case 3:if(n=t.getThemeCluster(e.replace("#","")),i=t.getThemeCluster(r.replace("#","")),console.log(n,i),o=t.$message({message:"  Compiling the theme",customClass:"theme-message",type:"success",duration:0,iconClass:"el-icon-loading"}),s=function(e,a){return function(){var r=t.getThemeCluster(wo.replace("#","")),i=t.updateStyle(t[e],r,n),o=document.getElementById(a);o||(o=document.createElement("style"),o.setAttribute("id",a),document.head.appendChild(o)),o.innerText=i}},t.chalk){a.next=12;break}return c="https://unpkg.com/element-ui@".concat(xo,"/lib/theme-chalk/index.css"),a.next=12,t.getCSSString(c,"chalk");case 12:u=s("chalk","chalk-style"),u(),d=[].slice.call(document.querySelectorAll("style")).filter((function(e){var t=e.innerText;return new RegExp(r,"i").test(t)&&!/Chalk Variables/.test(t)})),d.forEach((function(e){var a=e.innerText;"string"===typeof a&&(e.innerText=t.updateStyle(a,i,n))})),t.$emit("change",e),o.close();case 18:case"end":return a.stop()}}),a)})))()}},methods:{updateStyle:function(e,t,a){var r=e;return t.forEach((function(e,t){r=r.replace(new RegExp(e,"ig"),a[t])})),r},getCSSString:function(e,t){var a=this;return new Promise((function(r){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&200===n.status&&(a[t]=n.responseText.replace(/@font-face{[^}]+}/,""),r())},n.open("GET",e),n.send()}))},getThemeCluster:function(e){for(var t=function(e,t){var a=parseInt(e.slice(0,2),16),r=parseInt(e.slice(2,4),16),n=parseInt(e.slice(4,6),16);return 0===t?[a,r,n].join(","):(a+=Math.round(t*(255-a)),r+=Math.round(t*(255-r)),n+=Math.round(t*(255-n)),a=a.toString(16),r=r.toString(16),n=n.toString(16),"#".concat(a).concat(r).concat(n))},a=function(e,t){var a=parseInt(e.slice(0,2),16),r=parseInt(e.slice(2,4),16),n=parseInt(e.slice(4,6),16);return a=Math.round((1-t)*a),r=Math.round((1-t)*r),n=Math.round((1-t)*n),a=a.toString(16),r=r.toString(16),n=n.toString(16),"#".concat(a).concat(r).concat(n)},r=[e],n=0;n<=9;n++)r.push(t(e,Number((n/10).toFixed(2))));return r.push(a(e,.1)),r}}},ko=So,Oo=(a("f26d"),Object(f["a"])(ko,_o,yo,!1,null,null,null)),Co=Oo.exports,To={components:{ThemePicker:Co},data:function(){return{}},computed:{fixedHeader:{get:function(){return this.$store.state.settings.fixedHeader},set:function(e){this.$store.dispatch("settings/changeSetting",{key:"fixedHeader",value:e})}},tagsView:{get:function(){return this.$store.state.settings.tagsView},set:function(e){this.$store.dispatch("settings/changeSetting",{key:"tagsView",value:e})}},sidebarLogo:{get:function(){return this.$store.state.settings.sidebarLogo},set:function(e){this.$store.dispatch("settings/changeSetting",{key:"sidebarLogo",value:e})}}},methods:{themeChange:function(e){this.$store.dispatch("settings/changeSetting",{key:"theme",value:e})}}},Eo=To,jo=(a("4d27"),Object(f["a"])(Eo,go,bo,!1,null,"5d274279",null)),Ro=jo.exports,Po=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{"has-logo":e.showLogo}},[e.showLogo?a("logo",{attrs:{collapse:e.isCollapse}}):e._e(),a("el-scrollbar",{attrs:{"wrap-class":"scrollbar-wrapper"}},[a("el-menu",{attrs:{"default-active":e.activeMenu,collapse:e.isCollapse,"background-color":e.variables.menuBg,"text-color":e.variables.menuText,"unique-opened":!1,"active-text-color":e.variables.menuActiveText,"collapse-transition":!1,mode:"vertical"}},e._l(e.permission_routes,(function(e){return a("sidebar-item",{key:e.path,attrs:{item:e,"base-path":e.path}})})),1)],1)],1)},Do=[],$o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar-logo-container",class:{collapse:e.collapse}},[a("transition",{attrs:{name:"sidebarLogoFade"}},[e.collapse?a("router-link",{key:"collapse",staticClass:"sidebar-logo-link",attrs:{to:"/"}},[e.logo?a("img",{staticClass:"sidebar-logo",attrs:{src:e.logo}}):a("h1",{staticClass:"sidebar-title"},[e._v(e._s(e.title)+" ")])]):a("router-link",{key:"expand",staticClass:"sidebar-logo-link",attrs:{to:"/"}},[e.logo?a("img",{staticClass:"sidebar-logo",attrs:{src:e.logo}}):e._e(),a("h1",{staticClass:"sidebar-title"},[e._v(e._s(e.title)+" ")])])],1)],1)},Fo=[],Ao={name:"SidebarLogo",props:{collapse:{type:Boolean,required:!0}},data:function(){return{title:"Vue Element Admin",logo:"https://wpimg.wallstcn.com/69a1c46c-eb1c-4b46-8bd4-e9e686ef5251.png"}}},Io=Ao,No=(a("f060"),Object(f["a"])(Io,$o,Fo,!1,null,"c28012ce",null)),Lo=No.exports,Mo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.item.hidden?e._e():a("div",[!e.hasOneShowingChild(e.item.children,e.item)||e.onlyOneChild.children&&!e.onlyOneChild.noShowingChildren||e.item.alwaysShow?a("el-submenu",{ref:"subMenu",attrs:{index:e.resolvePath(e.item.path),"popper-append-to-body":""}},[a("template",{slot:"title"},[e.item.meta?a("item",{attrs:{icon:e.item.meta&&e.item.meta.icon,title:e.item.meta.title}}):e._e()],1),e._l(e.item.children,(function(t){return a("sidebar-item",{key:t.path,staticClass:"nest-menu",attrs:{"is-nest":!0,item:t,"base-path":e.resolvePath(t.path)}})}))],2):[e.onlyOneChild.meta?a("app-link",{attrs:{to:e.resolvePath(e.onlyOneChild.path)}},[a("el-menu-item",{class:{"submenu-title-noDropdown":!e.isNest},attrs:{index:e.resolvePath(e.onlyOneChild.path)}},[a("item",{attrs:{icon:e.onlyOneChild.meta.icon||e.item.meta&&e.item.meta.icon,title:e.onlyOneChild.meta.title}})],1)],1):e._e()]],2)},Vo=[],Bo=a("61f7"),Uo={name:"MenuItem",functional:!0,props:{icon:{type:String,default:""},title:{type:String,default:""}},render:function(e,t){var a=t.props,r=a.icon,n=a.title,i=[];return r&&(r.includes("el-icon")?i.push(e("i",{class:[r,"sub-el-icon"]})):i.push(e("svg-icon",{attrs:{"icon-class":r}}))),n&&i.push(e("span",{slot:"title"},[n])),i}},zo=Uo,Ho=(a("f87e"),Object(f["a"])(zo,Gn,Wn,!1,null,"18eeea00",null)),qo=Ho.exports,Go=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(e.type,e._b({tag:"component"},"component",e.linkProps(e.to),!1),[e._t("default")],2)},Wo=[],Jo={props:{to:{type:String,required:!0}},computed:{isExternal:function(){return Object(Bo["b"])(this.to)},type:function(){return this.isExternal?"a":"router-link"}},methods:{linkProps:function(e){return this.isExternal?{href:e,target:"_blank",rel:"noopener"}:{to:e}}}},Ko=Jo,Xo=Object(f["a"])(Ko,Go,Wo,!1,null,null,null),Qo=Xo.exports,Yo={computed:{device:function(){return this.$store.state.app.device}},mounted:function(){this.fixBugIniOS()},methods:{fixBugIniOS:function(){var e=this,t=this.$refs.subMenu;if(t){var a=t.handleMouseleave;t.handleMouseleave=function(t){"mobile"!==e.device&&a(t)}}}}},Zo={name:"SidebarItem",components:{Item:qo,AppLink:Qo},mixins:[Yo],props:{item:{type:Object,required:!0},isNest:{type:Boolean,default:!1},basePath:{type:String,default:""}},data:function(){return this.onlyOneChild=null,{}},methods:{hasOneShowingChild:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0,r=t.filter((function(t){return!t.hidden&&(e.onlyOneChild=t,!0)}));return 1===r.length||0===r.length&&(this.onlyOneChild=Object(ta["a"])(Object(ta["a"])({},a),{},{path:"",noShowingChildren:!0}),!0)},resolvePath:function(e){return Object(Bo["b"])(e)?e:Object(Bo["b"])(this.basePath)?this.basePath:Nn.a.resolve(this.basePath,e)}}},es=Zo,ts=Object(f["a"])(es,Mo,Vo,!1,null,null,null),as=ts.exports,rs=a("cf1e"),ns=a.n(rs),is={components:{SidebarItem:as,Logo:Lo},computed:Object(ta["a"])(Object(ta["a"])({},Object(ki["b"])(["permission_routes","sidebar"])),{},{activeMenu:function(){var e=this.$route,t=e.meta,a=e.path;return t.activeMenu?t.activeMenu:a},showLogo:function(){return this.$store.state.settings.sidebarLogo},variables:function(){return ns.a},isCollapse:function(){return!this.sidebar.opened}})},os=is,ss=Object(f["a"])(os,Po,Do,!1,null,null,null),ls=ss.exports,cs=document,us=cs.body,ds=992,ps={watch:{$route:function(e){"mobile"===this.device&&this.sidebar.opened&&vt["a"].dispatch("app/closeSideBar",{withoutAnimation:!1})}},beforeMount:function(){window.addEventListener("resize",this.$_resizeHandler)},beforeDestroy:function(){window.removeEventListener("resize",this.$_resizeHandler)},mounted:function(){var e=this.$_isMobile();e&&(vt["a"].dispatch("app/toggleDevice","mobile"),vt["a"].dispatch("app/closeSideBar",{withoutAnimation:!0}))},methods:{$_isMobile:function(){var e=us.getBoundingClientRect();return e.width-1<ds},$_resizeHandler:function(){if(!document.hidden){var e=this.$_isMobile();vt["a"].dispatch("app/toggleDevice",e?"mobile":"desktop"),e&&vt["a"].dispatch("app/closeSideBar",{withoutAnimation:!0})}}}},ms={name:"Layout",components:{AppMain:xi,Navbar:vo,RightPanel:hi,Settings:Ro,Sidebar:ls},mixins:[ps],computed:Object(ta["a"])(Object(ta["a"])({},Object(ki["c"])({sidebar:function(e){return e.app.sidebar},device:function(e){return e.app.device},showSettings:function(e){return e.settings.showSettings},needTagsView:function(e){return e.settings.tagsView},fixedHeader:function(e){return e.settings.fixedHeader}})),{},{classObj:function(){return{hideSidebar:!this.sidebar.opened,openSidebar:this.sidebar.opened,withoutAnimation:this.sidebar.withoutAnimation,mobile:"mobile"===this.device}}}),methods:{handleClickOutside:function(){this.$store.dispatch("app/closeSideBar",{withoutAnimation:!1})}}},fs=ms,hs=(a("0faf"),Object(f["a"])(fs,li,ci,!1,null,"2c1500e4",null)),vs=hs.exports;n["default"].use(i["a"]);var gs=[{path:"/redirect",component:vs,hidden:!0,children:[{path:"/redirect/:path(.*)",component:function(){return a.e("chunk-2d230fe7").then(a.bind(null,"ef3c"))}}]},{path:"/login",component:function(){return a.e("chunk-5edfe8bb").then(a.bind(null,"9ed6"))},hidden:!0},{path:"/auth-redirect",component:function(){return a.e("chunk-2d2105d3").then(a.bind(null,"b829"))},hidden:!0},{path:"/404",component:function(){return a.e("chunk-ec9447d4").then(a.bind(null,"1db4"))},hidden:!0},{path:"/401",component:function(){return a.e("chunk-d7746bda").then(a.bind(null,"24e2"))},hidden:!0},{path:"/",component:vs,redirect:"/login"},{path:"/projectManagement",component:vs,children:[{path:"index",component:function(){return Promise.resolve().then(a.bind(null,"38e4"))},name:"Project Management",meta:{title:"Project Management",icon:"el-icon-s-grid",noCache:!0}}]},{path:"/profile",component:vs,hidden:!0,children:[{path:"index",component:function(){return a.e("chunk-9ab86930").then(a.bind(null,"ecac"))},name:"Profile",meta:{title:"Profile",icon:"user",noCache:!0}}]}],bs=[{path:"*",redirect:"/404",hidden:!0}],_s={parametersBusNew:v,derivedparameters:j,acmfHome:It,acmfRule:Ut,acmfTask:Yt,ruleEditPage:Mr,taskEditPage:Qr,acars:pn,acarsFormat:$n,roleManagement:Yn,userManagement:oi,projectManagement:si["default"],editderivedparameters:Ye},ys=function(){return new i["a"]({scrollBehavior:function(){return{y:0}},routes:gs})},xs=ys();function ws(e){if(e){e.forEach((function(e){e.component=vs,e.children.forEach((function(e){e.componentTest&&(e.component=_s[e.componentTest])}))}));var t=new i["a"]({scrollBehavior:function(){return{y:0}},routes:e});bs.length=0,bs.push.apply(bs,Object(r["a"])(e)),n["default"].use(i["a"]),xs.matcher=t.matcher}else{var a=ys();xs.matcher=a.matcher}}xs.beforeEach((function(e,t,a){var r=e.path;if("/"!==r){var n=performance.getEntriesByType("navigation"),i=n.length>0&&"Reload"===n[0].type;if(i&&"/parametersBus/index"!==e.path)a("/parametersBus/index");else{var o=gs.find((function(e){return"/projectManagement"==e.path}));console.log("projectManagementRoute:4444",o),o&&(r.includes("projectManagement")||r.includes("userManagement")?o.hidden=!1:o.hidden=!0),a()}}else a("/parametersBus/index")}));t["c"]=xs},aa2d:function(e,t,a){"use strict";a("d70d")},ae92:function(e,t,a){"use strict";a("76c3")},b0b8:function(e,t,a){},b20f:function(e,t,a){e.exports={menuText:"#bfcbd9",menuActiveText:"#409eff",subMenuActiveText:"#f4f4f5",menuBg:"#304156",menuHover:"#263445",subMenuBg:"#1f2d3d",subMenuHover:"#001528",sideBarWidth:"210px"}},b747:function(e,t,a){},b775:function(e,t,a){"use strict";a("d9e2"),a("d3b7");var r=a("cee4"),n=a("5c96"),i=a("4360"),o=a("5f87"),s=a("4328"),l=a.n(s),c=r["a"].create({baseURL:"/prod-api",timeout:5e3,headers:{"Content-Type":"application/json"},paramsSerializer:{serialize:function(e){return l.a.stringify(e,{allowDots:!0})}}});c.interceptors.request.use((function(e){return i["a"].getters.token&&(e.headers["Authorization"]="JWT ".concat(Object(o["a"])())),e}),(function(e){return console.log(e),Promise.reject(e)})),c.interceptors.response.use((function(e){var t=e.data;return 2e3!==t.code&&2e4!==t.code?(Object(n["Message"])({message:t.message||"Error",type:"error",duration:5e3}),50008!==t.code&&50012!==t.code&&50014!==t.code||n["MessageBox"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then((function(){i["a"].dispatch("user/resetToken").then((function(){location.reload()}))})),Promise.reject(new Error(t.message||"Error"))):t}),(function(e){return console.log("err"+e),Object(n["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)})),t["a"]=c},bae7:function(e,t,a){},bd48:function(e,t,a){"use strict";a("78b6")},c137:function(e,t,a){"use strict";a("8467")},c22a:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a("3835"),n=(a("99af"),a("4de4"),a("a15b"),a("d81d"),a("4fad"),a("d3b7"),a("b775")),i=a("365c"),o=i["a"]+"api/system/parameter/";function s(e){var t=Object.entries(e).filter((function(e){var t=Object(r["a"])(e,2),a=(t[0],t[1]);return null!==a&&""!==a})).map((function(e){var t=Object(r["a"])(e,2),a=t[0],n=t[1];return"".concat(a,"=").concat(encodeURIComponent(n))})).join("&"),a=o+(t?"?".concat(t):"");return Object(n["a"])({url:a,method:"get",query:e})}},c24f:function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"f",(function(){return s})),a.d(t,"a",(function(){return l})),a.d(t,"j",(function(){return c})),a.d(t,"h",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"b",(function(){return p})),a.d(t,"i",(function(){return m})),a.d(t,"c",(function(){return f})),a.d(t,"g",(function(){return h}));a("99af");var r=a("b775"),n=a("365c"),i=n["a"]+"api/system/user/";function o(e){return Object(r["a"])({url:n["a"]+"api/login/",method:"post",data:e})}function s(){return Object(r["a"])({url:"/vue-element-admin/user/logout",method:"post"})}function l(e){return Object(r["a"])({url:n["a"]+"api/system/user/user_info/",method:"get",token:e})}function c(e){return Object(r["a"])({url:n["a"]+"api/system/user/update_user_info/",method:"put",data:e})}function u(e){return Object(r["a"])({url:n["a"]+"api/system/user/change_password/",method:"put",data:e})}function d(e){return Object(r["a"])({url:i+"?page=".concat(e.page,"&limit=").concat(e.limit),method:"get",query:e})}function p(e){return Object(r["a"])({url:i,method:"post",data:e})}function m(e){return Object(r["a"])({url:i+e.id+"/",method:"put",data:e})}function f(e){return Object(r["a"])({url:i+e+"/",method:"delete",data:{id:e}})}function h(e){return Object(r["a"])({url:i+e+"/reset_to_default_password/",method:"put"})}},c459:function(e,t,a){},c469:function(e,t,a){},c4aa:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_congzheng_Desktop_ACMT_ACMT_VUE_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("b85c"),core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("d9e2"),core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("fb6a"),core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("4e82"),core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("a434"),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("e9c4"),core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("b64b"),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("00b4"),core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("5319"),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_string_replace_all_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("5b81"),core_js_modules_es_string_replace_all_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_string_replace_all_js__WEBPACK_IMPORTED_MODULE_10__),_utils_validator_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("7b0a"),_utils_json_parser_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("5090");__webpack_exports__["a"]={data:function(){var e=function(e,t,a){console.log("value",t),Object(_utils_validator_js__WEBPACK_IMPORTED_MODULE_11__["b"])(t)?a():a(new Error("illegal_compute"))},t=function(e,t,a){Object(_utils_validator_js__WEBPACK_IMPORTED_MODULE_11__["a"])(t)?a():a(new Error("illegal_bracket"))};return{standardForm:{validity:"",condition:"",parameterSelect:[],derivedParameterValue:NaN},judgeChange:!1,parameterCheck:[],rules:{condition:[{required:!0,validator:e,trigger:"change"},{required:!0,validator:t,trigger:"change"}]},options:[{value:"Automatic",label:"Automatic"},{value:"Invalid",label:"Invalid"},{value:"Valid",label:"Valid"}]}},computed:{trigger:function(){return this.standardForm["condition"]}},watch:{trigger:function(e,t){this.submitForm("standardForm")},"standardForm.validity":function(e,t){this.submitForm("standardForm")}},mounted:function(){var e=this;this.$bus.$on("standard",(function(t){var a=e.$store.state.parameters.calculationBlur.selectionStart,r=e.standardForm["condition"].replace(/^['"]|['"]$/g,"");e.standardForm["condition"]=r.slice(0,a)+t+r.slice(a)})),this.$bus.$on("derivedParameter",(function(t){e.computeStandard()}))},created:function(){var e=this.$route.query.rowData;e&&"{}"!=JSON.parse(e).calculation_standard&&(this.standardForm=Object(_utils_json_parser_js__WEBPACK_IMPORTED_MODULE_12__["a"])(JSON.parse(e).calculation_standard))},methods:{standardBlur:function(e){this.$store.commit("parameters/calculationBlur",e.srcElement)},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){e?(t.parameterCheck=[],t.parameterCheck.sort((function(e,t){return t["parameter"].length-e["parameter"].length})),t.$store.commit("parameters/parameterWithValue",t.parameterCheck),t.computeStandard()):(t.$store.commit("parameters/parameterWithValue",[]),t.standardForm["derivedParameterValue"]="NULL");var a={condition:JSON.stringify(t.standardForm["condition"]),validity:t.standardForm["validity"]};t.$store.dispatch("derivedParameters/clearParameters"),t.$store.dispatch("derivedParameters/updateStandardForm",a)}))},onStandardChange:function(e){this.standardForm.validity=e,this.$store.dispatch("derivedParameters/clearParameters"),this.$store.dispatch("derivedParameters/updateStandardForm",this.standardForm)},computeStandard:function computeStandard(){var inputStandard=this.standardForm["condition"],_iterator=Object(_Users_congzheng_Desktop_ACMT_ACMT_VUE_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_0__["a"])(this.$store.state.parameters.parameterWithValue),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var p=_step.value;inputStandard=inputStandard.replaceAll(p["parameter"],p["value"])}}catch(err){_iterator.e(err)}finally{_iterator.f()}this.standardForm["derivedParameterValue"]=eval(inputStandard),this.$store.commit("parameters/derivedParameterValue",this.standardForm["derivedParameterValue"]),console.log("is?")},isNumber:function(e){var t=/^\d+(\.\d+)?$/,a=/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/;return!(!t.test(e)&&!a.test(e))},sumResutl:function(e){var t=e.indexOf("*"),a=e.indexOf("/"),r=e.indexOf("-"),n=e.indexOf("+");if(-1!==t){var i=t-1,o=e[i]*e[t+1];e.splice(i,3,o),e.length>1&&this.sumResutl(e)}else if(-1!==a){var s=a-1,l=e[s]/e[a+1];e.splice(s,3,l),e.length>1&&this.sumResutl(e)}else if(-1!==r){var c=r-1,u=e[c]-e[r+1];e.splice(c,3,u),e.length>1&&this.sumResutl(e)}else if(-1!==n){var d=n-1,p=e[d]+e[n+1];e.splice(d,3,p),e.length>1&&this.sumResutl(e)}}}}},c4e4:function(e,t,a){"use strict";a("095c")},c653:function(e,t,a){var r={"./app.js":"d9cd","./derivedParameters.js":"652c","./errorLog.js":"4d49","./parameters.js":"8b4f","./parametersNew.js":"8bf6","./permission.js":"31c2","./rules.js":"753a","./settings.js":"0781","./tagsView.js":"7509","./tasks.js":"fa53","./user.js":"0f9a"};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id="c653"},c98d:function(e,t,a){},ca56:function(e,t,a){"use strict";a("b0b8")},cf1e:function(e,t,a){e.exports={menuText:"#bfcbd9",menuActiveText:"#409eff",subMenuActiveText:"#f4f4f5",menuBg:"#304156",menuHover:"#263445",subMenuBg:"#1f2d3d",subMenuHover:"#001528",sideBarWidth:"210px"}},cf69:function(e,t,a){},d00f:function(e,t,a){},d36a:function(e,t,a){"use strict";a("7ae2")},d70d:function(e,t,a){},d734:function(e,t,a){},d9cd:function(e,t,a){"use strict";a.r(t);var r=a("a78e"),n=a.n(r),i={sidebar:{opened:!n.a.get("sidebarStatus")||!!+n.a.get("sidebarStatus"),withoutAnimation:!1},device:"desktop",size:n.a.get("size")||"medium"},o={TOGGLE_SIDEBAR:function(e){e.sidebar.opened=!e.sidebar.opened,e.sidebar.withoutAnimation=!1,e.sidebar.opened?n.a.set("sidebarStatus",1):n.a.set("sidebarStatus",0)},CLOSE_SIDEBAR:function(e,t){n.a.set("sidebarStatus",0),e.sidebar.opened=!1,e.sidebar.withoutAnimation=t},TOGGLE_DEVICE:function(e,t){e.device=t},SET_SIZE:function(e,t){e.size=t,n.a.set("size",t)}},s={toggleSideBar:function(e){var t=e.commit;t("TOGGLE_SIDEBAR")},closeSideBar:function(e,t){var a=e.commit,r=t.withoutAnimation;a("CLOSE_SIDEBAR",r)},toggleDevice:function(e,t){var a=e.commit;a("TOGGLE_DEVICE",t)},setSize:function(e,t){var a=e.commit;a("SET_SIZE",t)}};t["default"]={namespaced:!0,state:i,mutations:o,actions:s}},de06:function(e,t,a){},def6:function(e,t,a){},e4d6:function(e,t,a){"use strict";a("5efb")},e602:function(e,t,a){},ea20:function(e,t,a){},ed08:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"e",(function(){return c}));var r=a("53ca");a("d9e2"),a("a630"),a("a15b"),a("d81d"),a("14d9"),a("fb6a"),a("b64b"),a("d3b7"),a("4d63"),a("c607"),a("ac1f"),a("2c3e"),a("00b4"),a("25f0"),a("6062"),a("1e70"),a("79a4"),a("c1a1"),a("8b00"),a("a4e7"),a("1e5a"),a("72c3"),a("3ca3"),a("466d"),a("4d90"),a("5319"),a("159b"),a("ddb0");function n(e,t){if(0===arguments.length||!e)return null;var a,n=t||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(r["a"])(e)?a=e:("string"===typeof e&&(e=/^[0-9]+$/.test(e)?parseInt(e):e.replace(new RegExp(/-/gm),"/")),"number"===typeof e&&10===e.toString().length&&(e*=1e3),a=new Date(e));var i={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()},o=n.replace(/{([ymdhisa])+}/g,(function(e,t){var a=i[t];return"a"===t?["日","一","二","三","四","五","六"][a]:a.toString().padStart(2,"0")}));return o}function i(e,t){e=10===(""+e).length?1e3*parseInt(e):+e;var a=new Date(e),r=Date.now(),i=(r-a)/1e3;return i<30?"刚刚":i<3600?Math.ceil(i/60)+"分钟前":i<86400?Math.ceil(i/3600)+"小时前":i<172800?"1天前":t?n(e,t):a.getMonth()+1+"月"+a.getDate()+"日"+a.getHours()+"时"+a.getMinutes()+"分"}function o(e){if(!e&&"object"!==Object(r["a"])(e))throw new Error("error arguments","deepClone");var t=e.constructor===Array?[]:{};return Object.keys(e).forEach((function(a){e[a]&&"object"===Object(r["a"])(e[a])?t[a]=o(e[a]):t[a]=e[a]})),t}function s(e,t){return!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function l(e,t){s(e,t)||(e.className+=" "+t)}function c(e,t){if(s(e,t)){var a=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(a," ")}}},f060:function(e,t,a){"use strict";a("f819")},f26d:function(e,t,a){"use strict";a("c469")},f3d6:function(e,t,a){var r=a("448a").default;a("99af"),a("4de4"),a("d3b7");var n=a("96eb"),i=a("8a60"),o=i.deepClone,s=a("f96b"),l=s.asyncRoutes,c=s.constantRoutes,u=o([].concat(r(c),r(l))),d=[{key:"admin",name:"admin",description:"Super Administrator. Have access to view all pages.",routes:u},{key:"editor",name:"editor",description:"Normal Editor. Can see all pages except permission page",routes:u.filter((function(e){return"/permission"!==e.path}))},{key:"visitor",name:"visitor",description:"Just a visitor. Can only see the home page and the document page",routes:[{path:"",redirect:"dashboard",children:[{path:"dashboard",name:"Dashboard",meta:{title:"dashboard",icon:"dashboard"}}]}]}];e.exports=[{url:"/vue-element-admin/routes",type:"get",response:function(e){return{code:2e4,data:u}}},{url:"/vue-element-admin/roles",type:"get",response:function(e){return{code:2e4,data:d}}},{url:"/vue-element-admin/role",type:"post",response:{code:2e4,data:{key:n.mock("@integer(300, 5000)")}}},{url:"/vue-element-admin/role/[A-Za-z0-9]",type:"put",response:{code:2e4,data:{status:"success"}}},{url:"/vue-element-admin/role/[A-Za-z0-9]",type:"delete",response:{code:2e4,data:{status:"success"}}}]},f5a2:function(e,t,a){},f6c3:function(e,t,a){},f7e6:function(e,t,a){"use strict";a("e602")},f819:function(e,t,a){},f87e:function(e,t,a){"use strict";a("279e")},f96b:function(e,t){var a=[{path:"/redirect",component:"layout/Layout",hidden:!0,children:[{path:"/redirect/:path*",component:"views/redirect/index"}]},{path:"/login",component:"views/login/index",hidden:!0}],r=[{id:1,parent:null,path:"/parametersbus",children:[{path:"index",name:"Bus Parameters",meta:{title:"Bus Parameters",icon:"list",noCache:!1,affix:!1}}]},{id:2,parent:null,path:"/derivedparameters",children:[{path:"index",name:"Derived Parameters",meta:{title:"Derived Parameters",icon:"el-icon-edit",noCache:!1,affix:!1}}]},{id:3,parent:null,path:"/acmf",children:[{id:4,parent:3,path:"home",name:"Home",hidden:!1,meta:{title:"Home",icon:"",noCache:!1,affix:!1}},{id:5,parent:3,path:"rule",name:"Rule",hidden:!1,meta:{title:"Rule",icon:"",noCache:!1,roles:["admin","editor"],affix:!1}},{id:6,parent:3,path:"task",name:"Task",hidden:!1,meta:{title:"Task",icon:"",noCache:!1,roles:["admin","public"],affix:!1}},{id:7,parent:3,path:"editrule",name:"EditRule",hidden:!1,meta:{title:"EditRule",icon:"",noCache:!0,roles:["admin"],affix:!1}},{id:8,parent:3,path:"editTask",name:"EditTask",hidden:!1,meta:{title:"EditTask",icon:"",roles:["admin"],noCache:!0,affix:!1}}],meta:{title:"ACMF",icon:"el-icon-document",noCache:!1,affix:!1}},{id:9,parent:null,path:"/acars",children:[{id:10,parent:9,path:"acarsReport",name:"Acars Report",hidden:!1,meta:{title:"Acars Report",icon:"",noCache:!1,roles:["admin"],affix:!1}},{id:11,parent:9,path:"acarsFormat",name:"Acars Format",hidden:!1,meta:{title:"Acars Format",icon:"",roles:["admin"],noCache:!1,affix:!1}}],meta:{title:"Acars",icon:"el-icon-reading",noCache:!1,affix:!1}},{id:12,parent:null,path:"/userManagement",children:[{id:13,parent:12,path:"roleManagement",name:"Role Management",hidden:!1,meta:{title:"Role Management",icon:"",noCache:!1,affix:!1}},{id:14,parent:12,path:"userManagement",name:"User Management",hidden:!1,meta:{title:"User Management",icon:"",noCache:!1,affix:!1}}],meta:{title:"Management",icon:"el-icon-setting",noCache:!1,affix:!1}},{path:"*",redirect:"/404",hidden:!0}];e.exports={constantRoutes:a,asyncRoutes:r}},fa53:function(e,t,a){"use strict";a.r(t);var r={totalTask:[],ruleTaskLibrary:[]},n={taskChange:function(e,t){e.totalTask=t,e.ruleTaskLibrary=t}};t["default"]={namespaced:!0,state:r,mutations:n}},fb76:function(e,t,a){}},[[0,"runtime","chunk-elementUI","chunk-libs"]]]);